{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[52],{\"/7G9\":function(e,t,n){\"use strict\";n.r(t);var o=n(\"q1tI\"),a=n.n(o),r=n(\"sVM9\"),i=n.n(r),c=n(\"tsqr\"),s=n(\"2/Rp\"),l=n(\"vDqi\"),u=n.n(l),f=n(\"wd/R\"),d=n.n(f),p=a.a.createElement;t.default=function(e){var t=e.profile,n=e.notif,r=e.all,l=Object(o.useState)(n.Message.length<150),f=l[0],m=l[1],y=Object(o.useState)(),v=y[0],g=y[1],C=Object(o.useState)(!0),b=C[0],N=C[1],h=d()(n.day).isSame(Date.now(),\"day\"),S=Object(o.useState)(\"\"),w=S[0],x=S[1],k=Object(o.useState)(!1),A=k[0],F=k[1],_=Object(o.useState)(!1),$=_[0],E=_[1];d.a.locale(\"fr\"),Object(o.useEffect)((function(){u.a.get(\"http://localhost:9000/profiles/profile?userid=\"+n.SenderId,{withCredentials:!0}).then((function(e){g(e.data.profile),N(!1)})).catch((function(e){return console.log(e)})),u.a.get(\"http://localhost:9000/profiles/viewedNot\",{withCredentials:!0}).then((function(e){})).catch((function(e){return console.log(e)}))}),[]);if(b)return null;new Date;return p(a.a.Fragment,null,\"Request\"===n.Type&&p(\"div\",{className:\"NotifCard\"},p(\"p\",null,p(\"strong\",{style:{color:\"#0C72BF\"}},\"Ce client\"),\" \",\"souhaite r\\xe9server une r\\xe9union Le\",\" \",p(\"strong\",{style:{color:\"#0C72BF\"}},n.day,\" \"),\"a\",\" \",p(\"strong\",{style:{color:\"#0C72BF\"}},n.horraire)),p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:v.Usrimg})),p(\"div\",{className:\"ProfileInfo\"},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\"},p(\"h3\",null,void 0===v.companyname||\"\"===v.companyname?v.nom+\" \"+v.prenom:v.companyname)))),p(\"div\",{className:\"Card_Body\"},p(\"h3\",null,\"Message\"),p(\"p\",null,f?n.Message:n.Message.substr(0,150),f?\"\":p(\"span\",{className:\"more\",onClick:function(){return m(!0)}},\"Voir plus\"))),p(\"div\",{className:\"Card_footer\"},null===n.AcceptStatus&&p(a.a.Fragment,null,p(\"button\",{className:\"Accepter\",onClick:function(){E(!0),x(\"accepted\")}},\"Accepter\"),p(\"button\",{className:\"Refuser\",onClick:function(){E(!0),x(\"refused\")}},\"Refuser\")),!0===n.AcceptStatus&&p(\"div\",null,p(\"label\",{style:{color:\"#02C39A\"}},p(\"i\",{style:{marginRight:\"5px\"},className:\"fa fa-check\",\"aria-hidden\":\"true\"}),\"Accept\\xe9\")),!1===n.AcceptStatus&&p(a.a.Fragment,null,p(\"label\",{style:{color:\"#CF0004\"}},p(\"i\",{className:\"fa fa-times\",\"aria-hidden\":\"true\",style:{marginRight:\"5px\"}}),\"Refus\\xe9\"))),p(\"div\",{style:{marginTop:\"20px\",display:\"flex\",flexDirection:\"column\"}},p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\",padding:\"8px 15px\"}},d()(n.date).fromNow()),!h&&!0===n.AcceptStatus&&p(a.a.Fragment,null,p(\"label\",{className:\"cancel\",onClick:function(){E(!0),x(\"canceled\")}},\"Annuler la r\\xe9union\"))),p(i.a,{visible:$,width:\"20vw\",onCancel:function(){return E(!1)},footer:[p(s.a,{disabled:!1,key:\"submit\",type:\"primary\",loading:A,style:{borderRadius:\"10px\",fontFamily:\"GlacialBold\"},onClick:function(){F(!0),\"accepted\"===w&&(n.AcceptStatus=!0),(\"refused\"===w||\"canceled\"===w)&&(n.AcceptStatus=!1),!1===n.AcceptStatus&&r.splice(r.indexOf(n)),!1===n.AcceptStatus&&t.booked[n.day].splice(t.booked[n.day].indexOf(n.horraire),1);var e={Notification:r,booked:t.booked};u.a.post(\"http://localhost:9000/profiles/updatebook\",e,{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));var o={Notification:{Type:\"Response\",Message:\"Request \"+w,horraire:n.horraire,day:n.day,AcceptStatus:\"accepted\"===w}};u.a.post(\"http://localhost:9000/profiles/bookmeeting?userid=\"+n.SenderId,o,{withCredentials:!0}).then((function(e){F(!1),E(!1),c.b.success(\"mise \\xe0 jour effectu\\xe9e avec succ\\xe8s\")})).catch((function(e){return console.log(e)}))}},\"Je suis s\\xfbr !\")]},p(\"h3\",null,\"\\xcates-vous s\\xfbr de vouloir \",\"accepted\"===w?\"accepter\":\"refuser\",\" cette demande?\"))),\"Response\"===n.Type&&n.AcceptStatus&&p(\"div\",{className:\"NotifCard\"},p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:v.Usrimg}))),p(\"p\",{style:{color:\"#02C39A\"}},p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\",style:{color:\"#02C39A\"}},v.companyname)),\" \",\"a accept\\xe9 votre demande\",\" \"),p(\"div\",{className:\"Card_Body\"},p(\"p\",{style:{color:\"#2a2a2a\",fontSize:\"15px\"}},\"Votre rendez-vous est pr\\xe9vue\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.day),\" \",\"a\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.horraire))),p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\"}},d()(n.date).fromNow())),\"Response\"===n.Type&&!n.AcceptStatus&&p(\"div\",{className:\"NotifCard\"},p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:v.Usrimg}))),p(\"p\",{style:{color:\"#CF0004\"}},p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\",style:{color:\"#CF0004\"}},v.companyname)),\" \",\"Request canceled\"===n.Message?\"a annul\\xe9 la r\\xe9union \":\"a refus\\xe9 votre demande \"),p(\"div\",{className:\"Card_Body\"},p(\"p\",{style:{color:\"#2a2a2a\",fontSize:\"15px\"}},\"Cette entreprise ne peut pas vous rencontrer Le\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.day),\" \",\"a\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.horraire),\" essayez une autre date .\")),p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\"}},d()(n.date).fromNow())))}},\"8lzZ\":function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSP\",(function(){return m}));var o=n(\"q1tI\"),a=n.n(o),r=n(\"ZHh6\"),i=n(\"tXcZ\"),c=n(\"aIN1\"),s=n(\"W9HT\"),l=(n(\"64p0\"),n(\"/7G9\")),u=n(\"2lEd\"),f=n(\"wd/R\"),d=n.n(f),p=a.a.createElement,m=!0;t.default=function(e){var t=Object(o.useState)(!0),n=t[0],f=t[1],m=Object(o.useState)(),y=m[0],v=m[1];Object(o.useEffect)((function(){if(401===e.statusCode){var t=\"/Auth/Signin/?ref=tokenexpired&location=\"+window.location.href;window.location.replace(t)}else console.log(e.data.profile.Notification),v(e.data.profile),f(!1)}),[]);var g=void 0===y?\"\":y.Notification;return\"\"!==g&&g.sort((function(e,t){var n=d()(e.date);return d()(t.date).diff(n)})),n?p(a.a.Fragment,null,p(i.a,{title:\"Loading\"}),p(\"div\",{style:{position:\"fixed\",top:\"50%\",left:\"50%\",marginTop:\"-50px\",marginLeft:\"-50px\"}},p(s.a,{size:\"large\"}))):p(a.a.Fragment,null,p(\"div\",{className:\"body\"},p(r.a,null),p(i.a,{title:\"Notifications | 6Solutions\"}),p(\"div\",{className:\"NotifBody\"},p(\"div\",{className:\"NotTitle\"},p(\"span\",{className:\"icon-button\"},p(u.a,null)),p(\"h1\",{className:\"NotifHeader\"},\"Notifications\")),p(\"div\",{className:\"NotifContainer\"},g.map((function(e){return d()(e.day).isAfter(Date.now())||d()(e.day).isSame(Date.now(),\"day\")?p(l.default,{profile:y,key:e.SenderId,notif:e,all:g}):\"\"}))),0===g.length&&p(\"div\",{style:{display:\"flex\",alignItems:\"center\",flexDirection:\"column\"},className:\"nonot\"},p(\"img\",{src:\"../../static/Assets/box.png\"}),p(\"div\",{style:{textAlign:\"center\"}},p(\"h2\",null,\"Pas encore de notifications\"),p(\"p\",{style:{color:\"#24292E\"}},\"Allez r\\xe9server des r\\xe9unions.\"))))),p(c.a,null))}},TOwV:function(e,t,n){\"use strict\";e.exports=n(\"qT12\")},Zm9Q:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return i}));var o=n(\"q1tI\"),a=n.n(o),r=n(\"TOwV\");function i(e){var t=[];return a.a.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?t=t.concat(i(e)):Object(r.isFragment)(e)&&e.props?t=t.concat(i(e.props.children)):t.push(e))})),t}},qT12:function(e,t,n){\"use strict\";var o=\"function\"===typeof Symbol&&Symbol.for,a=o?Symbol.for(\"react.element\"):60103,r=o?Symbol.for(\"react.portal\"):60106,i=o?Symbol.for(\"react.fragment\"):60107,c=o?Symbol.for(\"react.strict_mode\"):60108,s=o?Symbol.for(\"react.profiler\"):60114,l=o?Symbol.for(\"react.provider\"):60109,u=o?Symbol.for(\"react.context\"):60110,f=o?Symbol.for(\"react.async_mode\"):60111,d=o?Symbol.for(\"react.concurrent_mode\"):60111,p=o?Symbol.for(\"react.forward_ref\"):60112,m=o?Symbol.for(\"react.suspense\"):60113,y=o?Symbol.for(\"react.suspense_list\"):60120,v=o?Symbol.for(\"react.memo\"):60115,g=o?Symbol.for(\"react.lazy\"):60116,C=o?Symbol.for(\"react.block\"):60121,b=o?Symbol.for(\"react.fundamental\"):60117,N=o?Symbol.for(\"react.responder\"):60118,h=o?Symbol.for(\"react.scope\"):60119;function S(e){if(\"object\"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case f:case d:case i:case s:case c:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case v:case l:return e;default:return t}}case r:return t}}}function w(e){return S(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=a,t.ForwardRef=p,t.Fragment=i,t.Lazy=g,t.Memo=v,t.Portal=r,t.Profiler=s,t.StrictMode=c,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||S(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return S(e)===u},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return\"object\"===typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===i},t.isLazy=function(e){return S(e)===g},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===r},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===c},t.isSuspense=function(e){return S(e)===m},t.isValidElementType=function(e){return\"string\"===typeof e||\"function\"===typeof e||e===i||e===d||e===s||e===c||e===m||e===y||\"object\"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===b||e.$$typeof===N||e.$$typeof===h||e.$$typeof===C)},t.typeOf=S},tsqr:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return O})),n.d(t,\"a\",(function(){return z}));var o,a=n(\"anXS\"),r=n.n(a),i=n(\"MF/n\"),c=n.n(i),s=n(\"q1tI\"),l=n(\"TSYQ\"),u=n.n(l),f=n(\"8tx+\"),d=n(\"gZBC\"),p=n.n(d),m=n(\"sKbD\"),y=n.n(m),v=n(\"kbBi\"),g=n.n(v),C=n(\"J84W\"),b=n.n(C),N=n(\"72Ab\"),h=n.n(N),S=n(\"Ntl0\"),w=n.n(S),x=n(\"8HVG\"),k=n(\"H84U\");var A,F,_,$=3,E=1,R=\"ant-message\",P=\"move-up\",j=!1;function O(){return E++}function B(e,t){var n=e.prefixCls||R;o?t({prefixCls:n,instance:o}):f.default.newInstance({prefixCls:n,transitionName:P,style:{top:A},getContainer:F,maxCount:_},(function(e){o?t({prefixCls:n,instance:o}):(o=e,t({prefixCls:n,instance:e}))}))}var I={info:h.a,success:b.a,error:g.a,warning:y.a,loading:p.a};function M(e,t){var n,o=void 0!==e.duration?e.duration:$,a=I[e.type],r=u()(\"\".concat(t,\"-custom-content\"),(n={},c()(n,\"\".concat(t,\"-\").concat(e.type),e.type),c()(n,\"\".concat(t,\"-rtl\"),!0===j),n));return{key:e.key,duration:o,style:e.style||{},className:e.className,content:s.createElement(\"div\",{className:r},e.icon||a&&s.createElement(a,null),s.createElement(\"span\",null,e.content)),onClose:e.onClose}}var T,G,q={open:function(e){var t=e.key||E++,n=new Promise((function(n){var o=function(){return\"function\"===typeof e.onClose&&e.onClose(),n(!0)};B(e,(function(n){var a=n.prefixCls;n.instance.notice(M(r()(r()({},e),{key:t,onClose:o}),a))}))})),a=function(){o&&o.removeNotice(t)};return a.then=function(e,t){return n.then(e,t)},a.promise=n,a},config:function(e){void 0!==e.top&&(A=e.top,o=null),void 0!==e.duration&&($=e.duration),void 0!==e.prefixCls&&(R=e.prefixCls),void 0!==e.getContainer&&(F=e.getContainer),void 0!==e.transitionName&&(P=e.transitionName,o=null),void 0!==e.maxCount&&(_=e.maxCount,o=null),void 0!==e.rtl&&(j=e.rtl)},destroy:function(){o&&(o.destroy(),o=null)}};function z(e,t){e[t]=function(n,o,a){return function(e){return\"[object Object]\"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(r()(r()({},n),{type:t})):(\"function\"===typeof o&&(a=o,o=void 0),e.open({content:n,duration:o,type:t,onClose:a}))}}[\"success\",\"info\",\"warning\",\"error\",\"loading\"].forEach((function(e){return z(q,e)})),q.warn=q.warning,q.useMessage=(T=B,G=M,function(){var e,t=null,n={add:function(e,n){null===t||void 0===t||t.component.add(e,n)}},o=Object(x.a)(n),a=w()(o,2),i=a[0],c=a[1],l=s.useRef({});return l.current.open=function(n){var o=n.prefixCls,a=e(\"message\",o),c=n.key||O(),s=new Promise((function(e){var o=function(){return\"function\"===typeof n.onClose&&n.onClose(),e(!0)};T(r()(r()({},n),{prefixCls:a}),(function(e){var a=e.prefixCls,s=e.instance;t=s,i(G(r()(r()({},n),{key:c,onClose:o}),a))}))})),l=function(){t&&t.removeNotice(c)};return l.then=function(e,t){return s.then(e,t)},l.promise=s,l},[\"success\",\"info\",\"warning\",\"error\",\"loading\"].forEach((function(e){return z(l.current,e)})),[l.current,s.createElement(k.a,{key:\"holder\"},(function(t){return e=t.getPrefixCls,c}))]});t.b=q},u9xB:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/Notifications\",function(){return n(\"8lzZ\")}])}},[[\"u9xB\",0,1,13,2,3,4,6,7,8,10,14,15,16,18,21,5]]]);","extractedComments":[]}