{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[51],{\"/7G9\":function(e,t,n){\"use strict\";n.r(t);var o=n(\"q1tI\"),r=n.n(o),a=n(\"sVM9\"),c=n.n(a),s=n(\"tsqr\"),i=n(\"2/Rp\"),l=n(\"vDqi\"),u=n.n(l),f=n(\"wd/R\"),d=n.n(f),p=r.a.createElement;t.default=function(e){var t=e.profile,n=e.notif,a=e.all,l=Object(o.useState)(n.Message.length<150),f=l[0],m=l[1],y=Object(o.useState)(),C=y[0],g=y[1],v=Object(o.useState)(!0),b=v[0],h=v[1],S=d()(n.day).isSame(Date.now(),\"day\"),N=Object(o.useState)(\"\"),w=N[0],x=N[1],k=Object(o.useState)(!1),F=k[0],$=k[1],_=Object(o.useState)(!1),A=_[0],R=_[1];d.a.locale(\"fr\"),Object(o.useEffect)((function(){u.a.get(\"http://15.237.56.214:9000/profiles/profile?userid=\"+n.SenderId,{withCredentials:!0}).then((function(e){g(e.data.profile),h(!1)})).catch((function(e){return console.log(e)})),u.a.get(\"http://15.237.56.214:9000/profiles/viewedNot\",{withCredentials:!0}).then((function(e){})).catch((function(e){return console.log(e)}))}),[]);if(b)return null;new Date;return p(r.a.Fragment,null,\"Request\"===n.Type&&p(\"div\",{className:\"NotifCard\"},p(\"p\",null,p(\"strong\",{style:{color:\"#0C72BF\"}},\"Ce client\"),\" \",\"souhaite r\\xe9server une r\\xe9union Le\",\" \",p(\"strong\",{style:{color:\"#0C72BF\"}},n.day,\" \"),\"a\",\" \",p(\"strong\",{style:{color:\"#0C72BF\"}},n.horraire)),p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:C.Usrimg})),p(\"div\",{className:\"ProfileInfo\"},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\"},p(\"h3\",null,void 0===C.companyname||\"\"===C.companyname?C.nom+\" \"+C.prenom:C.companyname)))),p(\"div\",{className:\"Card_Body\"},p(\"h3\",null,\"Message\"),p(\"p\",null,f?n.Message:n.Message.substr(0,150),f?\"\":p(\"span\",{className:\"more\",onClick:function(){return m(!0)}},\"Voir plus\"))),p(\"div\",{className:\"Card_footer\"},null===n.AcceptStatus&&p(r.a.Fragment,null,p(\"button\",{className:\"Accepter\",onClick:function(){R(!0),x(\"accepted\")}},\"Accepter\"),p(\"button\",{className:\"Refuser\",onClick:function(){R(!0),x(\"refused\")}},\"Refuser\")),!0===n.AcceptStatus&&p(\"div\",null,p(\"label\",{style:{color:\"#02C39A\"}},p(\"i\",{style:{marginRight:\"5px\"},className:\"fa fa-check\",\"aria-hidden\":\"true\"}),\"Accept\\xe9\")),!1===n.AcceptStatus&&p(r.a.Fragment,null,p(\"label\",{style:{color:\"#CF0004\"}},p(\"i\",{className:\"fa fa-times\",\"aria-hidden\":\"true\",style:{marginRight:\"5px\"}}),\"Refus\\xe9\"))),p(\"div\",{style:{marginTop:\"20px\",display:\"flex\",flexDirection:\"column\"}},p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\",padding:\"8px 15px\"}},d()(n.date).fromNow()),!S&&!0===n.AcceptStatus&&p(r.a.Fragment,null,p(\"label\",{className:\"cancel\",onClick:function(){R(!0),x(\"canceled\")}},\"Annuler la r\\xe9union\"))),p(c.a,{visible:A,width:\"20vw\",onCancel:function(){return R(!1)},footer:[p(i.a,{disabled:!1,key:\"submit\",type:\"primary\",loading:F,style:{borderRadius:\"10px\",fontFamily:\"GlacialBold\"},onClick:function(){$(!0),\"accepted\"===w&&(n.AcceptStatus=!0),(\"refused\"===w||\"canceled\"===w)&&(n.AcceptStatus=!1),!1===n.AcceptStatus&&a.splice(a.indexOf(n)),!1===n.AcceptStatus&&t.booked[n.day].splice(t.booked[n.day].indexOf(n.horraire),1);var e={Notification:a,booked:t.booked};u.a.post(\"http://15.237.56.214:9000/profiles/updatebook\",e,{withCredentials:!0}).then((function(e){console.log(e)})).catch((function(e){return console.log(e)}));var o={Notification:{Type:\"Response\",Message:\"Request \"+w,horraire:n.horraire,day:n.day,AcceptStatus:\"accepted\"===w}};u.a.post(\"http://15.237.56.214:9000/profiles/bookmeeting?userid=\"+n.SenderId,o,{withCredentials:!0}).then((function(e){$(!1),R(!1),s.b.success(\"mise \\xe0 jour effectu\\xe9e avec succ\\xe8s\")})).catch((function(e){return console.log(e)}))}},\"Je suis s\\xfbr !\")]},p(\"h3\",null,\"\\xcates-vous s\\xfbr de vouloir \",\"accepted\"===w?\"accepter\":\"refuser\",\" cette demande?\"))),\"Response\"===n.Type&&n.AcceptStatus&&p(\"div\",{className:\"NotifCard\"},p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:C.Usrimg}))),p(\"p\",{style:{color:\"#02C39A\"}},p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\",style:{color:\"#02C39A\"}},C.companyname)),\" \",\"a accept\\xe9 votre demande\",\" \"),p(\"div\",{className:\"Card_Body\"},p(\"p\",{style:{color:\"#2a2a2a\",fontSize:\"15px\"}},\"Votre rendez-vous est pr\\xe9vue\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.day),\" \",\"a\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.horraire))),p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\"}},d()(n.date).fromNow())),\"Response\"===n.Type&&!n.AcceptStatus&&p(\"div\",{className:\"NotifCard\"},p(\"div\",{className:\"Card_Head\"},p(\"div\",{className:\"ProfileImg\"},p(\"img\",{src:C.Usrimg}))),p(\"p\",{style:{color:\"#CF0004\"}},p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},p(\"a\",{href:\"/Profiles/\"+n.SenderId,className:\"profileLink\",style:{color:\"#CF0004\"}},C.companyname)),\" \",\"Request canceled\"===n.Message?\"a annul\\xe9 la r\\xe9union \":\"a refus\\xe9 votre demande \"),p(\"div\",{className:\"Card_Body\"},p(\"p\",{style:{color:\"#2a2a2a\",fontSize:\"15px\"}},\"Cette entreprise ne peut pas vous rencontrer Le\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.day),\" \",\"a\",\" \",p(\"strong\",{style:{fontFamily:\"GlacialBold\"}},n.horraire),\" essayez une autre date .\")),p(\"span\",{style:{fontFamily:\"GlacialRegular\",color:\"#006d77\"}},d()(n.date).fromNow())))}},TOwV:function(e,t,n){\"use strict\";e.exports=n(\"qT12\")},V1e6:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/Notifications/Components/NotifCard\",function(){return n(\"/7G9\")}])},Zm9Q:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var o=n(\"q1tI\"),r=n.n(o),a=n(\"TOwV\");function c(e){var t=[];return r.a.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?t=t.concat(c(e)):Object(a.isFragment)(e)&&e.props?t=t.concat(c(e.props.children)):t.push(e))})),t}},qT12:function(e,t,n){\"use strict\";var o=\"function\"===typeof Symbol&&Symbol.for,r=o?Symbol.for(\"react.element\"):60103,a=o?Symbol.for(\"react.portal\"):60106,c=o?Symbol.for(\"react.fragment\"):60107,s=o?Symbol.for(\"react.strict_mode\"):60108,i=o?Symbol.for(\"react.profiler\"):60114,l=o?Symbol.for(\"react.provider\"):60109,u=o?Symbol.for(\"react.context\"):60110,f=o?Symbol.for(\"react.async_mode\"):60111,d=o?Symbol.for(\"react.concurrent_mode\"):60111,p=o?Symbol.for(\"react.forward_ref\"):60112,m=o?Symbol.for(\"react.suspense\"):60113,y=o?Symbol.for(\"react.suspense_list\"):60120,C=o?Symbol.for(\"react.memo\"):60115,g=o?Symbol.for(\"react.lazy\"):60116,v=o?Symbol.for(\"react.block\"):60121,b=o?Symbol.for(\"react.fundamental\"):60117,h=o?Symbol.for(\"react.responder\"):60118,S=o?Symbol.for(\"react.scope\"):60119;function N(e){if(\"object\"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case f:case d:case c:case i:case s:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case C:case l:return e;default:return t}}case a:return t}}}function w(e){return N(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=c,t.Lazy=g,t.Memo=C,t.Portal=a,t.Profiler=i,t.StrictMode=s,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||N(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return N(e)===u},t.isContextProvider=function(e){return N(e)===l},t.isElement=function(e){return\"object\"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return N(e)===p},t.isFragment=function(e){return N(e)===c},t.isLazy=function(e){return N(e)===g},t.isMemo=function(e){return N(e)===C},t.isPortal=function(e){return N(e)===a},t.isProfiler=function(e){return N(e)===i},t.isStrictMode=function(e){return N(e)===s},t.isSuspense=function(e){return N(e)===m},t.isValidElementType=function(e){return\"string\"===typeof e||\"function\"===typeof e||e===c||e===d||e===i||e===s||e===m||e===y||\"object\"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===C||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===b||e.$$typeof===h||e.$$typeof===S||e.$$typeof===v)},t.typeOf=N},tsqr:function(e,t,n){\"use strict\";n.d(t,\"c\",(function(){return j})),n.d(t,\"a\",(function(){return V}));var o,r=n(\"anXS\"),a=n.n(r),c=n(\"MF/n\"),s=n.n(c),i=n(\"q1tI\"),l=n(\"TSYQ\"),u=n.n(l),f=n(\"8tx+\"),d=n(\"gZBC\"),p=n.n(d),m=n(\"sKbD\"),y=n.n(m),C=n(\"kbBi\"),g=n.n(C),v=n(\"J84W\"),b=n.n(v),h=n(\"72Ab\"),S=n.n(h),N=n(\"Ntl0\"),w=n.n(N),x=n(\"8HVG\"),k=n(\"H84U\");var F,$,_,A=3,R=1,P=\"ant-message\",E=\"move-up\",M=!1;function j(){return R++}function O(e,t){var n=e.prefixCls||P;o?t({prefixCls:n,instance:o}):f.default.newInstance({prefixCls:n,transitionName:E,style:{top:F},getContainer:$,maxCount:_},(function(e){o?t({prefixCls:n,instance:o}):(o=e,t({prefixCls:n,instance:e}))}))}var B={info:S.a,success:b.a,error:g.a,warning:y.a,loading:p.a};function G(e,t){var n,o=void 0!==e.duration?e.duration:A,r=B[e.type],a=u()(\"\".concat(t,\"-custom-content\"),(n={},s()(n,\"\".concat(t,\"-\").concat(e.type),e.type),s()(n,\"\".concat(t,\"-rtl\"),!0===M),n));return{key:e.key,duration:o,style:e.style||{},className:e.className,content:i.createElement(\"div\",{className:a},e.icon||r&&i.createElement(r,null),i.createElement(\"span\",null,e.content)),onClose:e.onClose}}var I,T,q={open:function(e){var t=e.key||R++,n=new Promise((function(n){var o=function(){return\"function\"===typeof e.onClose&&e.onClose(),n(!0)};O(e,(function(n){var r=n.prefixCls;n.instance.notice(G(a()(a()({},e),{key:t,onClose:o}),r))}))})),r=function(){o&&o.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(F=e.top,o=null),void 0!==e.duration&&(A=e.duration),void 0!==e.prefixCls&&(P=e.prefixCls),void 0!==e.getContainer&&($=e.getContainer),void 0!==e.transitionName&&(E=e.transitionName,o=null),void 0!==e.maxCount&&(_=e.maxCount,o=null),void 0!==e.rtl&&(M=e.rtl)},destroy:function(){o&&(o.destroy(),o=null)}};function V(e,t){e[t]=function(n,o,r){return function(e){return\"[object Object]\"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(a()(a()({},n),{type:t})):(\"function\"===typeof o&&(r=o,o=void 0),e.open({content:n,duration:o,type:t,onClose:r}))}}[\"success\",\"info\",\"warning\",\"error\",\"loading\"].forEach((function(e){return V(q,e)})),q.warn=q.warning,q.useMessage=(I=O,T=G,function(){var e,t=null,n={add:function(e,n){null===t||void 0===t||t.component.add(e,n)}},o=Object(x.a)(n),r=w()(o,2),c=r[0],s=r[1],l=i.useRef({});return l.current.open=function(n){var o=n.prefixCls,r=e(\"message\",o),s=n.key||j(),i=new Promise((function(e){var o=function(){return\"function\"===typeof n.onClose&&n.onClose(),e(!0)};I(a()(a()({},n),{prefixCls:r}),(function(e){var r=e.prefixCls,i=e.instance;t=i,c(T(a()(a()({},n),{key:s,onClose:o}),r))}))})),l=function(){t&&t.removeNotice(s)};return l.then=function(e,t){return i.then(e,t)},l.promise=i,l},[\"success\",\"info\",\"warning\",\"error\",\"loading\"].forEach((function(e){return V(l.current,e)})),[l.current,i.createElement(k.a,{key:\"holder\"},(function(t){return e=t.getPrefixCls,s}))]});t.b=q}},[[\"V1e6\",0,1,12,2,3,4,6,7,8,10,13,18,21]]]);","extractedComments":[]}