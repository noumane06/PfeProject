{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\components\\\\header.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport '../styles/header.scss';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProfileIcon from './svg/profile.js';\nimport SettingsIcon from './svg/settings.js';\nimport LogoutIcon from './svg/logout.js';\nimport NotifBell from './svg/NotifBell';\nimport { Badge } from 'antd';\nimport ToggleIcon from './svg/ToggleIcon';\nimport CalendarSvg from './svg/CalendarSvg';\n\nconst DropdownItem = props => {\n  return __jsx(\"div\", {\n    className: \"menuItem\",\n    onClick: props.onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"icon-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 13\n    }\n  }, props.lefticon), props.children);\n};\n\nconst DropDown = ({\n  userid,\n  count\n}) => {\n  const handleLogout = () => {\n    axios.get('http://localhost:9000/signout', {\n      withCredentials: true\n    }).then(res => window.location.reload()).catch(err => console.log(err));\n  };\n\n  return __jsx(\"div\", {\n    className: \"Dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, __jsx(DropdownItem, {\n    lefticon: __jsx(ProfileIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: `/Profiles/` + userid,\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 53\n    }\n  }, \"Mon profile\")), __jsx(DropdownItem, {\n    lefticon: __jsx(SettingsIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: `/accountsett/`,\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 54\n    }\n  }, \"Paremetres\")), __jsx(DropdownItem, {\n    lefticon: __jsx(CalendarSvg, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 37\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: `/Mycalendar/`,\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 53\n    }\n  }, \"Calendrier\")), __jsx(DropdownItem, {\n    lefticon: __jsx(Badge, {\n      count: count,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 37\n      }\n    }, __jsx(NotifBell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 58\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    href: `/Notifications/`,\n    style: {\n      textDecoration: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 81\n    }\n  }, \"Notifications\")), __jsx(DropdownItem, {\n    lefticon: __jsx(LogoutIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 37\n      }\n    }),\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Se d\\xE9connecter\"));\n}; // Componenet  -------------------------------------------------------------\n\n\nconst Header = ({\n  active\n}) => {\n  const {\n    0: userId,\n    1: setToken\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: checkStatus,\n    1: setCheckStatus\n  } = useState(false);\n  const {\n    0: opened,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: data,\n    1: setData\n  } = useState();\n  const count = data !== undefined ? data.NotifView : '';\n  useEffect(() => {\n    axios.get('http://localhost:9000/profiles/myprofile', {\n      withCredentials: true\n    }).then(res => {\n      setData(res.data.profile);\n      setLoading(false);\n      setToken(res.data.profile._id);\n    }).catch(err => {\n      setLoading(false);\n      setToken(null);\n      console.error(err);\n    });\n  }, []);\n\n  const handleClick = () => {\n    window.location.replace(\"/Auth/Signin\");\n  };\n\n  return __jsx(\"div\", {\n    className: \"Header_Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"NavSwitch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"toggle\",\n    onClick: () => setCheckStatus(!checkStatus),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \" \", __jsx(ToggleIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 85\n    }\n  }), \" \")), __jsx(\"div\", {\n    className: \"Header_Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"../static/Icons/LOGO2017.png\",\n    height: \"30\",\n    onClick: () => window.location.assign(\"/\"),\n    style: {\n      cursor: 'pointer'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: checkStatus ? \"GridNav visible\" : \"GridNav\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, __jsx(\"li\", {\n    className: active == \"acceuil\" ? \"active\" : \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 71\n    }\n  }, \"Acceuil\")), __jsx(\"li\", {\n    className: active == \"propos\" ? \"active\" : \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/propos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 70\n    }\n  }, \"A propos\")), __jsx(\"li\", {\n    className: active == \"temoignages\" ? \"active\" : \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/temoignages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 75\n    }\n  }, \"Temoignages\")), __jsx(\"li\", {\n    className: active == \"contact\" ? \"active\" : \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 71\n    }\n  }, \"Contact\")), __jsx(\"li\", {\n    className: active == \"questions\" ? \"active\" : \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, __jsx(\"a\", {\n    href: \"/questions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 73\n    }\n  }, \"Questions\"))), __jsx(\"div\", {\n    className: \"Header_Buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, !loading && userId === null && __jsx(React.Fragment, null, __jsx(\"input\", {\n    className: \"Header_subscribe\",\n    type: \"button\",\n    value: \"S'inscrire\",\n    onClick: () => window.location.replace(\"/Auth/SignUp\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    className: \"Header_signin\",\n    type: \"button\",\n    value: \"Se connecter\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  })), !loading && userId !== null && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"ProfileThumb\",\n    onClick: () => setOpen(!opened),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"ProfileImg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, __jsx(Badge, {\n    count: count,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 33\n    }\n  }, __jsx(\"img\", {\n    src: data.Usrimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 37\n    }\n  }))), data.type == \"Société\" && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, data.companyname), data.type == \"Client\" && __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 41\n    }\n  }, data.nom, \" \", data.prenom)), opened && __jsx(React.Fragment, null, __jsx(DropDown, {\n    userid: userId,\n    count: count,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }))))));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/components/header.js"],"names":["useState","useEffect","axios","ProfileIcon","SettingsIcon","LogoutIcon","NotifBell","Badge","ToggleIcon","CalendarSvg","DropdownItem","props","onClick","lefticon","children","DropDown","userid","count","handleLogout","get","withCredentials","then","res","window","location","reload","catch","err","console","log","textDecoration","Header","active","userId","setToken","loading","setLoading","checkStatus","setCheckStatus","opened","setOpen","data","setData","undefined","NotifView","profile","_id","error","handleClick","replace","assign","cursor","Usrimg","type","companyname","nom","prenom"],"mappings":"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","sourcesContent":["import '../styles/header.scss';\r\nimport {useState , useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport ProfileIcon from './svg/profile.js' ;\r\nimport SettingsIcon from './svg/settings.js' ;\r\nimport LogoutIcon from './svg/logout.js' ;\r\nimport NotifBell from './svg/NotifBell';\r\nimport { Badge } from 'antd';\r\nimport ToggleIcon from './svg/ToggleIcon';\r\nimport CalendarSvg from './svg/CalendarSvg';\r\n\r\n\r\nconst DropdownItem = (props)=>{\r\n    return(\r\n        <div className=\"menuItem\" onClick={props.onClick}>\r\n            <span className=\"icon-button\">{props.lefticon}</span>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\nconst DropDown = ({userid , count}) =>{\r\n\r\n    const handleLogout = () =>{\r\n        axios.get('http://localhost:9000/signout',{withCredentials : true})\r\n        .then(res => window.location.reload())\r\n        .catch(err => console.log(err));\r\n    }\r\n    return(\r\n        <div className=\"Dropdown\">\r\n            <DropdownItem lefticon={<ProfileIcon/>}><a href={`/Profiles/`+userid} style={{textDecoration : 'none'}}>Mon profile</a></DropdownItem>\r\n            <DropdownItem lefticon={<SettingsIcon/>}><a href={`/accountsett/`} style={{textDecoration : 'none'}}>Paremetres</a></DropdownItem>\r\n            <DropdownItem lefticon={<CalendarSvg/>}><a href={`/Mycalendar/`} style={{textDecoration : 'none'}}>Calendrier</a></DropdownItem>\r\n            <DropdownItem lefticon={<Badge count={count}><NotifBell /></Badge>}><a href={`/Notifications/`} style={{textDecoration : 'none'}}>Notifications</a></DropdownItem>\r\n            <DropdownItem lefticon={<LogoutIcon/>} onClick={handleLogout}>Se déconnecter</DropdownItem>\r\n        </div>\r\n    )\r\n}\r\n\r\n// Componenet  -------------------------------------------------------------\r\nconst Header = ({active})=>\r\n{\r\n    const [userId , setToken] = useState(null);\r\n    const [loading , setLoading] = useState(true);\r\n    const [checkStatus,setCheckStatus] = useState(false);\r\n    const [opened , setOpen] = useState(false);\r\n    const [data , setData] = useState();\r\n    const count = data !== undefined ? data.NotifView : '' ;\r\n    useEffect(()=>{\r\n        \r\n        axios.get('http://localhost:9000/profiles/myprofile',{withCredentials : true})\r\n        .then(res =>{      \r\n            setData(res.data.profile);\r\n            \r\n            setLoading(false);\r\n            setToken(res.data.profile._id);\r\n         })\r\n        .catch(err => {\r\n            setLoading(false);\r\n            setToken(null);\r\n            console.error(err)\r\n        });\r\n    },[]);\r\n    const handleClick = ()=>{\r\n        window.location.replace(\"/Auth/Signin\");\r\n    }\r\n    \r\n    \r\n    return(\r\n        <div className=\"Header_Container\">\r\n            <div className=\"NavSwitch\">\r\n                <label htmlFor=\"toggle\" onClick={()=>setCheckStatus(!checkStatus)}> <ToggleIcon/> </label>\r\n            </div>\r\n            <div className=\"Header_Logo\">\r\n                <img src=\"../static/Icons/LOGO2017.png\" height=\"30\" onClick={()=>window.location.assign(\"/\")} style={{cursor : 'pointer'}}/>\r\n            </div>\r\n            \r\n            <div className={checkStatus ? \"GridNav visible\" : \"GridNav\" }>\r\n                <ul>\r\n                    <li className={active==\"acceuil\"?\"active\":\"link\"}><a href=\"/\">Acceuil</a></li>\r\n                    <li className={active==\"propos\"?\"active\":\"link\"}><a href=\"/propos\">A propos</a></li>\r\n                    <li className={active==\"temoignages\"?\"active\":\"link\"}><a href=\"/temoignages\">Temoignages</a></li>\r\n                    <li className={active==\"contact\"?\"active\":\"link\"}><a href=\"/contact\">Contact</a></li>\r\n                    <li className={active==\"questions\"?\"active\":\"link\"}><a href=\"/questions\">Questions</a></li>\r\n                </ul>\r\n                <div className=\"Header_Buttons\">\r\n                {!loading && userId === null &&(\r\n                    <>\r\n                    <input className=\"Header_subscribe\" type=\"button\" value=\"S'inscrire\" onClick={() => window.location.replace(\"/Auth/SignUp\")}/>\r\n                    <input className=\"Header_signin\" type=\"button\" value=\"Se connecter\" onClick={handleClick}/>\r\n                    </>\r\n                ) }\r\n                {!loading && userId !== null &&(\r\n                    <>\r\n                        \r\n                        <div className=\"ProfileThumb\" onClick={()=>setOpen(!opened)}>\r\n                            <div className=\"ProfileImg\">\r\n                                <Badge count={count}>\r\n                                    <img src={data.Usrimg}/>\r\n                                </Badge>\r\n                                \r\n                            </div>\r\n                                    {data.type == \"Société\" && (\r\n                                        <span>{data.companyname}</span>\r\n                                    )}\r\n\r\n                                    {data.type == \"Client\" && (\r\n                                        <span>{data.nom} {data.prenom}</span>\r\n                                    )}\r\n                            \r\n                        </div>\r\n                        {opened &&(\r\n                            <>\r\n                            <DropDown userid={userId} count={count}/>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                ) }\r\n\r\n                </div> \r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  Header ;"]},"metadata":{},"sourceType":"module"}