{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport jwt from 'jsonwebtoken';\n/*\r\nexport async function getStaticProps() {\r\n    \r\n        // Call an external API endpoint to get posts.\r\n    // You can use any data fetching library\r\n    \r\n    const token = window.localStorage.getItem(\"Tokens\");\r\n    var decoded =   jwt.verify(token,\"secret\",function (err , decoded) {\r\n        if (!err) {\r\n            return decoded.userId ;\r\n        }\r\n    });\r\n    console.log(decoded);\r\n    var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded ;\r\n    const res = await fetch(url)\r\n    const posts = await res.json()\r\n    \r\n    // By returning { props: posts }, the Blog component\r\n    // will receive `posts` as a prop at build time\r\n    return {\r\n        props: {\r\n        posts,\r\n        },\r\n    }\r\n}*/\n\nvar Profile = function Profile() {\n  _s();\n\n  /*const nom = posts.response.profiles[0].nom ; \r\n  const prenom = posts.response.profiles[0].prenom ; \r\n  const companyname = posts.response.profiles[0].companyname ; \r\n  const string = \"Bonsoir \"+nom+\" \"+prenom+\", Votre societe est \"+companyname ;*/\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    /*const token = window.localStorage.getItem(\"Tokens\");\r\n    var decoded =   jwt.verify(token,\"secret\",function (err , decoded) {\r\n        if (!err) {\r\n            return decoded.userId ;\r\n        }\r\n    });*/\n    var decoded = \"5f29b712981b2f39045c0a66\";\n    var url = \"http://localhost:9000/profiles/myprofile?userid=\" + decoded;\n    axios.get(url).then(function (res) {\n      setData(res.data.response.profiles[0]);\n      setLoading(false);\n    })[\"catch\"](function (error) {\n      console.log(error);\n    });\n  });\n\n  if (loading) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, __jsx(Header, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    }), __jsx(Head, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }), \"LOADING ...\");\n  } else {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, __jsx(Header, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }), __jsx(Head, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }), console.log(data));\n  }\n};\n\n_s(Profile, \"u4FA3ioEIiWvnPtO1ppQtSvT9PA=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/index.js"],"names":["Header","Head","axios","useEffect","useState","jwt","Profile","data","setData","loading","setLoading","decoded","url","get","then","res","response","profiles","error","console","log"],"mappings":";;;;;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,EAAoBC,QAApB,QAAmC,OAAnC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAI;AAAA;;AAChB;;;;AADgB,kBAKOF,QAAQ,EALf;AAAA,MAKTG,IALS;AAAA,MAKJC,OALI;;AAAA,mBAMaJ,QAAQ,CAAC,IAAD,CANrB;AAAA,MAMTK,OANS;AAAA,MAMDC,UANC;;AAQhBP,EAAAA,SAAS,CAAC,YAAI;AACV;;;;;;AAMA,QAAIQ,OAAO,GAAG,0BAAd;AACA,QAAIC,GAAG,GAAG,qDAAmDD,OAA7D;AACAT,IAAAA,KAAK,CAACW,GAAN,CAAUD,GAAV,EACCE,IADD,CACM,UAAAC,GAAG,EAAE;AACPP,MAAAA,OAAO,CAACO,GAAG,CAACR,IAAJ,CAASS,QAAT,CAAkBC,QAAlB,CAA2B,CAA3B,CAAD,CAAP;AACAP,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KAJD,WAKO,UAAAQ,KAAK,EAAG;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,KAPD;AAQH,GAjBQ,CAAT;;AAkBA,MAAIT,OAAJ,EAAa;AACT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,gBADJ;AAOH,GARD,MAQK;AACD,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGKU,OAAO,CAACC,GAAR,CAAYb,IAAZ,CAHL,CADA;AAOH;AAEJ,CA5CD;;GAAMD,O;;KAAAA,O;AA8CN,eAAeA,OAAf","sourcesContent":["import Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport axios from 'axios'; \r\nimport {useEffect , useState} from 'react'\r\nimport jwt from 'jsonwebtoken';\r\n\r\n/*\r\nexport async function getStaticProps() {\r\n    \r\n        // Call an external API endpoint to get posts.\r\n    // You can use any data fetching library\r\n    \r\n    const token = window.localStorage.getItem(\"Tokens\");\r\n    var decoded =   jwt.verify(token,\"secret\",function (err , decoded) {\r\n        if (!err) {\r\n            return decoded.userId ;\r\n        }\r\n    });\r\n    console.log(decoded);\r\n    var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded ;\r\n    const res = await fetch(url)\r\n    const posts = await res.json()\r\n    \r\n    // By returning { props: posts }, the Blog component\r\n    // will receive `posts` as a prop at build time\r\n    return {\r\n        props: {\r\n        posts,\r\n        },\r\n    }\r\n}*/\r\nconst Profile = ()=>{\r\n    /*const nom = posts.response.profiles[0].nom ; \r\n    const prenom = posts.response.profiles[0].prenom ; \r\n    const companyname = posts.response.profiles[0].companyname ; \r\n    const string = \"Bonsoir \"+nom+\" \"+prenom+\", Votre societe est \"+companyname ;*/\r\n    const [data,setData] = useState();\r\n    const [loading,setLoading] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        /*const token = window.localStorage.getItem(\"Tokens\");\r\n        var decoded =   jwt.verify(token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                return decoded.userId ;\r\n            }\r\n        });*/\r\n        var decoded = \"5f29b712981b2f39045c0a66\";\r\n        var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded ;\r\n        axios.get(url)\r\n        .then(res=>{\r\n            setData(res.data.response.profiles[0]);\r\n            setLoading(false);\r\n        })\r\n        .catch(error =>{\r\n            console.log(error);\r\n        })\r\n    })\r\n    if (loading) {\r\n        return(\r\n            <div>\r\n                <Header/>\r\n                <Head/>\r\n                LOADING ...\r\n            </div>\r\n        )\r\n    }else{\r\n        return(\r\n        <div>\r\n            <Header/>\r\n            <Head/>\r\n            {console.log(data)}\r\n        </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default Profile ;"]},"metadata":{},"sourceType":"module"}