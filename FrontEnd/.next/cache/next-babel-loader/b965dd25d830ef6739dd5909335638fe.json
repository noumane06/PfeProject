{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { message, Select, TimePicker, Spin, notification } from 'antd';\nimport axios from 'axios';\nimport Captcha from './captcha';\nimport firebase from '../firebase-config';\nimport '../../styles/AutoComplete.scss';\nimport Cities from '../Data/Cities';\nimport Jobs from '../Data/Jobs';\nimport Fields from '../Data/Fields';\nimport Modal from 'antd/lib/modal/Modal';\nimport Terms from './terms';\nimport Privacy from './privacy';\n\nvar FormComponent = function FormComponent(props) {\n  _s();\n\n  var RangePicker = TimePicker.RangePicker;\n  var Option = Select.Option;\n  var children = [];\n  Fields.map(function (Field) {\n    children.push(__jsx(Option, {\n      key: Field\n    }, Field));\n  });\n  var data = {\n    // type must be either 'Société' or 'Client' , if you chnage the values be sure to change it in backend too\n    type: \"Société\",\n    email: \"\",\n    password: \"\",\n    nom: \"\",\n    prenom: \"\",\n    companyname: \"\",\n    title: \"Directeur\",\n    domaine: [],\n    addresse: \"\",\n    city: \"Casablanca\",\n    mobilephone: \"\",\n    fixphone: \"\",\n    gender: \"male\",\n    horraire: []\n  }; // States ---------------------------------------\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(false),\n      captchaState = _useState2[0],\n      setCaptcha = _useState2[1];\n\n  var _useState3 = useState(0),\n      current = _useState3[0],\n      setCurrent = _useState3[1];\n\n  var _useState4 = useState(data),\n      userData = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState(false),\n      privacy = _useState5[0],\n      setPrivacy = _useState5[1];\n\n  var _useState6 = useState(false),\n      terms = _useState6[0],\n      setTerms = _useState6[1]; // errors ---------------------------------------\n\n\n  var _useState7 = useState(false),\n      emailErr = _useState7[0],\n      setErrEm = _useState7[1];\n\n  var _useState8 = useState(false),\n      passwordErr = _useState8[0],\n      setErrPass = _useState8[1];\n\n  var _useState9 = useState(false),\n      confirmpass = _useState9[0],\n      setErrConf = _useState9[1];\n\n  var _useState10 = useState(false),\n      domaineErr = _useState10[0],\n      setErrdom = _useState10[1];\n\n  var _useState11 = useState(false),\n      horraireErr = _useState11[0],\n      setErrhor = _useState11[1];\n\n  var _useState12 = useState(false),\n      codeErr = _useState12[0],\n      setCodeErr = _useState12[1];\n\n  var _useState13 = useState(false),\n      phoneErr = _useState13[0],\n      setPhoneErr = _useState13[1]; // password confirmation\n\n\n  var _useState14 = useState(\"\"),\n      Confirmation = _useState14[0],\n      setConf = _useState14[1]; // phone number confirmation\n\n\n  var _useState15 = useState(\"\"),\n      codeVerif = _useState15[0],\n      setCode = _useState15[1];\n\n  var _useState16 = useState(false),\n      checkbox = _useState16[0],\n      setCheck = _useState16[1];\n\n  var _useState17 = useState([]),\n      time = _useState17[0],\n      setTime = _useState17[1];\n\n  var _useState18 = useState(\"/\"),\n      location = _useState18[0],\n      setLocation = _useState18[1];\n\n  var _useState19 = useState(false),\n      Loggedin = _useState19[0],\n      setLog = _useState19[1];\n\n  useEffect(function () {\n    if (props.query !== undefined) {\n      if (props.query.ref === \"tokenexpired\") {\n        message.warning('veuillez d abord vous connecter');\n      }\n\n      if (props.query.location !== undefined) {\n        setLocation(props.query.location);\n      }\n    }\n\n    axios.get('/api/profiles/myprofile', {\n      withCredentials: true\n    }).then(function (res) {\n      setLog(true);\n      setTimeout(function () {\n        window.location.replace(\"/\");\n      }, 5000);\n    })[\"catch\"](function (err) {});\n  }, []); // ----------------------------------------------\n  // methods ------------------------------------------\n\n  var handleChange = function handleChange(event) {\n    var name = event.target.name;\n    var value = event.target.value;\n    setData(_objectSpread(_objectSpread({}, userData), {}, _defineProperty({}, name, value)));\n\n    if (name === \"email\") {\n      setErrEm(false);\n    }\n\n    if (name === \"password\") {\n      setErrPass(false);\n    }\n\n    if (name === \"mobilephone\") {\n      setPhoneErr(false);\n    }\n  };\n\n  var handleConfirmation = function handleConfirmation(e) {\n    setConf(e.target.value);\n    setErrConf(false);\n  };\n\n  var handleTime = function handleTime(time, timestring) {\n    var string = timestring;\n    setData(_objectSpread(_objectSpread({}, userData), {}, {\n      horraire: string\n    }));\n    setTime(time);\n    setErrhor(false);\n  };\n\n  var handleTag = function handleTag(value) {\n    var string = value;\n    setData(_objectSpread(_objectSpread({}, userData), {}, {\n      domaine: string\n    }));\n    setErrdom(false);\n  }; // Verifying email if it already exist \n\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var i, body;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              e.preventDefault();\n              i = 0;\n              body = {\n                email: userData.email\n              };\n              _context.next = 6;\n              return axios.post(\"/api/signup/verifEmail\", body).then(function (response) {\n                if (response.status === 200) {\n                  setLoading(false);\n                } else {\n                  setLoading(false);\n                  setErrEm(true);\n                }\n              })[\"catch\"](function (err) {\n                setLoading(false);\n                i = 1;\n                setErrEm(true);\n                console.log(err);\n              });\n\n            case 6:\n              if (userData.password.length < 8) {\n                setErrPass(true);\n                i = 3;\n              }\n\n              if (Confirmation !== userData.password) {\n                setErrConf(true);\n                i = 3;\n              }\n\n              if (i === 0) {\n                setCurrent(2);\n              }\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleSubmit2 = function handleSubmit2(e) {\n    e.preventDefault();\n    var newphone = userData.mobilephone.replace(0, \"+212\");\n    setLoading(true);\n    var hold = false;\n\n    if (userData.domaine.length === 0) {\n      setErrdom(true);\n      hold = true;\n    }\n\n    if (userData.horraire.length === 0) {\n      setErrhor(true);\n      hold = true;\n    }\n\n    var appVerifier = window.recaptchaVerifier;\n\n    if (captchaState) {\n      firebase.auth().signInWithPhoneNumber(newphone, appVerifier).then(function (confirmationResult) {\n        // SMS sent. Prompt user to type the code from the message, then sign the\n        // user in with confirmationResult.confirm(code).\n        if (!hold || userData.type === \"Client\") {\n          setLoading(false);\n          setCurrent(3);\n        }\n\n        window.confirmationResult = confirmationResult; //currentComponent.setState({ submitState: true });\n      })[\"catch\"](function (error) {\n        if (error.code !== \"auth/too-many-requests\") {\n          setPhoneErr(true);\n          console.log(error);\n        }\n\n        setLoading(false);\n        setCaptcha(false); // Error; SMS not sent\n\n        if (error.code === \"auth/too-many-requests\") {\n          console.log(error);\n          notification[\"error\"]({\n            message: 'auth / trop de requêtes',\n            description: 'Nous avons bloqué toutes les demandes de cet appareil en raison d une activité inhabituelle. Réessayez plus tard.',\n            duration: 10\n          });\n        }\n      });\n    }\n  };\n\n  var handler = function handler(bool) {\n    setCaptcha(bool);\n  };\n\n  var handleLastSubmit = function handleLastSubmit() {\n    setLoading(true);\n    var code = codeVerif;\n    window.confirmationResult.confirm(code).then(function (result) {\n      axios.post(\"/api/signup/\", userData, {\n        withCredentials: true\n      }).then(function (response) {\n        if (response.status === 200) {\n          window.location.replace(\"/Settings?location=\".concat(location));\n        } else {\n          setCurrent(5);\n        }\n      })[\"catch\"](function (err) {\n        console.log(err);\n        setCurrent(5);\n      });\n    })[\"catch\"](function (err) {\n      setLoading(false);\n      setCodeErr(true);\n      console.log(err);\n    });\n  }; // -----------------------------------------------------\n\n\n  return __jsx(\"div\", {\n    className: \"FormContainer\"\n  }, !Loggedin && __jsx(React.Fragment, null, __jsx(\"h1\", null, \"Inscrivez-vous\"), current == 0 && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"h2\", null, \"Choisissez le type de votre compte\"), __jsx(\"form\", {\n    onSubmit: function onSubmit() {\n      return setCurrent(1);\n    }\n  }, __jsx(\"select\", {\n    className: \"select\",\n    name: \"type\",\n    value: userData.type,\n    onChange: handleChange\n  }, __jsx(\"option\", {\n    value: \"Soci\\xE9t\\xE9\"\n  }, \"Soci\\xE9t\\xE9\"), __jsx(\"option\", {\n    value: \"Client\"\n  }, \"Client\")), __jsx(\"div\", {\n    className: \"buttonContainer\"\n  }, __jsx(\"input\", {\n    className: \"SignButton next\",\n    type: \"submit\",\n    value: \"Suivant\"\n  })))), current == 1 && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"div\", {\n    className: \"multipleInput\"\n  }, __jsx(\"select\", {\n    className: \"small\",\n    name: \"gender\",\n    value: userData.gender,\n    onChange: handleChange\n  }, __jsx(\"option\", {\n    value: \"male\",\n    selected: true\n  }, \"Mr\"), __jsx(\"option\", {\n    value: \"female\"\n  }, \"Mme\")), __jsx(\"input\", {\n    className: \"input controlled\",\n    type: \"text\",\n    placeholder: \"Nom\",\n    name: \"nom\",\n    onChange: handleChange,\n    value: userData.nom,\n    required: true\n  }), __jsx(\"input\", {\n    className: \"input controlled\",\n    type: \"text\",\n    placeholder: \"Prenom\",\n    name: \"prenom\",\n    onChange: handleChange,\n    value: userData.prenom,\n    required: true\n  })), userData.type === \"Société\" && __jsx(\"div\", {\n    className: \"multipleInput\"\n  }, __jsx(\"select\", {\n    className: \"title\",\n    name: \"title\",\n    value: userData.title,\n    onChange: handleChange,\n    required: true\n  }, Jobs.map(function (job) {\n    return __jsx(\"option\", {\n      value: job,\n      key: job\n    }, job);\n  })), __jsx(\"div\", {\n    style: {\n      width: '68%',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }, __jsx(\"input\", {\n    className: emailErr ? \"email error\" : \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    onChange: handleChange,\n    value: userData.email,\n    required: true\n  }), __jsx(\"label\", {\n    className: emailErr ? \"errMsg\" : \"hidden\"\n  }, \"Email already exist\"))), userData.type === \"Client\" && __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(\"input\", {\n    className: emailErr ? \"input error\" : \"input\",\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    onChange: handleChange,\n    value: userData.email,\n    required: true\n  }), __jsx(\"label\", {\n    className: emailErr ? \"errMsg\" : \"hidden\"\n  }, \"Email already exist\")), __jsx(\"div\", {\n    className: \"multipleInput\"\n  }, __jsx(\"select\", {\n    className: \"title\",\n    name: \"city\",\n    value: userData.city,\n    onChange: handleChange\n  }, Cities.map(function (citie) {\n    return __jsx(\"option\", {\n      value: citie,\n      key: citie\n    }, citie);\n  })), __jsx(\"input\", {\n    className: \"input addresse\",\n    type: \"text\",\n    placeholder: \"Addresse\",\n    name: \"addresse\",\n    onChange: handleChange,\n    value: userData.addresse,\n    required: true\n  })), __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(\"input\", {\n    className: passwordErr ? \"input error\" : \"input\",\n    type: \"password\",\n    placeholder: \"Mot de passe\",\n    name: \"password\",\n    onChange: handleChange,\n    value: userData.password,\n    required: true\n  }), __jsx(\"label\", {\n    className: passwordErr ? \"errMsg\" : \"hidden\"\n  }, \"mot de passe doit \\xEAtre d'au moins 8 caract\\xE8res\")), __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(\"input\", {\n    className: confirmpass ? \"input error\" : \"input\",\n    type: \"password\",\n    placeholder: \"Confirmez votre mot de passe\",\n    value: Confirmation,\n    onChange: handleConfirmation,\n    required: true\n  }), __jsx(\"label\", {\n    className: confirmpass ? \"errMsg\" : \"hidden\"\n  }, \"la confirmation n'est pas la m\\xEAme que le mot de passe\")), __jsx(\"div\", {\n    className: \"buttonContainer\"\n  }, !loading && __jsx(\"button\", {\n    className: \"SignButton next\",\n    type: \"submit\"\n  }, \"Suivant\"), loading && __jsx(Spin, {\n    size: \"default\",\n    className: \"next\"\n  }), __jsx(\"input\", {\n    className: \"Back\",\n    type: \"button\",\n    value: \"Precedent\",\n    onClick: function onClick() {\n      return setCurrent(0);\n    }\n  })))), current == 2 && userData.type === \"Société\" && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"form\", {\n    onSubmit: handleSubmit2\n  }, __jsx(\"input\", {\n    className: \"input soc\",\n    type: \"text\",\n    placeholder: \"Nom de soci\\xE9t\\xE9\",\n    name: \"companyname\",\n    value: userData.companyname,\n    onChange: handleChange\n  }), __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(Select, {\n    mode: \"tags\",\n    style: {\n      width: '100%'\n    },\n    placeholder: \"Votre domaine \",\n    className: domaineErr ? \"error\" : \"\",\n    onChange: handleTag,\n    value: userData.domaine,\n    maxTagCount: 3\n  }, children), __jsx(\"label\", {\n    className: domaineErr ? \"errMsg\" : \"hidden\"\n  }, \"Ce champ est obligatoire\")), __jsx(\"div\", {\n    className: \"multipleInput two\"\n  }, __jsx(\"div\", {\n    style: {\n      width: '48%',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }, __jsx(\"input\", {\n    className: phoneErr ? \"email error\" : \"email\",\n    type: \"tel\",\n    name: \"mobilephone\",\n    placeholder: \"T\\xE9l\\xE9phone mobile | Ex:06xxxxxxxx\",\n    onChange: handleChange,\n    value: userData.mobilephone,\n    required: true\n  }), __jsx(\"label\", {\n    className: phoneErr ? \"errMsg\" : \"hidden\"\n  }, \"Numero invalide\")), __jsx(\"div\", {\n    style: {\n      width: '48%',\n      display: 'flex',\n      flexDirection: 'column'\n    }\n  }, __jsx(\"input\", {\n    className: \"email\",\n    type: \"tel\",\n    name: \"fixphone\",\n    placeholder: \"T\\xE9l\\xE9phone Fix | Ex:05xxxxxxxx\",\n    onChange: handleChange,\n    value: userData.fixphone,\n    required: true\n  }))), __jsx(\"br\", null), __jsx(\"label\", {\n    style: {\n      color: '#318CE7'\n    }\n  }, \"L'horaire de votre soci\\xE9t\\xE9 : \"), __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(RangePicker, {\n    className: horraireErr ? \"error\" : \"\",\n    style: {\n      width: '100%'\n    },\n    bordered: false,\n    format: \"HH:mm\",\n    minuteStep: 30,\n    value: time,\n    onChange: handleTime\n  }), __jsx(\"label\", {\n    className: horraireErr ? \"errMsg\" : \"hidden\"\n  }, \"Ce champ est obligatoire\")), __jsx(Captcha, {\n    handler: handler\n  }), __jsx(\"div\", {\n    className: \"buttonContainer\"\n  }, !loading && __jsx(\"button\", {\n    className: !captchaState ? \"disabeledButton next\" : \"SignButton next\",\n    type: \"submit\"\n  }, \"Suivant\"), loading && __jsx(Spin, {\n    size: \"default\",\n    className: \"next\"\n  }), __jsx(\"input\", {\n    className: \"Back\",\n    type: \"button\",\n    value: \"Precedent\",\n    onClick: function onClick() {\n      return setCurrent(1);\n    }\n  })))), current == 2 && userData.type === \"Client\" && __jsx(\"form\", {\n    onSubmit: handleSubmit2\n  }, __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(\"input\", {\n    className: phoneErr ? \"input error\" : \"input\",\n    type: \"tel\",\n    name: \"mobilephone\",\n    placeholder: \"Mobile .Ex:06xxxxxxxx\",\n    onChange: handleChange,\n    value: userData.mobilephone,\n    required: true\n  }), __jsx(\"label\", {\n    className: phoneErr ? \"errMsg\" : \"hidden\"\n  }, \"Numero invalide\")), __jsx(Captcha, {\n    handler: handler\n  }), __jsx(\"div\", {\n    className: \"buttonContainer\"\n  }, !loading && __jsx(\"button\", {\n    className: !captchaState ? \"disabeledButton next\" : \"SignButton next\",\n    type: \"submit\"\n  }, \"Suivant\"), loading && __jsx(Spin, {\n    size: \"default\",\n    className: \"next\"\n  }), __jsx(\"input\", {\n    className: \"Back\",\n    type: \"button\",\n    value: \"Precedent\",\n    onClick: function onClick() {\n      return setCurrent(1);\n    }\n  }))), current == 3 && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"h3\", null, \"Pour votre s\\xE9curit\\xE9 , on veut s'assurer qu'il s'agit bien de vous . On vous a envoy\\xE9 un message text avec un code de v\\xE9rification a 6 chiffres . Les tarifs standards s'appliquent .\"), __jsx(\"form\", {\n    onSubmit: function onSubmit(e) {\n      return e.preventDefault();\n    }\n  }, __jsx(\"div\", {\n    className: \"ColumnFLexContainer\"\n  }, __jsx(\"input\", {\n    className: codeErr ? \"input error\" : \"input\",\n    type: \"text\",\n    placeholder: \"Code de verification\",\n    required: true,\n    onChange: function onChange(e) {\n      setCode(e.target.value);\n      ;\n      setCodeErr(false);\n    }\n  }), __jsx(\"label\", {\n    className: codeErr ? \"errMsg\" : \"hidden\"\n  }, \"Code invalid\")), __jsx(\"div\", {\n    className: \"multipleInput two\",\n    style: {\n      marginTop: '25px'\n    }\n  }, __jsx(\"input\", {\n    className: \"\",\n    type: \"checkbox\",\n    required: true,\n    checked: checkbox,\n    onChange: function onChange(e) {\n      setCheck(e.target.checked);\n    }\n  }), __jsx(\"label\", {\n    style: {\n      marginLeft: '25px'\n    }\n  }, \"La cr\\xE9ation d'un compte signifie que vous \\xE9tes d'accord avec nos \", __jsx(\"a\", {\n    onClick: function onClick() {\n      return setTerms(true);\n    },\n    target: \"_blank\"\n  }, \"Conditions d'utilisation\"), \", notre \", __jsx(\"a\", {\n    onClick: function onClick() {\n      return setPrivacy(true);\n    },\n    target: \"_black\"\n  }, \"politique de confidentialit\\xE9\"), \" et nos param\\xE8tres de notification par defaut\")), __jsx(Modal, {\n    title: \"\",\n    visible: terms,\n    width: \"90%\",\n    bodyStyle: {\n      height: '70vh',\n      overflowY: 'scroll'\n    },\n    onCancel: function onCancel() {\n      return setTerms(false);\n    },\n    footer: null\n  }, __jsx(Terms, null)), __jsx(Modal, {\n    title: \"\",\n    visible: privacy,\n    width: \"90%\",\n    bodyStyle: {\n      height: '70vh',\n      overflowY: 'scroll'\n    },\n    onCancel: function onCancel() {\n      return setPrivacy(false);\n    },\n    footer: null\n  }, __jsx(Privacy, null)), __jsx(\"div\", {\n    className: \"buttonContainer\"\n  }, !loading && __jsx(\"button\", {\n    className: codeVerif.length !== 6 || !checkbox ? \"disabeledButton next\" : \"SignButton next\",\n    type: \"submit\",\n    disabled: codeVerif.length !== 6 || !checkbox,\n    onClick: handleLastSubmit\n  }, \"Suivant\"), loading && __jsx(Spin, {\n    size: \"default\",\n    className: \"next\"\n  }), __jsx(\"input\", {\n    className: \"Back\",\n    type: \"button\",\n    value: \"Precedent\",\n    onClick: function onClick() {\n      setCurrent(2), setCaptcha(false);\n    }\n  })))), current == 5 && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"h3\", null, \"Smthng went wrong \\uD83D\\uDE12\\uD83D\\uDE12 \")), __jsx(\"div\", {\n    className: \"FormFooter\"\n  }, __jsx(\"span\", null, \"D\\xE9j\\xE0 membre ?\"), __jsx(Link, {\n    href: \"Signin\"\n  }, __jsx(\"a\", null, \"Connectez-vous\")))), Loggedin && __jsx(\"div\", {\n    className: \"part 1\"\n  }, __jsx(\"h2\", null, \"Nous saluons le retour!\"), __jsx(\"p\", null, \"Vous \\xEAtes d\\xE9j\\xE0 connect\\xE9 et serez bient\\xF4t redirig\\xE9 vers page d'accueil.\"), __jsx(\"div\", {\n    className: \"FormFooter\"\n  }, \"Si vous n'\\xEAtes pas redirig\\xE9 automatiquement suivez\", __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", null, \"ce lien\")))));\n};\n\n_s(FormComponent, \"Id2Zmz4tB58pRhVxQUUEkwL/BMo=\");\n\n_c = FormComponent;\nexport default FormComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormComponent\");","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/FrontEnd/components/Auth_Components/SignupForm.js"],"names":["Link","useState","useEffect","message","Select","TimePicker","Spin","notification","axios","Captcha","firebase","Cities","Jobs","Fields","Modal","Terms","Privacy","FormComponent","props","RangePicker","Option","children","map","Field","push","data","type","email","password","nom","prenom","companyname","title","domaine","addresse","city","mobilephone","fixphone","gender","horraire","loading","setLoading","captchaState","setCaptcha","current","setCurrent","userData","setData","privacy","setPrivacy","terms","setTerms","emailErr","setErrEm","passwordErr","setErrPass","confirmpass","setErrConf","domaineErr","setErrdom","horraireErr","setErrhor","codeErr","setCodeErr","phoneErr","setPhoneErr","Confirmation","setConf","codeVerif","setCode","checkbox","setCheck","time","setTime","location","setLocation","Loggedin","setLog","query","undefined","ref","warning","get","withCredentials","then","res","setTimeout","window","replace","err","handleChange","event","name","target","value","handleConfirmation","e","handleTime","timestring","string","handleTag","handleSubmit","preventDefault","i","body","post","response","status","console","log","length","handleSubmit2","newphone","hold","appVerifier","recaptchaVerifier","auth","signInWithPhoneNumber","confirmationResult","error","code","description","duration","handler","bool","handleLastSubmit","confirm","result","job","width","display","flexDirection","citie","color","marginTop","checked","marginLeft","height","overflowY"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport {useState , useEffect} from 'react';\r\nimport {message , Select ,TimePicker , Spin, notification } from 'antd';\r\nimport axios from 'axios'; \r\nimport Captcha from './captcha';\r\nimport firebase from '../firebase-config';\r\nimport '../../styles/AutoComplete.scss';\r\nimport Cities from '../Data/Cities';\r\nimport Jobs from '../Data/Jobs';\r\nimport Fields from '../Data/Fields';\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport Terms from './terms';\r\nimport Privacy from './privacy';\r\nconst FormComponent = (props) => {\r\n    const { RangePicker } = TimePicker;\r\n    const { Option } = Select;\r\n    const children = [];\r\n    Fields.map(Field =>{\r\n        children.push(<Option key={Field}>{Field}</Option>);\r\n    })\r\n    \r\n    var data = {\r\n      // type must be either 'Société' or 'Client' , if you chnage the values be sure to change it in backend too\r\n      type: \"Société\",\r\n      email : \"\",\r\n      password : \"\",\r\n      nom : \"\",\r\n      prenom : \"\",\r\n      companyname: \"\",\r\n      title: \"Directeur\",\r\n      domaine: [],\r\n      addresse: \"\",\r\n      city: \"Casablanca\",\r\n      mobilephone: \"\",\r\n      fixphone: \"\",\r\n      gender: \"male\",\r\n      horraire: [],\r\n    };\r\n\r\n    \r\n    // States ---------------------------------------\r\n    const  [loading , setLoading] = useState(false);\r\n    const  [captchaState , setCaptcha] = useState(false);\r\n    const  [current,setCurrent] = useState(0);\r\n    const  [userData , setData] = useState(data);\r\n    const  [privacy,setPrivacy] = useState(false);\r\n    const  [terms,setTerms] = useState(false);\r\n    // errors ---------------------------------------\r\n    \r\n    const  [emailErr , setErrEm] = useState(false)\r\n    const  [passwordErr, setErrPass] = useState(false);\r\n    const  [confirmpass , setErrConf] = useState(false);\r\n    const  [domaineErr , setErrdom] = useState(false);\r\n    const  [horraireErr , setErrhor] = useState(false);\r\n    const  [codeErr , setCodeErr] = useState(false);\r\n    const  [phoneErr , setPhoneErr] = useState(false);\r\n    // password confirmation\r\n    const  [Confirmation,setConf] = useState(\"\");\r\n    // phone number confirmation\r\n    const  [codeVerif , setCode] = useState(\"\");\r\n    const  [checkbox,setCheck] = useState(false);\r\n    const  [time , setTime] =useState([]);\r\n    const [location , setLocation] = useState(\"/\");\r\n    const [Loggedin , setLog] = useState(false);\r\n    useEffect(()=>{\r\n      if (props.query !== undefined) {\r\n        if (props.query.ref === \"tokenexpired\") {\r\n          message.warning('veuillez d abord vous connecter');\r\n        }\r\n        if (props.query.location !== undefined) {\r\n          setLocation(props.query.location);\r\n        }\r\n      }\r\n      axios.get('/api/profiles/myprofile',{withCredentials : true})\r\n      .then(res =>{      \r\n            setLog(true);\r\n            setTimeout(() => {\r\n              window.location.replace(\"/\")\r\n            }, 5000);\r\n        })\r\n      .catch(err => {});\r\n    },[])\r\n    // ----------------------------------------------\r\n\r\n    // methods ------------------------------------------\r\n    \r\n\r\n    const handleChange = (event)=>{\r\n        const  name = event.target.name ;\r\n        const  value = event.target.value ;\r\n        setData({...userData ,[name] : value});\r\n        \r\n        if (name === \"email\") {\r\n          setErrEm(false);\r\n        }\r\n        if (name === \"password\") {\r\n          setErrPass(false);\r\n        }\r\n        if (name === \"mobilephone\") {\r\n          setPhoneErr(false);\r\n        }\r\n        \r\n    }\r\n    \r\n    const handleConfirmation = (e)=>{\r\n        setConf(e.target.value);\r\n        setErrConf(false);\r\n    }\r\n\r\n    const handleTime =(time,timestring)=>{\r\n      const string = timestring ;\r\n      setData({...userData , horraire : string})\r\n      setTime(time);\r\n      setErrhor(false);\r\n    }\r\n\r\n    const handleTag =(value)=>{\r\n      const string = value ;\r\n      setData({...userData , domaine : string}); \r\n      setErrdom(false);\r\n    }\r\n\r\n    // Verifying email if it already exist \r\n\r\n    const handleSubmit = async (e)=>{\r\n      setLoading(true);\r\n      e.preventDefault();\r\n      var i = 0 ;\r\n      const body = {email : userData.email};\r\n      await axios.post(\"/api/signup/verifEmail\", body)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          setLoading(false);\r\n        } else {\r\n\r\n          setLoading(false);\r\n          setErrEm(true);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        setLoading(false);\r\n        i = 1 ;\r\n        setErrEm(true);\r\n        console.log(err);\r\n      }); \r\n      \r\n      if (userData.password.length < 8) {\r\n        setErrPass(true);\r\n        i = 3;\r\n      }\r\n      if (Confirmation !== userData.password) {\r\n        setErrConf(true);\r\n        i = 3;\r\n      }\r\n      if(i === 0)\r\n      {\r\n        setCurrent(2);\r\n      }\r\n      \r\n    }\r\n    const handleSubmit2 = (e)=>{\r\n        e.preventDefault();\r\n        const newphone = userData.mobilephone.replace(0,\"+212\");\r\n        setLoading(true);\r\n        var hold = false ;\r\n        if (userData.domaine.length === 0) {\r\n          setErrdom(true);\r\n          hold = true ;\r\n        }\r\n        if (userData.horraire.length === 0) {\r\n          setErrhor(true);\r\n          hold = true ; \r\n        }\r\n        var appVerifier = window.recaptchaVerifier;\r\n        if (captchaState) {\r\n          firebase.auth().signInWithPhoneNumber(newphone, appVerifier)\r\n           .then(function (confirmationResult) {\r\n             // SMS sent. Prompt user to type the code from the message, then sign the\r\n             // user in with confirmationResult.confirm(code).\r\n              if (!hold || userData.type === \"Client\") {\r\n                setLoading(false);\r\n                setCurrent(3);\r\n              }\r\n             window.confirmationResult = confirmationResult;\r\n             \r\n             //currentComponent.setState({ submitState: true });\r\n           }).catch(function (error) {\r\n\r\n              if (error.code !== \"auth/too-many-requests\") {\r\n                setPhoneErr(true);\r\n                console.log(error);\r\n              }\r\n              setLoading(false);\r\n              setCaptcha(false);\r\n              // Error; SMS not sent\r\n              if (error.code === \"auth/too-many-requests\") {\r\n                console.log(error);\r\n                notification[\"error\"]({\r\n                  message : 'auth / trop de requêtes',\r\n                  description : 'Nous avons bloqué toutes les demandes de cet appareil en raison d une activité inhabituelle. Réessayez plus tard.',\r\n                  duration : 10\r\n                })\r\n              }\r\n              \r\n           });\r\n        }\r\n        \r\n\r\n    }\r\n    const handler = (bool) =>{\r\n      setCaptcha(bool);\r\n    }\r\n    const handleLastSubmit =()=> {\r\n      \r\n      \r\n      setLoading(true);\r\n      var code = codeVerif ; \r\n      window.confirmationResult.confirm(code).then((result)=>{\r\n        axios.post(\"/api/signup/\", userData,{withCredentials : true})\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n             window.location.replace(`/Settings?location=${location}`);\r\n          } else {\r\n            setCurrent(5);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          setCurrent(5);\r\n        }); \r\n      }).catch((err)=>{\r\n          setLoading(false) ;\r\n          setCodeErr(true);\r\n          console.log(err);\r\n      })\r\n      \r\n    }\r\n\r\n    // -----------------------------------------------------\r\n\r\n    return (\r\n      <div className=\"FormContainer\">\r\n          {!Loggedin &&(\r\n            <>\r\n                <h1>Inscrivez-vous</h1>\r\n            {/* Type du compte ===============================================*/}\r\n            {current == 0 && (\r\n              <div className=\"part 1\">\r\n                <h2>Choisissez le type de votre compte</h2>\r\n                <form onSubmit={() => setCurrent(1)}>\r\n                  <select className=\"select\" name=\"type\" value={userData.type} onChange={handleChange}>\r\n                    <option value=\"Société\">Société</option>\r\n                    <option value=\"Client\">Client</option>\r\n                  </select>\r\n                  <div className=\"buttonContainer\">\r\n                    <input\r\n                      className=\"SignButton next\"\r\n                      type=\"submit\"\r\n                      value=\"Suivant\"\r\n                    />\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )}\r\n            {/* ================================================================= */}\r\n\r\n            {/* Basic Informations ===============================================*/}\r\n            {current == 1 && (\r\n              <div className=\"part 1\">\r\n                <form onSubmit={handleSubmit}>\r\n                      <div className=\"multipleInput\">\r\n\r\n                          {/* Gender  ------------------------------------ */}\r\n\r\n                          <select className=\"small\" name=\"gender\" value={userData.gender} onChange={handleChange} >\r\n                              <option value=\"male\"  selected>Mr</option>\r\n                              <option value=\"female\" >Mme</option>\r\n                          </select>\r\n\r\n                          {/* Nom et prenom  ------------------------------------ */}\r\n\r\n                          <input className=\"input controlled\" type=\"text\" placeholder=\"Nom\" name=\"nom\" onChange={handleChange} value={userData.nom} required/>\r\n                          <input className=\"input controlled\" type=\"text\" placeholder=\"Prenom\" name=\"prenom\" onChange={handleChange} value={userData.prenom} required/>\r\n                      </div>\r\n\r\n                          {/* Email and title for companies ------------------------------------ */}\r\n\r\n                          {userData.type === \"Société\" &&(\r\n                            <div className=\"multipleInput\" >\r\n\r\n                              {/* Title  ------------------------------------ */}\r\n                              <select className=\"title\" name=\"title\" value={userData.title} onChange={handleChange} required>\r\n                                  {Jobs.map(job=>(\r\n                                    <option value={job} key={job}>{job}</option>\r\n                                  ))}\r\n                              </select>\r\n                              {/* Email   ------------------------------------ */}\r\n                              <div style={{width : '68%' , display : 'flex' , flexDirection : 'column'}}>\r\n                                <input className={emailErr ? \"email error\" : \"email\"}  type=\"email\" placeholder=\"Email\" name=\"email\" onChange={handleChange} value={userData.email} required/>\r\n                                <label className={emailErr ? \"errMsg\" : \"hidden\"}>Email already exist</label>\r\n                              </div>\r\n                            </div>\r\n                          )}\r\n\r\n                          {/* ---------------------------------------------------------------------- */}\r\n                          {/* Email for clients ---------------------------------------------------- */}\r\n\r\n                            {userData.type === \"Client\" &&(\r\n                              <div className=\"ColumnFLexContainer\">\r\n                                  <input className={emailErr ? \"input error\" : \"input\"}  type=\"email\" placeholder=\"Email\" name=\"email\" onChange={handleChange} value={userData.email} required/>\r\n                                  <label className={emailErr ? \"errMsg\" : \"hidden\"}>Email already exist</label>\r\n                              </div>\r\n                            )}\r\n                          {/* ---------------------------------------------------------------------------- */}\r\n\r\n                        <div className=\"multipleInput\">\r\n\r\n                            {/* City  ------------------------------------ */}\r\n                            <select className=\"title\" name=\"city\" value={userData.city} onChange={handleChange} >\r\n                                {Cities.map(citie =>(\r\n                                  <option value={citie} key={citie}>{citie}</option>\r\n                                ))}\r\n                            </select>\r\n                            {/* address ------------------------------------*/}\r\n                            <input className=\"input addresse\" type=\"text\" placeholder=\"Addresse\"  name=\"addresse\" onChange={handleChange} value={userData.addresse} required/>\r\n                            \r\n                        </div>\r\n\r\n                        {/* Password  ------------------------------------ */}\r\n\r\n                        <div className=\"ColumnFLexContainer\">\r\n                          <input className={passwordErr ? \"input error\" : \"input\"} type=\"password\" placeholder=\"Mot de passe\"  name=\"password\" onChange={handleChange} value={userData.password} required/>\r\n                          <label className={passwordErr ? \"errMsg\" : \"hidden\"}>mot de passe doit être d'au moins 8 caractères</label>\r\n                        </div>\r\n\r\n                    {/* Confiramtion  ------------------------------------ */}\r\n                    \r\n                    <div className=\"ColumnFLexContainer\">\r\n                      <input className={confirmpass ? \"input error\" : \"input\"} type=\"password\" placeholder=\"Confirmez votre mot de passe\" value={Confirmation} onChange={handleConfirmation} required />\r\n                      <label className={confirmpass ? \"errMsg\" : \"hidden\"}>la confirmation n'est pas la même que le mot de passe</label>\r\n                    </div>\r\n                    \r\n                  \r\n                  \r\n                  <div className=\"buttonContainer\">\r\n                      {!loading &&(\r\n                      <button className=\"SignButton next\" type=\"submit\">\r\n                      Suivant\r\n                      </button> \r\n                    )} \r\n                    {loading && (<Spin size=\"default\" className=\"next\"/>)}\r\n                    <input\r\n                      className=\"Back\"\r\n                      type=\"button\"\r\n                      value=\"Precedent\"\r\n                      onClick={() => setCurrent(0)}\r\n                    />\r\n                  </div>\r\n\r\n\r\n                </form>\r\n              </div>\r\n            )}\r\n\r\n            {/* ================================================================= */}\r\n            {current == 2 && userData.type === \"Société\" && (\r\n              <div className=\"part 1\">\r\n                <form onSubmit={handleSubmit2}>\r\n\r\n                    {/* Nom de societe  ------------------------------------ */}\r\n\r\n                    <input className=\"input soc\" type=\"text\" placeholder=\"Nom de société\" name=\"companyname\" value={userData.companyname} onChange={handleChange} />\r\n                    <div className=\"ColumnFLexContainer\">\r\n\r\n                      {/* Domaine  ------------------------------------ */}\r\n\r\n                      <Select mode=\"tags\" style={{ width: '100%' }} placeholder=\"Votre domaine \" className={domaineErr ? \"error\" : \"\"}\r\n                        onChange ={handleTag} value={userData.domaine} maxTagCount={3} >\r\n                          {children}\r\n                      </Select>\r\n                      <label className={domaineErr ? \"errMsg\" : \"hidden\"}>Ce champ est obligatoire</label>\r\n                    </div>\r\n                  \r\n                  <div className=\"multipleInput two\">\r\n\r\n                  {/* Phone number  ------------------------------------ */}\r\n\r\n                        <div style={{width : '48%' , display : 'flex' , flexDirection : 'column'}}>\r\n                          <input className={phoneErr ? \"email error\" : \"email\"} type=\"tel\" name=\"mobilephone\" placeholder=\"Téléphone mobile | Ex:06xxxxxxxx\" onChange={handleChange} value={userData.mobilephone} required/>\r\n                          <label className={phoneErr ? \"errMsg\" : \"hidden\"} >Numero invalide</label>\r\n                        </div>\r\n                        <div style={{width : '48%' , display : 'flex' , flexDirection : 'column'}}>\r\n                          <input className=\"email\" type=\"tel\" name=\"fixphone\" placeholder=\"Téléphone Fix | Ex:05xxxxxxxx\" onChange={handleChange} value={userData.fixphone} required/>\r\n                        </div>\r\n                    \r\n                  </div><br/>\r\n\r\n                  {/* Horraire  ------------------------------------ */}\r\n\r\n                  <label style={{color : '#318CE7'}}>L'horaire de votre société : </label>\r\n                  <div className=\"ColumnFLexContainer\">\r\n                    <RangePicker className={horraireErr ? \"error\" : \"\"} style={{width : '100%'}} bordered={false} format='HH:mm'  minuteStep={30} \r\n                      value={time} onChange={handleTime}/>\r\n                    <label className={horraireErr ? \"errMsg\" : \"hidden\"}>Ce champ est obligatoire</label>\r\n                  </div>\r\n\r\n                  {/* Captcha  ------------------------------------ */}\r\n\r\n                  <Captcha handler={handler}/>\r\n                  \r\n                  {/* ----------------------------------------------------------- */}\r\n\r\n                  <div className=\"buttonContainer\">\r\n                    {!loading &&(\r\n                      <button className={!captchaState ?  \"disabeledButton next\":\"SignButton next\" } type=\"submit\">\r\n                      Suivant\r\n                      </button> \r\n                    )} \r\n                    {loading && (<Spin size=\"default\" className=\"next\"/>)}\r\n                    <input\r\n                      className=\"Back\"\r\n                      type=\"button\"\r\n                      value=\"Precedent\"\r\n                      onClick={() => setCurrent(1)}\r\n                    />\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )}\r\n            {current == 2 && userData.type === \"Client\" &&(\r\n              <form onSubmit={handleSubmit2}>\r\n                <div className=\"ColumnFLexContainer\">\r\n                  <input className={phoneErr ? \"input error\" : \"input\"} type=\"tel\" name=\"mobilephone\" placeholder=\"Mobile .Ex:06xxxxxxxx\" onChange={handleChange} value={userData.mobilephone} required/>\r\n                  <label className={phoneErr ? \"errMsg\" : \"hidden\"} >Numero invalide</label>\r\n                </div>\r\n                {/* Captcha  ------------------------------------ */}\r\n                <Captcha handler={handler}/>\r\n                <div className=\"buttonContainer\">\r\n                    {!loading &&(\r\n                      <button className={!captchaState ?  \"disabeledButton next\":\"SignButton next\" } type=\"submit\">\r\n                      Suivant\r\n                      </button> \r\n                    )} \r\n                    {loading && (<Spin size=\"default\" className=\"next\"/>)}\r\n                    <input\r\n                      className=\"Back\"\r\n                      type=\"button\"\r\n                      value=\"Precedent\"\r\n                      onClick={() => setCurrent(1)}\r\n                    />\r\n                </div>\r\n              </form>\r\n            )}\r\n            {current == 3 && (\r\n              <div className=\"part 1\">\r\n                <h3>Pour votre sécurité , on veut s'assurer qu'il s'agit bien de vous . On vous a envoyé un message text avec \r\n                    un code de vérification a 6 chiffres . Les tarifs standards s'appliquent .</h3>\r\n                <form onSubmit={(e) => e.preventDefault()}>\r\n\r\n                  {/* Code verification input ------------------------------- */}\r\n                    <div className=\"ColumnFLexContainer\">\r\n                      <input className={codeErr ? \"input error\" : \"input\"} type=\"text\" placeholder=\"Code de verification\" required onChange={(e)=> {setCode(e.target.value);;setCodeErr(false);}}/>\r\n                      <label className={codeErr ? \"errMsg\" : \"hidden\"}>Code invalid</label>\r\n                    </div>\r\n                  {/* CheckBox input ------------------------------- */}\r\n                  <div className=\"multipleInput two\" style={{marginTop : '25px'}}>\r\n                    <input className=\"\" type=\"checkbox\" required  checked={checkbox} onChange={(e)=> {setCheck(e.target.checked)}}/>\r\n                    <label style={{marginLeft : '25px'}}>La création d'un compte signifie que vous étes d'accord avec nos <a onClick={()=>setTerms(true)} target=\"_blank\">Conditions d'utilisation</a>\r\n                    , notre <a onClick={()=>setPrivacy(true)} target=\"_black\">politique de confidentialité</a> et nos paramètres de notification par defaut\r\n                    </label>\r\n                  </div> \r\n                  {/* Privacy */}\r\n                  <Modal  title=\"\" visible={terms} width=\"90%\" bodyStyle={{height: '70vh' , overflowY : 'scroll'}} onCancel={()=>setTerms(false)} footer={null}><Terms/></Modal>\r\n                  <Modal  title=\"\" visible={privacy} width=\"90%\" bodyStyle={{height: '70vh' , overflowY : 'scroll'}} onCancel={()=>setPrivacy(false)} footer={null}><Privacy/></Modal>\r\n\r\n\r\n                  {/* ---------------------------------------------------- */}        \r\n\r\n                  <div className=\"buttonContainer\">\r\n                    {!loading &&(\r\n                      <button\r\n                      className={codeVerif.length !== 6 || !checkbox ?  \"disabeledButton next\":\"SignButton next\" }\r\n                      type=\"submit\"\r\n                      disabled={codeVerif.length !== 6 || !checkbox}\r\n                      onClick={handleLastSubmit}\r\n                    >Suivant</button>\r\n                    )} \r\n                    {loading && (<Spin size=\"default\" className=\"next\"/>)}\r\n                    <input\r\n                      className=\"Back\"\r\n                      type=\"button\"\r\n                      value=\"Precedent\"\r\n                      onClick={() => {setCurrent(2),setCaptcha(false)}}\r\n                    />\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            )}\r\n            {current == 5 && (\r\n              <div className=\"part 1\">\r\n                <h3>Smthng went wrong 😒😒 </h3>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"FormFooter\">\r\n              <span>Déjà membre ?</span>\r\n              <Link href=\"Signin\"><a>Connectez-vous</a></Link>\r\n            </div>\r\n            </>\r\n          )}\r\n          {Loggedin  && (\r\n            <div className=\"part 1\">\r\n              <h2>Nous saluons le retour!</h2>\r\n              <p>Vous êtes déjà connecté et serez bientôt redirigé vers page d'accueil.</p>\r\n              <div className=\"FormFooter\">\r\n                Si vous n'êtes pas redirigé automatiquement suivez<Link href=\"/\"><a>ce lien</a></Link>\r\n              </div>\r\n            </div>\r\n          )}\r\n      </div>\r\n    );\r\n}\r\nexport default FormComponent;"]},"metadata":{},"sourceType":"module"}