{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\accountsett\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../../components/header\";\nimport Head from \"../../components/head\";\nimport { Menu, Spin } from \"antd\";\nimport { useState, useEffect } from 'react';\nimport './sass/accountSettings.scss';\nimport AccountComp from \"./Components/AccountComp\";\nimport Trash from \"./Components/trashSvg\";\n\nvar accountSett = function accountSett(props) {\n  _s();\n\n  var _useState = useState('Account'),\n      current = _useState[0],\n      setCurrent = _useState[1];\n\n  var handleClick = function handleClick(e) {\n    setCurrent(e.key);\n  };\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      data = _useState3[0],\n      setData = _useState3[1];\n\n  useEffect(function () {\n    if (props.statusCode === 401) {\n      var location = \"/Auth/Signin/?ref=tokenexpired&location=\" + window.location.href;\n      window.location.replace(location);\n    } else {\n      console.log(props.data);\n      setData(props.data.profile);\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      title: \"Loading\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        marginTop: '-50px',\n        marginLeft: '-50px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, __jsx(Spin, {\n      size: \"large\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    })));\n  } else {\n    return __jsx(\"div\", {\n      className: \"body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, __jsx(Header, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }\n    }), __jsx(Head, {\n      title: \"Param\\xE8tres | 6Solutions\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"parmHeader\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, __jsx(\"h1\", {\n      className: \"title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, \"Param\\xE8tres\")), __jsx(\"div\", {\n      className: \"parmBody\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, __jsx(Menu, {\n      onClick: handleClick,\n      selectedKeys: current,\n      mode: \"horizontal\",\n      style: {\n        marginTop: '3%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }\n    }, __jsx(Menu.Item, {\n      key: \"Account\",\n      style: {\n        fontWeight: 'bolder'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \"Compte\"), __jsx(Menu.Item, {\n      key: \"Privacy\",\n      style: {\n        fontWeight: 'bolder'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 25\n      }\n    }, \"Confidentialit\\xE9 et conditions de service\"))), __jsx(\"div\", {\n      className: \"MenuContent\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, current === \"Account\" && __jsx(React.Fragment, null, __jsx(AccountComp, {\n      profile: data,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }\n    })), current === \"Privacy\" && __jsx(React.Fragment, null)), __jsx(\"div\", {\n      className: \"DeleteAccount\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, __jsx(Trash, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }\n    }), __jsx(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 34\n      }\n    }, \"Supprimez votre compte\"))));\n  }\n};\n\n_s(accountSett, \"xrPj5flxwHzrDms6iLxt/8kSFyg=\");\n\nexport var __N_SSP = true;\nexport default accountSett;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/accountsett/index.jsx"],"names":["Header","Head","Menu","Spin","useState","useEffect","AccountComp","Trash","accountSett","props","current","setCurrent","handleClick","e","key","loading","setLoading","data","setData","statusCode","location","window","href","replace","console","log","profile","position","top","left","marginTop","marginLeft","fontWeight"],"mappings":"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","sourcesContent":["import Header from \"../../components/header\";\r\nimport Head from \"../../components/head\";\r\nimport { Menu , Spin } from \"antd\";\r\nimport {useState , useEffect} from 'react';\r\n\r\nimport './sass/accountSettings.scss'\r\nimport AccountComp from \"./Components/AccountComp\";\r\nimport Trash from \"./Components/trashSvg\";\r\nconst accountSett = (props)=>{\r\n\r\n    const [current , setCurrent] = useState('Account');\r\n\r\n    const handleClick = e =>{\r\n        setCurrent(e.key);\r\n    }\r\n    const [loading,setLoading] = useState(true);\r\n    const [data , setData] = useState()\r\n    useEffect(()=>{\r\n        if (props.statusCode === 401) {\r\n            const location = \"/Auth/Signin/?ref=tokenexpired&location=\"+window.location.href;\r\n            window.location.replace(location);\r\n        }else{\r\n            console.log(props.data);\r\n            setData(props.data.profile);\r\n            setLoading(false); \r\n        }\r\n    },[])\r\n    if (loading ) {\r\n        \r\n        return(\r\n        <>\r\n                <Head title=\"Loading\"/>\r\n                <div style={{position : 'fixed',top : '50%',left:'50%',marginTop :'-50px',marginLeft:'-50px'}}>\r\n                    <Spin size=\"large\" />\r\n                </div>\r\n        </>\r\n        )\r\n    }else{\r\n\r\n        return(\r\n            <div className=\"body\">\r\n                <Header/>\r\n                <Head title=\"Paramètres | 6Solutions\"/>\r\n                <div className=\"parmHeader\">\r\n                    <h1 className=\"title\">Paramètres</h1>\r\n                </div>\r\n                <div className=\"parmBody\">\r\n                    <Menu onClick={handleClick} selectedKeys={current} mode=\"horizontal\" style={{marginTop :'3%'}}>\r\n                        <Menu.Item key=\"Account\" style={{fontWeight : 'bolder'}} >\r\n                            Compte\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"Privacy\" style={{fontWeight : 'bolder'}} >\r\n                        Confidentialité et conditions de service\r\n                        </Menu.Item>\r\n                    </Menu>\r\n                </div>\r\n                <div className=\"MenuContent\">\r\n                        {current === \"Account\" &&(\r\n                            <>\r\n                            <AccountComp profile={data}/>\r\n                            </>\r\n                        )}\r\n                        {current === \"Privacy\" &&(\r\n                            <>\r\n                            </>\r\n                        )}\r\n                </div>\r\n                <div className=\"DeleteAccount\">\r\n                    <div><Trash/><span>Supprimez votre compte</span></div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport const getServerSideProps = async (ctx) => {\r\n    try {\r\n        const cookie = ctx.req.headers.cookie ;\r\n        const url = \"http://localhost:9000/profiles/myprofile\" ;\r\n        const res = await fetch( url,{headers : {cookie}}); \r\n        const statusCode = res.status;\r\n        const data = await res.json();\r\n        \r\n        if (statusCode !== 200) {\r\n            throw statusCode \r\n        }\r\n        return  {\r\n            props : {data }\r\n        }\r\n    } \r\n    catch (error) {\r\n        ctx.res.statusCode = error;\r\n        return {\r\n               props : {statusCode : error}\r\n        };\r\n    }   \r\n}\r\nexport default accountSett ;"]},"metadata":{},"sourceType":"module"}