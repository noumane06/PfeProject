{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\components\\\\header.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport '../styles/header.scss';\nimport { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport axios from 'axios';\nimport ProfileIcon from './svg/profile.js';\nimport SettingsIcon from './svg/settings.js';\nimport LogoutIcon from './svg/logout.js';\n\nvar DropdownItem = function DropdownItem(props) {\n  return __jsx(\"a\", {\n    className: \"menuItem\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"icon-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }\n  }, props.lefticon), props.children);\n};\n\n_c = DropdownItem;\n\nvar DropDown = function DropDown() {\n  var handleLogout = function handleLogout() {\n    window.localStorage.removeItem(\"Tokens\");\n    window.location.reload();\n  };\n\n  return __jsx(\"div\", {\n    className: \"Dropdown\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, __jsx(DropdownItem, {\n    lefticon: __jsx(ProfileIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 37\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, \"Mon profile\"), __jsx(DropdownItem, {\n    lefticon: __jsx(SettingsIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 37\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }\n  }, \"Paremetres\"), __jsx(DropdownItem, {\n    lefticon: __jsx(LogoutIcon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 37\n      }\n    }),\n    onClick: handleLogout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, \"Se d\\xE9connecter\"));\n};\n\n_c2 = DropDown;\n\nvar Header = function Header() {\n  _s();\n\n  var _useState = useState(null),\n      userId = _useState[0],\n      setToken = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      opened = _useState3[0],\n      setOpen = _useState3[1];\n\n  var _useState4 = useState(),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  useEffect(function () {\n    var Token = window.localStorage.getItem(\"Tokens\");\n    jwt.verify(Token, \"secret\", function (err, decoded) {\n      if (!err) {\n        axios.get('http://localhost:9000/profiles/profile?userid=' + decoded.userId).then(function (res) {\n          setData(res.data.profile[0]);\n          setLoading(false);\n          setToken(decoded.userId);\n        })[\"catch\"](function (err) {\n          return console.error(err);\n        });\n      } else {\n        setLoading(false);\n        setToken(null);\n      }\n    });\n  });\n\n  var handleClick = function handleClick() {\n    window.location.replace(\"/Auth/Signin\");\n  };\n\n  return __jsx(\"div\", {\n    className: \"Header_Container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"Header_Logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"../static/Icons/LOGO2017.png\",\n    height: \"30\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  })), __jsx(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"li\", {\n    className: \"active\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 40\n    }\n  }, \"Acceuil\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/propos\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 38\n    }\n  }, \"A propos\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/temoignages\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 38\n    }\n  }, \"Temoignages\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/contact\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 38\n    }\n  }, \"Contact\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/questions\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 38\n    }\n  }, \"Questions\"))), __jsx(\"div\", {\n    className: \"Header_Buttons\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, !loading && userId === null && __jsx(React.Fragment, null, __jsx(\"input\", {\n    className: \"Header_subscribe\",\n    type: \"button\",\n    value: \"S'inscrire\",\n    onClick: function onClick() {\n      return window.location.replace(\"/Auth/SignUp\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    className: \"Header_signin\",\n    type: \"button\",\n    value: \"Se connecter\",\n    onClick: handleClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  })), !loading && userId !== null && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"ProfileThumb\",\n    onClick: function onClick() {\n      return setOpen(!opened);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, __jsx(\"div\", {\n    className: \"ProfileImg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, __jsx(\"img\", {\n    src: data.Usrimg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 33\n    }\n  })), __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }, data.companyname)), opened && __jsx(React.Fragment, null, __jsx(DropDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  })))));\n};\n\n_s(Header, \"QgB/wGDSqK+GEK3kxhAiPBP26W8=\");\n\n_c3 = Header;\nexport default Header;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"DropdownItem\");\n$RefreshReg$(_c2, \"DropDown\");\n$RefreshReg$(_c3, \"Header\");","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/components/header.js"],"names":["Link","useState","useEffect","jwt","axios","ProfileIcon","SettingsIcon","LogoutIcon","DropdownItem","props","lefticon","children","DropDown","handleLogout","window","localStorage","removeItem","location","reload","Header","userId","setToken","loading","setLoading","opened","setOpen","data","setData","Token","getItem","verify","err","decoded","get","then","res","profile","console","error","handleClick","replace","Usrimg","companyname"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport '../styles/header.scss';\r\nimport {useState , useEffect} from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nimport axios from 'axios';\r\nimport ProfileIcon from './svg/profile.js' ;\r\nimport SettingsIcon from './svg/settings.js' ;\r\nimport LogoutIcon from './svg/logout.js' ;\r\n\r\n\r\nconst DropdownItem = (props)=>{\r\n    return(\r\n        <a className=\"menuItem\">\r\n            <span className=\"icon-button\">{props.lefticon}</span>\r\n            {props.children}\r\n        </a>\r\n    )\r\n}\r\nconst DropDown = () =>{\r\n\r\n    const handleLogout = () =>{\r\n        window.localStorage.removeItem(\"Tokens\");\r\n        window.location.reload();\r\n    }\r\n    return(\r\n        <div className=\"Dropdown\">\r\n            <DropdownItem lefticon={<ProfileIcon/>}>Mon profile</DropdownItem>\r\n            <DropdownItem lefticon={<SettingsIcon/>}>Paremetres</DropdownItem>\r\n            <DropdownItem lefticon={<LogoutIcon/>} onClick={handleLogout}>Se déconnecter</DropdownItem>\r\n        </div>\r\n    )\r\n}\r\nconst Header = ()=>\r\n{\r\n    const [userId , setToken] = useState(null);\r\n    const [loading , setLoading] = useState(true);\r\n    const [opened , setOpen] = useState(false);\r\n    const [data , setData] = useState();\r\n    \r\n    useEffect(()=>{\r\n        const Token = window.localStorage.getItem(\"Tokens\");\r\n        jwt.verify(Token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                axios.get('http://localhost:9000/profiles/profile?userid='+decoded.userId)\r\n                .then(res =>{\r\n                    \r\n                    setData(res.data.profile[0]);\r\n                    setLoading(false);\r\n                    setToken(decoded.userId);\r\n                })\r\n                .catch(err => console.error(err));\r\n            }else\r\n            {\r\n                setLoading(false);\r\n                setToken(null);\r\n            }\r\n        })\r\n    });\r\n    const handleClick = ()=>{\r\n        window.location.replace(\"/Auth/Signin\");\r\n    }\r\n    \r\n    return(\r\n        <div className=\"Header_Container\">\r\n            <div className=\"Header_Logo\">\r\n                <img src=\"../static/Icons/LOGO2017.png\" height=\"30\" />\r\n            </div>\r\n            <ul>\r\n                <li className=\"active\"><Link href=\"/\">Acceuil</Link></li>\r\n                <li className=\"link\"><Link href=\"/propos\">A propos</Link></li>\r\n                <li className=\"link\"><Link href=\"/temoignages\">Temoignages</Link></li>\r\n                <li className=\"link\"><Link href=\"/contact\">Contact</Link></li>\r\n                <li className=\"link\"><Link href=\"/questions\">Questions</Link></li>\r\n            </ul>\r\n            <div className=\"Header_Buttons\">\r\n                {!loading && userId === null &&(\r\n                    <>\r\n                    <input className=\"Header_subscribe\" type=\"button\" value=\"S'inscrire\" onClick={() => window.location.replace(\"/Auth/SignUp\")}/>\r\n                    <input className=\"Header_signin\" type=\"button\" value=\"Se connecter\" onClick={handleClick}/>\r\n                    </>\r\n                ) }\r\n                {!loading && userId !== null &&(\r\n                    <>\r\n                        \r\n                        <div className=\"ProfileThumb\" onClick={()=>setOpen(!opened)}>\r\n                            <div className=\"ProfileImg\">\r\n                                <img src={data.Usrimg}/>\r\n                            </div>\r\n                            <span>{data.companyname}</span>\r\n                        </div>\r\n                        {opened &&(\r\n                            <>\r\n                            <DropDown/>\r\n                            </>\r\n                        )}\r\n                    </>\r\n                ) }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  Header ;"]},"metadata":{},"sourceType":"module"}