{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\[_id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport check_auth from './Components/check_auth';\n\nconst Profile = ({\n  data\n}) => {\n  const router = useRouter();\n  const profile = data.profile[0]; // const [data,setData] = useState();\n  // const [loading,setLoading] = useState(true);\n  // useEffect(()=>{\n  //     const token = window.localStorage.getItem(\"Tokens\");\n  //     jwt.verify(token,\"secret\",function (err , decoded) {\n  //         if (!err) {\n  //             const auth = \"Bearer \"+token ;\n  //             var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded.userId ;\n  //             axios.get(url,{\n  //                 headers: {\n  //                   'Authorization': auth\n  //                 }\n  //               })\n  //             .then(res=>{\n  //                 setData(res.data.profile)\n  //                 //console.log(res.data.profile)\n  //                 setLoading(false);\n  //             })\n  //             .catch(error =>{\n  //                 console.log(error);\n  //             })\n  //         }\n  //     });\n  // },[])\n  // if (loading) {\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, profile._id, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, \"Bonjour \", profile.nom, \" \", profile.prenom)); // }else{\n  //     const Message = \"Bonjour \"+data.nom+\" \"+data.prenom+\" , Votre email est : \"+data.email ;\n  //     return(\n  //     <div className=\"body\">\n  //         <Header/>\n  //         <Head/>\n  //         <h1>{Message}</h1>\n  //     </div>\n  //     )\n  // }\n};\n\nexport async function getStaticPaths() {\n  const res = await fetch(\"http://localhost:9000/profiles/\");\n  const data = await res.json();\n  var paths = [];\n  data.response.profiles.map(profile => {\n    paths.push({\n      params: {\n        _id: profile._id\n      }\n    });\n  });\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const token = check_auth();\n  console.log(token);\n  const url = \"http://localhost:9000/profiles/profile?userid=\" + params._id;\n  const res = await fetch(url);\n  const data = await res.json();\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/[_id].js"],"names":["Header","Head","useRouter","axios","check_auth","Profile","data","router","profile","_id","nom","prenom","getStaticPaths","res","fetch","json","paths","response","profiles","map","push","params","fallback","getStaticProps","token","console","log","url","props"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;AAIA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAU;AACtB,QAAMC,MAAM,GAAGL,SAAS,EAAxB;AACA,QAAMM,OAAO,GAAGF,IAAI,CAACE,OAAL,CAAa,CAAb,CAAhB,CAFsB,CAItB;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AACI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,OAAO,CAACC,GADb,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACaD,OAAO,CAACE,GADrB,OAC2BF,OAAO,CAACG,MADnC,CAFJ,CADJ,CA/BkB,CAuCtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEH,CAlDD;;AAqDA,OAAO,eAAeC,cAAf,GAA+B;AAClC,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAD,CAAvB;AACA,QAAMR,IAAI,GAAG,MAAMO,GAAG,CAACE,IAAJ,EAAnB;AACA,MAAIC,KAAK,GAAG,EAAZ;AACAV,EAAAA,IAAI,CAACW,QAAL,CAAcC,QAAd,CAAuBC,GAAvB,CAA2BX,OAAO,IAAE;AAChCQ,IAAAA,KAAK,CAACI,IAAN,CAAW;AAACC,MAAAA,MAAM,EAAG;AACjBZ,QAAAA,GAAG,EAAGD,OAAO,CAACC;AADG;AAAV,KAAX;AAGH,GAJD;AAMA,SAAM;AACFO,IAAAA,KADE;AAEFM,IAAAA,QAAQ,EAAG;AAFT,GAAN;AAIH;AACD,OAAO,eAAeC,cAAf,CAA8B;AAAEF,EAAAA;AAAF,CAA9B,EAAyC;AAC5C,QAAMG,KAAK,GAAGpB,UAAU,EAAxB;AACAqB,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,QAAMG,GAAG,GAAG,mDAAiDN,MAAM,CAACZ,GAApE;AACA,QAAMI,GAAG,GAAG,MAAMC,KAAK,CAACa,GAAD,CAAvB;AACA,QAAMrB,IAAI,GAAG,MAAMO,GAAG,CAACE,IAAJ,EAAnB;AACA,SAAM;AACHa,IAAAA,KAAK,EAAG;AACJtB,MAAAA;AADI;AADL,GAAN;AAKH;AAGD,eAAeD,OAAf","sourcesContent":["import Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport { useRouter } from 'next/router'\r\nimport axios from 'axios'; \r\nimport check_auth from './Components/check_auth';\r\n\r\n\r\n\r\nconst Profile = ({data})=>{\r\n    const router = useRouter();\r\n    const profile = data.profile[0];\r\n    \r\n    // const [data,setData] = useState();\r\n    // const [loading,setLoading] = useState(true);\r\n\r\n    // useEffect(()=>{\r\n    //     const token = window.localStorage.getItem(\"Tokens\");\r\n    //     jwt.verify(token,\"secret\",function (err , decoded) {\r\n    //         if (!err) {\r\n    //             const auth = \"Bearer \"+token ;\r\n    //             var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded.userId ;\r\n    //             axios.get(url,{\r\n    //                 headers: {\r\n    //                   'Authorization': auth\r\n    //                 }\r\n    //               })\r\n    //             .then(res=>{\r\n    //                 setData(res.data.profile)\r\n    //                 //console.log(res.data.profile)\r\n    //                 setLoading(false);\r\n    //             })\r\n    //             .catch(error =>{\r\n    //                 console.log(error);\r\n    //             })\r\n    //         }\r\n    //     });\r\n        \r\n    // },[])\r\n    // if (loading) {\r\n        return(\r\n            <div>\r\n                {profile._id}\r\n                <h2>\r\n                    Bonjour {profile.nom} {profile.prenom}\r\n                </h2>\r\n            </div>\r\n        )\r\n    // }else{\r\n    //     const Message = \"Bonjour \"+data.nom+\" \"+data.prenom+\" , Votre email est : \"+data.email ;\r\n    //     return(\r\n    //     <div className=\"body\">\r\n    //         <Header/>\r\n    //         <Head/>\r\n    //         <h1>{Message}</h1>\r\n    //     </div>\r\n    //     )\r\n    // }\r\n    \r\n}\r\n\r\n\r\nexport async function getStaticPaths(){\r\n    const res = await fetch(\"http://localhost:9000/profiles/\");\r\n    const data = await res.json();\r\n    var paths = [];\r\n    data.response.profiles.map(profile=>{\r\n        paths.push({params : {\r\n            _id : profile._id\r\n        }})\r\n    })\r\n    \r\n    return{\r\n        paths ,\r\n        fallback : false\r\n    }\r\n}\r\nexport async function getStaticProps({ params }){\r\n    const token = check_auth();\r\n    console.log(token);\r\n    const url = \"http://localhost:9000/profiles/profile?userid=\"+params._id ;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    return{\r\n       props : {\r\n           data\r\n       }\r\n    }\r\n}\r\n\r\n\r\nexport default Profile ;"]},"metadata":{},"sourceType":"module"}