{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Search\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport './Scss/search.scss';\nimport { useRouter } from 'next/router'; // ------------------------------------------------\n\nimport SearchCard from '../../components/SearchCard';\nimport SearchBar from '../../components/SearchBar';\nimport { Skeleton, Pagination } from 'antd';\nimport nextIcon from './components/nextIcon'; //--------------------------------------------------\n\nconst Search = ({\n  props,\n  qu\n}) => {\n  const {\n    0: profiles,\n    1: setProfile\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const router = useRouter();\n  useEffect(() => {\n    setProfile(props.profile);\n    setTimeout(() => {\n      setLoading(false);\n    }, 500);\n  });\n\n  const handleCLick = () => {\n    setLoading(true);\n\n    if (+qu.page <= Math.round(props.count / 9) && +qu.page !== 0) {\n      var newPage = +qu.page + 1;\n      router.push('/Search?companyname=' + qu.companyname + '&domaine=' + qu.domaine + '&city=' + qu.city + '&page=' + newPage);\n    }\n  };\n\n  const handleBack = () => {\n    setLoading(true);\n    var newPage = +qu.page - 1;\n    router.push('/Search?companyname=' + qu.companyname + '&domaine=' + qu.domaine + '&city=' + qu.city + '&page=' + newPage);\n  };\n\n  var page = qu.page;\n  return __jsx(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    title: \"Resulat de recherche | 6 solutions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 14\n    }\n  }), __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 14\n    }\n  }), __jsx(\"div\", {\n    className: \"searchPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 14\n    }\n  }, __jsx(SearchBar, {\n    searchItem: qu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"CardContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 14\n    }\n  }, __jsx(Skeleton, {\n    loading: loading,\n    active: true,\n    paragraph: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, profiles !== undefined && __jsx(React.Fragment, null, profiles.map(profile => __jsx(React.Fragment, null, __jsx(SearchCard, {\n    key: profile._id,\n    className: \"Card1\",\n    profile: profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  })))))), __jsx(\"div\", {\n    className: \"pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 14\n    }\n  }, __jsx(\"button\", {\n    className: \"backPage test\",\n    onClick: handleBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"Back\"), __jsx(\"span\", {\n    className: \"pageNumber test \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, qu.page, \" sur \", Math.round(props.count / 9)), __jsx(\"div\", {\n    className: \"nextPage test \",\n    onClick: handleCLick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, __jsx(\"nextIcon\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 75\n    }\n  }))));\n};\n\nSearch.getInitialProps = async ({\n  query\n}) => {\n  const Url = 'http://localhost:9000/profiles/search?companyname=' + query.companyname + '&domaine=' + query.domaine + '&city=' + query.city + '&page=' + query.page;\n  const res = await fetch(Url);\n  const json = await res.json();\n  return {\n    props: json,\n    qu: query\n  };\n};\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Search/index.js"],"names":["useEffect","useState","Header","Head","useRouter","SearchCard","SearchBar","Skeleton","Pagination","nextIcon","Search","props","qu","profiles","setProfile","loading","setLoading","router","profile","setTimeout","handleCLick","page","Math","round","count","newPage","push","companyname","domaine","city","handleBack","undefined","map","_id","getInitialProps","query","Url","res","fetch","json"],"mappings":"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","sourcesContent":["import {useEffect , useState} from 'react';\r\nimport Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport './Scss/search.scss';\r\nimport { useRouter } from 'next/router'\r\n// ------------------------------------------------\r\n\r\nimport SearchCard from '../../components/SearchCard';\r\nimport SearchBar from '../../components/SearchBar';\r\nimport { Skeleton ,   Pagination } from 'antd';\r\nimport nextIcon from './components/nextIcon';\r\n//--------------------------------------------------\r\nconst Search =({props ,qu})=>{\r\n\r\n    const [profiles , setProfile] = useState();\r\n    const [loading , setLoading] = useState(true);\r\n    const router = useRouter()\r\n    useEffect(()=>{\r\n        setProfile(props.profile);\r\n        setTimeout(() => {\r\n            setLoading(false); \r\n        }, 500);\r\n        \r\n    })\r\n\r\n    const handleCLick = ()=>{\r\n        setLoading(true);\r\n        if (+qu.page <= Math.round(props.count /9) && +qu.page !== 0  ) {\r\n            var newPage = +qu.page+1\r\n            router.push('/Search?companyname='+qu.companyname+'&domaine='+qu.domaine+'&city='+qu.city+'&page='+newPage)\r\n        }\r\n        \r\n    }\r\n    const handleBack = ()=>{\r\n        setLoading(true);\r\n        var newPage = +qu.page-1\r\n        router.push('/Search?companyname='+qu.companyname+'&domaine='+qu.domaine+'&city='+qu.city+'&page='+newPage)\r\n    }\r\n    var page = qu.page ;\r\n    return(\r\n        <div className=\"body\">\r\n             <Head title=\"Resulat de recherche | 6 solutions\" />\r\n             <Header />\r\n             <div className=\"searchPage\">\r\n                <SearchBar searchItem={qu}/>\r\n             </div>\r\n             \r\n             <div className=\"CardContainer\">\r\n                <Skeleton loading={loading} active paragraph>\r\n                    {profiles !== undefined && (\r\n                        <>\r\n                        {profiles.map(profile=>(\r\n                                <>\r\n                                <SearchCard key={profile._id} className=\"Card1\" profile={profile}/>\r\n                                </>\r\n                        ))}\r\n                        </>\r\n                    )}\r\n                </Skeleton>\r\n                    \r\n             </div>\r\n\r\n             <div className=\"pagination\">\r\n                    <button className=\"backPage test\" onClick={handleBack}>Back</button>\r\n                    <span className=\"pageNumber test \">{qu.page} sur {Math.round(props.count /9)}</span>\r\n                    <div className=\"nextPage test \" onClick={handleCLick}><nextIcon/></div>\r\n             </div>\r\n             \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nSearch.getInitialProps = async ({ query }) => {\r\n     const Url = 'http://localhost:9000/profiles/search?companyname='+query.companyname+'&domaine='+query.domaine+'&city='+query.city+'&page='+query.page  ;\r\n     const res = await fetch(Url)\r\n     const json = await res.json()\r\n     return {props : json , qu : query}\r\n  }\r\n\r\nexport default Search ;"]},"metadata":{},"sourceType":"module"}