{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\components\\\\SearchBar.js\";\nvar __jsx = React.createElement;\nimport { AutoComplete } from 'antd';\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nconst SearchBar = () => {\n  const {\n    Option\n  } = AutoComplete;\n  const {\n    0: nameOptions,\n    1: setOptions\n  } = useState([]);\n  const {\n    0: CityOptions,\n    1: setCityOptions\n  } = useState([]);\n  const {\n    0: DomaineOptions,\n    1: setDomaineOptions\n  } = useState([]);\n  const {\n    0: Domaines,\n    1: setDomaines\n  } = useState([]);\n  const {\n    0: City,\n    1: setCity\n  } = useState([]);\n\n  const checker = array => {\n    var els = [];\n    array.map(element => element.domaine.map(dom => {\n      els.includes(dom) ? 'null' : els.push(dom);\n    }));\n    return els;\n  };\n\n  const onSearchName = searchText => {\n    setNametext(searchText);\n    const Url = 'http://localhost:9000/profiles/search?companyname=' + nameText + '&domaine=' + domaineText + '&city=' + cityText;\n    axios.get(Url).then(({\n      data\n    }) => {\n      if (data !== undefined) {\n        setNames(data.profile);\n\n        if (Names.length !== 0) {\n          setOptions(!searchText ? [] : Names);\n        }\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const onSearchCities = searchText => {\n    setcitytext(searchText);\n    const Url = 'http://localhost:9000/profiles/search?companyname=' + nameText + '&domaine=' + domaineText + '&city=' + cityText;\n    axios.get(Url).then(({\n      data\n    }) => {\n      if (data !== undefined) {\n        setNames(data.profile);\n\n        if (Names.length !== 0) {\n          setCityOptions(!searchText ? [] : Names.filter(em => em.city.includes(searchText.toLowerCase())));\n        }\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const onSelectName = data => {\n    setNametext(data);\n  };\n\n  const onSelectDomaine = data => {\n    setdomainetext(data);\n  };\n\n  const onSelectCity = data => {\n    setcitytext(data);\n  };\n\n  const onSearchDomaine = searchText => {\n    setdomainetext(searchText);\n    const Url = 'http://localhost:9000/profiles/search?companyname=' + nameText + '&domaine=' + domaineText + '&city=' + cityText;\n    axios.get(Url).then(({\n      data\n    }) => {\n      if (data !== undefined) {\n        setNames(data.profile);\n\n        if (Names.length !== 0) {\n          setDomaineOptions(!searchText ? [] : checker(Names));\n          console.log(DomaineOptions);\n        }\n      }\n    }).catch(err => console.log(err));\n  };\n\n  return __jsx(\"div\", {\n    className: \"search_Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    \"aria-hidden\": true,\n    className: \"fa fa-id-card icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), __jsx(AutoComplete, {\n    className: \"searchInput\",\n    onSelect: onSelectName,\n    onSearch: onSearchName,\n    placeholder: \"Soci\\xE9t\\xE9/Personne\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, nameOptions.map(name => __jsx(Option, {\n    key: name.companyname,\n    value: name.companyname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, name.companyname)))), __jsx(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    \"aria-hidden\": true,\n    className: \"fa fa-globe icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }), __jsx(AutoComplete, {\n    className: \"searchInput\",\n    onSelect: onSelectDomaine,\n    onSearch: onSearchDomaine,\n    placeholder: \"Domaine\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, DomaineOptions.map(domaine => __jsx(Option, {\n    key: domaine,\n    value: domaine,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, domaine)))), __jsx(\"div\", {\n    className: \"inputContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    \"aria-hidden\": true,\n    className: \"fa fa-map-marker icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }), __jsx(AutoComplete, {\n    className: \"searchInput\",\n    onSelect: onSelectCity,\n    onSearch: onSearchCities,\n    placeholder: \"Ville\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, CityOptions.map(element => __jsx(Option, {\n    key: element.city,\n    value: element.city,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, element.city)))), __jsx(\"a\", {\n    className: \"searchButton\",\n    type: \"button\",\n    href: '/Search?companyname=' + nameText + '&domaine=' + domaineText + '&city=' + cityText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    \"aria-hidden\": true,\n    className: \"fa fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  })));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/components/SearchBar.js"],"names":["AutoComplete","React","useState","axios","SearchBar","Option","nameOptions","setOptions","CityOptions","setCityOptions","DomaineOptions","setDomaineOptions","Domaines","setDomaines","City","setCity","checker","array","els","map","element","domaine","dom","includes","push","onSearchName","searchText","setNametext","Url","nameText","domaineText","cityText","get","then","data","undefined","setNames","profile","Names","length","catch","err","console","log","onSearchCities","setcitytext","filter","em","city","toLowerCase","onSelectName","onSelectDomaine","setdomainetext","onSelectCity","onSearchDomaine","name","companyname"],"mappings":"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","sourcesContent":["import { AutoComplete } from 'antd';\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst SearchBar = ()=>{\r\n\r\n    const { Option } = AutoComplete;\r\n    const [nameOptions, setOptions] = useState([]);\r\n    const [CityOptions, setCityOptions] = useState([]);\r\n    const [DomaineOptions, setDomaineOptions] = useState([]);\r\n    const [Domaines, setDomaines] = useState([]);\r\n    const [City, setCity] = useState([]);\r\n\r\n    const checker =  (array)=>{\r\n        var els = [] ; \r\n         array.map(element => element.domaine.map(dom => {\r\n          els.includes(dom) ? 'null' : els.push(dom)\r\n        }))\r\n        return els ;\r\n    }\r\n    const onSearchName = searchText => {\r\n      \r\n        setNametext(searchText);\r\n        const Url = 'http://localhost:9000/profiles/search?companyname='+nameText+'&domaine='+domaineText+'&city='+cityText ;\r\n        axios.get(Url).then(({data}) =>{\r\n            if (data !== undefined) {\r\n                setNames(data.profile);\r\n                if (Names.length !== 0) {\r\n                  setOptions(!searchText ? [] : Names);\r\n                }\r\n          }\r\n        }).catch(err => console.log(err));\r\n    };\r\n    const onSearchCities = searchText => {\r\n        setcitytext(searchText)\r\n        const Url = 'http://localhost:9000/profiles/search?companyname='+nameText+'&domaine='+domaineText+'&city='+cityText ;\r\n        axios.get(Url).then(({data}) =>{\r\n            if (data !== undefined) {\r\n                setNames(data.profile);\r\n                if (Names.length !== 0) {\r\n                  setCityOptions(!searchText ? [] : Names.filter(em => em.city.includes(searchText.toLowerCase() )));\r\n                }\r\n          }\r\n        }).catch(err => console.log(err));\r\n      };\r\n      \r\n      const onSelectName = data => {\r\n        setNametext(data);\r\n      };\r\n      const onSelectDomaine = data => {\r\n       setdomainetext(data)\r\n      };\r\n      const onSelectCity = data => {\r\n        setcitytext(data)\r\n      };\r\n    const onSearchDomaine = searchText => {\r\n        setdomainetext(searchText)\r\n        const Url = 'http://localhost:9000/profiles/search?companyname='+nameText+'&domaine='+domaineText+'&city='+cityText ;\r\n        axios.get(Url).then(({data}) =>{\r\n            if (data !== undefined) {\r\n                setNames(data.profile);\r\n                if (Names.length !== 0) {\r\n                  setDomaineOptions(!searchText ? [] : checker(Names));\r\n                  console.log(DomaineOptions);\r\n                }\r\n          }\r\n        }).catch(err => console.log(err));\r\n    };\r\n\r\n    return(\r\n        <div className=\"search_Container\">\r\n            <div className=\"inputContainer\">\r\n              <i aria-hidden className=\"fa fa-id-card icon\"></i>\r\n              <AutoComplete\r\n                className=\"searchInput\"\r\n                onSelect={onSelectName}\r\n                onSearch={onSearchName}\r\n                placeholder=\"Société/Personne\"\r\n              >\r\n                 {nameOptions.map(name =>(\r\n                   \r\n                  <Option key={name.companyname} value={name.companyname}>\r\n                    {name.companyname}\r\n                  </Option>\r\n                ))}\r\n              </AutoComplete>\r\n            </div>\r\n            <div className=\"inputContainer\">\r\n              <i aria-hidden className=\"fa fa-globe icon\"></i>\r\n              <AutoComplete className=\"searchInput\" onSelect={onSelectDomaine} onSearch={onSearchDomaine} placeholder=\"Domaine\">\r\n                {DomaineOptions.map(domaine =>(\r\n                    <Option key={domaine} value={domaine}>\r\n                      {domaine}\r\n                    </Option>\r\n                    ))}\r\n              </AutoComplete>\r\n            </div>\r\n            <div className=\"inputContainer\">\r\n              <i aria-hidden className=\"fa fa-map-marker icon\"></i>\r\n              <AutoComplete\r\n                className=\"searchInput\"\r\n                onSelect={onSelectCity}\r\n                onSearch={onSearchCities}\r\n                placeholder=\"Ville\"\r\n              >\r\n                  {CityOptions.map(element =>(\r\n                    <Option key={element.city} value={element.city}>\r\n                      {element.city}\r\n                    </Option>\r\n                ))}\r\n              </AutoComplete>\r\n            </div>\r\n\r\n            <a className=\"searchButton\" type=\"button\" href={'/Search?companyname='+nameText+'&domaine='+domaineText+'&city='+cityText}>\r\n              <i aria-hidden className=\"fa fa-search\"></i>\r\n            </a>\r\n            \r\n          </div>\r\n    )\r\n}\r\nexport default SearchBar ;"]},"metadata":{},"sourceType":"module"}