{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport axios from 'axios';\nimport { useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nexport async function getStaticProps() {\n  // Call an external API endpoint to get posts.\n  // You can use any data fetching library\n  useEffect(() => {\n    const token = window.localStorage.getItem(\"Tokens\");\n    var decoded = jwt.verify(token, \"secret\", function (err, decoded) {\n      if (!err) {\n        return decoded.userId;\n      }\n    });\n  });\n  console.log(decoded);\n  var url = \"http://localhost:9000/profiles/myprofile?userid=\" + decoded;\n  const res = await fetch(url);\n  const posts = await res.json(); // By returning { props: posts }, the Blog component\n  // will receive `posts` as a prop at build time\n\n  return {\n    props: {\n      posts\n    }\n  };\n}\nexport default (({\n  posts\n}) => {\n  const nom = posts.response.profiles[0].nom;\n  const prenom = posts.response.profiles[0].prenom;\n  const companyname = posts.response.profiles[0].companyname;\n  const string = \"Bonsoir \" + nom + \" \" + prenom + \", Votre societe est \" + companyname;\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }), string);\n});","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/index.js"],"names":["Header","Head","axios","useEffect","jwt","getStaticProps","token","window","localStorage","getItem","decoded","verify","err","userId","console","log","url","res","fetch","posts","json","props","nom","response","profiles","prenom","companyname","string"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,SAAR,QAAwB,OAAxB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAO,eAAeC,cAAf,GAAgC;AAE/B;AACJ;AACAF,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMG,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAAd;AACA,QAAIC,OAAO,GAAKN,GAAG,CAACO,MAAJ,CAAWL,KAAX,EAAiB,QAAjB,EAA0B,UAAUM,GAAV,EAAgBF,OAAhB,EAAyB;AAC/D,UAAI,CAACE,GAAL,EAAU;AACN,eAAOF,OAAO,CAACG,MAAf;AACH;AACJ,KAJe,CAAhB;AAKH,GAPQ,CAAT;AASAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,OAAZ;AACA,MAAIM,GAAG,GAAG,qDAAmDN,OAA7D;AACA,QAAMO,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAvB;AACA,QAAMG,KAAK,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAApB,CAhBmC,CAkBnC;AACA;;AACA,SAAO;AACHC,IAAAA,KAAK,EAAE;AACPF,MAAAA;AADO;AADJ,GAAP;AAKH;AACD,gBAAe,CAAC;AAACA,EAAAA;AAAD,CAAD,KAAW;AACtB,QAAMG,GAAG,GAAGH,KAAK,CAACI,QAAN,CAAeC,QAAf,CAAwB,CAAxB,EAA2BF,GAAvC;AACA,QAAMG,MAAM,GAAGN,KAAK,CAACI,QAAN,CAAeC,QAAf,CAAwB,CAAxB,EAA2BC,MAA1C;AACA,QAAMC,WAAW,GAAGP,KAAK,CAACI,QAAN,CAAeC,QAAf,CAAwB,CAAxB,EAA2BE,WAA/C;AACA,QAAMC,MAAM,GAAG,aAAWL,GAAX,GAAe,GAAf,GAAmBG,MAAnB,GAA0B,sBAA1B,GAAiDC,WAAhE;AACA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGKC,MAHL,CADJ;AAOH,CAZD","sourcesContent":["import Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport axios from 'axios'; \r\nimport {useEffect} from 'react'\r\nimport jwt from 'jsonwebtoken';\r\nexport async function getStaticProps() {\r\n    \r\n        // Call an external API endpoint to get posts.\r\n    // You can use any data fetching library\r\n    useEffect(()=>{\r\n        const token = window.localStorage.getItem(\"Tokens\");\r\n        var decoded =   jwt.verify(token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                return decoded.userId ;\r\n            }\r\n        });\r\n    })\r\n    \r\n    console.log(decoded);\r\n    var url = \"http://localhost:9000/profiles/myprofile?userid=\"+decoded ;\r\n    const res = await fetch(url)\r\n    const posts = await res.json()\r\n    \r\n    // By returning { props: posts }, the Blog component\r\n    // will receive `posts` as a prop at build time\r\n    return {\r\n        props: {\r\n        posts,\r\n        },\r\n    }\r\n}\r\nexport default ({posts})=>{\r\n    const nom = posts.response.profiles[0].nom ; \r\n    const prenom = posts.response.profiles[0].prenom ; \r\n    const companyname = posts.response.profiles[0].companyname ; \r\n    const string = \"Bonsoir \"+nom+\" \"+prenom+\", Votre societe est \"+companyname ;\r\n    return(\r\n        <div>\r\n            <Header/>\r\n            <Head/>\r\n            {string}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}