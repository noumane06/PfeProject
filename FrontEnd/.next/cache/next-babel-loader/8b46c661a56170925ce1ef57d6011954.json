{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Search\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport './Scss/search.scss';\nimport { useRouter } from 'next/router';\nimport { Skeleton } from 'antd';\nimport axios from 'axios'; // ------------------------------------------------\n\nimport SearchCard from '../../components/SearchCard';\nimport SearchBar from '../../components/SearchBar'; //--------------------------------------------------\n\nconst Search = ({\n  qu\n}) => {\n  const {\n    0: profiles,\n    1: setProfile\n  } = useState(null);\n  const {\n    0: nodata,\n    1: setnodata\n  } = useState(false);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const router = useRouter();\n  useEffect(() => {\n    // setProfile(props.profile);\n    // if (props.profile === undefined) {\n    //     setnodata(true);\n    // }\n    setLoading(false);\n    const Url = 'http://localhost:9000/profiles/search?companyname=' + query.companyname + '&domaine=' + query.domaine + '&city=' + query.city + '&page=' + query.page;\n    axios.get(Url).then(res => console.log(res)).catch(err => console.log(err));\n  });\n\n  const handleCLick = () => {\n    setLoading(true);\n\n    if (+qu.page < Math.round(props.count / 9) && +qu.page !== 0) {\n      var newPage = +qu.page + 1;\n      router.push('/Search?companyname=' + qu.companyname + '&domaine=' + qu.domaine + '&city=' + qu.city + '&page=' + newPage);\n    }\n  };\n\n  const handleBack = () => {\n    setLoading(true);\n    var newPage = +qu.page - 1;\n    router.push('/Search?companyname=' + qu.companyname + '&domaine=' + qu.domaine + '&city=' + qu.city + '&page=' + newPage);\n  };\n\n  return __jsx(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, __jsx(Head, {\n    title: \"Resulat de recherche | 6 solutions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 14\n    }\n  }), __jsx(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 14\n    }\n  }), __jsx(\"div\", {\n    className: \"searchPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 14\n    }\n  }, __jsx(SearchBar, {\n    searchItem: qu,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"CardContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 14\n    }\n  }, profiles !== null && __jsx(Skeleton, {\n    loading: loading,\n    active: true,\n    avatar: true,\n    round: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, profiles.map(profile => __jsx(React.Fragment, null, __jsx(SearchCard, {\n    key: profile._id,\n    className: \"Card1\",\n    profile: profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 33\n    }\n  }))))), nodata && __jsx(\"div\", {\n    className: \"Noresults\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, __jsx(\"img\", {\n    src: \"/static/Assets/No_comments.png\",\n    height: \"300\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 33\n    }\n  }), __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }, \"Aucun r\\xE9sultat trouv\\xE9\"), __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 33\n    }\n  }, \"Il semble que nous ne trouvons aucun r\\xE9sultat bas\\xE9 sur la recherche.\")));\n};\n\nSearch.getInitialProps = async ({\n  query\n}) => {\n  return {\n    props: [{\n      test: \"this is a test\"\n    }],\n    qu: query\n  };\n};\n\nexport default Search;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Search/index.js"],"names":["useEffect","useState","Header","Head","useRouter","Skeleton","axios","SearchCard","SearchBar","Search","qu","profiles","setProfile","nodata","setnodata","loading","setLoading","router","Url","query","companyname","domaine","city","page","get","then","res","console","log","catch","err","handleCLick","Math","round","props","count","newPage","push","handleBack","map","profile","_id","getInitialProps","test"],"mappings":"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","sourcesContent":["import {useEffect , useState} from 'react';\r\nimport Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport './Scss/search.scss';\r\nimport { useRouter } from 'next/router';\r\nimport { Skeleton } from 'antd';\r\nimport axios from 'axios';\r\n// ------------------------------------------------\r\n\r\nimport SearchCard from '../../components/SearchCard';\r\nimport SearchBar from '../../components/SearchBar';\r\n//--------------------------------------------------\r\nconst Search =({ qu})=>{\r\n\r\n    const [profiles , setProfile] = useState(null);\r\n    const [nodata ,setnodata] = useState(false);\r\n    const [loading ,setLoading] = useState(true);\r\n    const router = useRouter()\r\n    useEffect(()=>{\r\n        // setProfile(props.profile);\r\n        // if (props.profile === undefined) {\r\n        //     setnodata(true);\r\n        // }\r\n        setLoading(false);\r\n        const Url = 'http://localhost:9000/profiles/search?companyname='+query.companyname+'&domaine='+query.domaine+'&city='+query.city+'&page='+query.page  ;\r\n        axios.get(Url)\r\n        .then(res => console.log(res))\r\n        .catch(err => console.log(err));\r\n    })\r\n\r\n    const handleCLick = ()=>{\r\n        setLoading(true);\r\n        if (+qu.page < Math.round(props.count /9) && +qu.page !== 0  ) {\r\n            var newPage = +qu.page+1\r\n            router.push('/Search?companyname='+qu.companyname+'&domaine='+qu.domaine+'&city='+qu.city+'&page='+newPage)\r\n        }\r\n        \r\n    }\r\n    const handleBack = ()=>{\r\n        setLoading(true);\r\n        var newPage = +qu.page-1\r\n        router.push('/Search?companyname='+qu.companyname+'&domaine='+qu.domaine+'&city='+qu.city+'&page='+newPage)\r\n    }\r\n    return(\r\n        <div className=\"body\">\r\n             <Head title=\"Resulat de recherche | 6 solutions\" />\r\n             <Header />\r\n             <div className=\"searchPage\">\r\n                <SearchBar searchItem={qu}/>\r\n             </div>\r\n             \r\n             <div className=\"CardContainer\">\r\n                    {profiles !== null && (\r\n                        <Skeleton loading={loading} active={true} avatar={true} round ={true}>\r\n                        {profiles.map(profile=>(\r\n                                <>\r\n                                <SearchCard key={profile._id} className=\"Card1\" profile={profile}/>\r\n                                </>\r\n                        ))}\r\n                        </Skeleton>\r\n                    )}\r\n             </div>\r\n             {nodata  &&(\r\n                        <div className=\"Noresults\">\r\n                                <img src=\"/static/Assets/No_comments.png\" height=\"300\"/>\r\n                                <h2>Aucun résultat trouvé</h2>\r\n                                <p>Il semble que nous ne trouvons aucun résultat basé sur la recherche.</p>\r\n                        </div>\r\n              )}\r\n\r\n             {/* <div className=\"pagination\">\r\n                    <button className={qu.page <=1 || profiles.count === undefined  ? \"disabled test\" : \"backPage test\"} onClick={handleBack}>Précédent</button>\r\n                    {profiles.count !== undefined &&(<span className=\"pageNumber test \">{qu.page} sur {Math.round(profiles.count /9) !== 0  ? Math.round(profiles.count /9) : 1 }</span>)}\r\n                    {profiles.count === undefined &&(<span className=\"pageNumber test \">-</span>)}\r\n                    <button className={qu.page >= Math.round(profiles.count / 9) || profiles.count === undefined ? \"disabled test \" : \"nextPage test \" } onClick={handleCLick}>Suivant</button>\r\n             </div> */}\r\n             \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nSearch.getInitialProps = async ({ query }) => {\r\n    \r\n    return {props : [{test : \"this is a test\"}] , qu : query}\r\n}\r\n\r\nexport default Search ;"]},"metadata":{},"sourceType":"module"}