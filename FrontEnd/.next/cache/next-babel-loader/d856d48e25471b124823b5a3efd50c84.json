{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\[_id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport { useRouter } from 'next/router';\nimport { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\nimport MyProfile from './Components/myProfile';\nimport PublicProfile from './Components/publicProfile';\n\nconst Profile = ({\n  data\n}) => {\n  const router = useRouter();\n  const profile = data.profile[0];\n  const {\n    0: userid,\n    1: setData\n  } = useState();\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  useEffect(() => {\n    const token = window.localStorage.getItem(\"Tokens\");\n    jwt.verify(token, \"secret\", function (err, decoded) {\n      if (!err) {\n        setData(decoded.userId);\n        setLoading(false);\n      } else {\n        console.log(err);\n      }\n    });\n  }, []); // if (loading) {\n  //     return(\n  //     <div className=\"body\">\n  //         loading ...\n  //     </div>\n  //     )\n  // }else{\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"Bonjour\", userid === profile._id && __jsx(MyProfile, {\n    profile: profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }), userid !== profile._id && __jsx(PublicProfile, {\n    profile: profile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }))); // }\n};\n\nexport async function getStaticPaths() {\n  const res = await fetch(\"http://localhost:9000/profiles/\");\n  const data = await res.json();\n  var paths = [];\n  data.response.profiles.map(profile => {\n    paths.push({\n      params: {\n        _id: profile._id\n      }\n    });\n  });\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const url = \"http://localhost:9000/profiles/profile?userid=\" + params._id;\n  const res = await fetch(url);\n  const data = await res.json();\n  return {\n    props: {\n      data\n    }\n  };\n}\nexport default Profile;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/[_id].js"],"names":["Header","Head","useRouter","useState","useEffect","jwt","MyProfile","PublicProfile","Profile","data","router","profile","userid","setData","loading","setLoading","token","window","localStorage","getItem","verify","err","decoded","userId","console","log","_id","getStaticPaths","res","fetch","json","paths","response","profiles","map","push","params","fallback","getStaticProps","url","props"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAAQC,QAAR,EAAmBC,SAAnB,QAAmC,OAAnC;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;;AAEA,MAAMC,OAAO,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAU;AACtB,QAAMC,MAAM,GAAGR,SAAS,EAAxB;AACA,QAAMS,OAAO,GAAGF,IAAI,CAACE,OAAL,CAAa,CAAb,CAAhB;AAEA,QAAM;AAAA,OAACC,MAAD;AAAA,OAAQC;AAAR,MAAmBV,QAAQ,EAAjC;AACA,QAAM;AAAA,OAACW,OAAD;AAAA,OAASC;AAAT,MAAuBZ,QAAQ,CAAC,IAAD,CAArC;AAEAC,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMY,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAAd;AACAd,IAAAA,GAAG,CAACe,MAAJ,CAAWJ,KAAX,EAAiB,QAAjB,EAA0B,UAAUK,GAAV,EAAgBC,OAAhB,EAAyB;AAC/C,UAAI,CAACD,GAAL,EAAU;AACNR,QAAAA,OAAO,CAACS,OAAO,CAACC,MAAT,CAAP;AACAR,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH,OAHD,MAIA;AACIS,QAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACH;AACJ,KARD;AAUH,GAZQ,EAYP,EAZO,CAAT,CAPsB,CAoBtB;AAEA;AACA;AACA;AACA;AACA;AAEA;;AACI,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAEKT,MAAM,KAAKD,OAAO,CAACe,GAAnB,IACG,MAAC,SAAD;AAAW,IAAA,OAAO,EAAEf,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHR,EAKKC,MAAM,KAAKD,OAAO,CAACe,GAAnB,IACG,MAAC,aAAD;AAAe,IAAA,OAAO,EAAEf,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANR,CADJ,CADJ,CA7BkB,CA0CtB;AAEH,CA5CD;;AA+CA,OAAO,eAAegB,cAAf,GAA+B;AAClC,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,iCAAD,CAAvB;AACA,QAAMpB,IAAI,GAAG,MAAMmB,GAAG,CAACE,IAAJ,EAAnB;AACA,MAAIC,KAAK,GAAG,EAAZ;AACAtB,EAAAA,IAAI,CAACuB,QAAL,CAAcC,QAAd,CAAuBC,GAAvB,CAA2BvB,OAAO,IAAE;AAChCoB,IAAAA,KAAK,CAACI,IAAN,CAAW;AAACC,MAAAA,MAAM,EAAG;AACjBV,QAAAA,GAAG,EAAGf,OAAO,CAACe;AADG;AAAV,KAAX;AAGH,GAJD;AAMA,SAAM;AACFK,IAAAA,KADE;AAEFM,IAAAA,QAAQ,EAAG;AAFT,GAAN;AAIH;AACD,OAAO,eAAeC,cAAf,CAA8B;AAAEF,EAAAA;AAAF,CAA9B,EAAyC;AAE5C,QAAMG,GAAG,GAAG,mDAAiDH,MAAM,CAACV,GAApE;AACA,QAAME,GAAG,GAAG,MAAMC,KAAK,CAACU,GAAD,CAAvB;AACA,QAAM9B,IAAI,GAAG,MAAMmB,GAAG,CAACE,IAAJ,EAAnB;AACA,SAAM;AACHU,IAAAA,KAAK,EAAG;AACJ/B,MAAAA;AADI;AADL,GAAN;AAKH;AAGD,eAAeD,OAAf","sourcesContent":["import Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport { useRouter } from 'next/router';\r\nimport {useState , useEffect} from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nimport MyProfile from './Components/myProfile';\r\nimport PublicProfile from './Components/publicProfile';\r\n\r\nconst Profile = ({data})=>{\r\n    const router = useRouter();\r\n    const profile = data.profile[0];\r\n    \r\n    const [userid,setData] = useState();\r\n    const [loading,setLoading] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        const token = window.localStorage.getItem(\"Tokens\");\r\n        jwt.verify(token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                setData(decoded.userId);\r\n                setLoading(false);\r\n            }else\r\n            {\r\n                console.log(err);\r\n            }\r\n        });\r\n        \r\n    },[])\r\n    // if (loading) {\r\n        \r\n    //     return(\r\n    //     <div className=\"body\">\r\n    //         loading ...\r\n    //     </div>\r\n    //     )\r\n        \r\n    // }else{\r\n        return(\r\n            <div>\r\n                <h2>\r\n                    Bonjour\r\n                    {userid === profile._id &&(\r\n                        <MyProfile profile={profile}/>\r\n                    )}\r\n                    {userid !== profile._id &&(\r\n                        <PublicProfile profile={profile}/>\r\n                    )}\r\n                </h2>\r\n            </div>\r\n        )        \r\n    // }\r\n    \r\n}\r\n\r\n\r\nexport async function getStaticPaths(){\r\n    const res = await fetch(\"http://localhost:9000/profiles/\");\r\n    const data = await res.json();\r\n    var paths = [];\r\n    data.response.profiles.map(profile=>{\r\n        paths.push({params : {\r\n            _id : profile._id\r\n        }})\r\n    })\r\n    \r\n    return{\r\n        paths ,\r\n        fallback : false\r\n    }\r\n}\r\nexport async function getStaticProps({ params }){\r\n\r\n    const url = \"http://localhost:9000/profiles/profile?userid=\"+params._id ;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    return{\r\n       props : {\r\n           data\r\n       }\r\n    }\r\n}\r\n\r\n\r\nexport default Profile ;"]},"metadata":{},"sourceType":"module"}