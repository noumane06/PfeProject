{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\components\\\\header.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport '../styles/header.scss';\nimport { useState, useEffect } from 'react';\nimport jwt from 'jsonwebtoken';\n\nconst Header = () => {\n  const {\n    0: userId,\n    1: setToken\n  } = useState(null);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: data,\n    1: setData\n  } = useState();\n  useEffect(() => {\n    const Token = window.localStorage.getItem(\"Tokens\");\n    jwt.verify(Token, \"secret\", function (err, decoded) {\n      if (!err) {\n        axios.get('http://localhost:9000/profiles/profile?userid=' + decoded.userId).then(res => {\n          setLoading(false);\n          setToken(decoded.userId);\n          setData(res.data.profile[0]);\n          setLoading(false);\n        }).catch(err => alert(err));\n      } else {\n        setLoading(false);\n      }\n    });\n  });\n\n  const handleClick = () => {\n    window.location.replace(\"/Auth/Signin\");\n  };\n\n  return __jsx(\"div\", {\n    className: \"Header_Container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"Header_Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, __jsx(\"img\", {\n    src: \"../static/Icons/LOGO2017.png\",\n    height: \"30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  })), __jsx(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, __jsx(\"li\", {\n    className: \"active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 40\n    }\n  }, \"Acceuil\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/propos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 38\n    }\n  }, \"A propos\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/temoignages\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 38\n    }\n  }, \"Temoignages\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/contact\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 38\n    }\n  }, \"Contact\")), __jsx(\"li\", {\n    className: \"link\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, __jsx(Link, {\n    href: \"/questions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 38\n    }\n  }, \"Questions\"))), __jsx(\"div\", {\n    className: \"Header_Buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, !loading && userId === null && __jsx(React.Fragment, null, __jsx(\"input\", {\n    className: \"Header_subscribe\",\n    type: \"button\",\n    value: \"S'inscrire\",\n    onClick: () => window.location.replace(\"/Auth/SignUp\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }), __jsx(\"input\", {\n    className: \"Header_signin\",\n    type: \"button\",\n    value: \"Se connecter\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  })), !loading && userId !== null && __jsx(React.Fragment, null, data.companyname)));\n};\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/components/header.js"],"names":["Link","useState","useEffect","jwt","Header","userId","setToken","loading","setLoading","data","setData","Token","window","localStorage","getItem","verify","err","decoded","axios","get","then","res","profile","catch","alert","handleClick","location","replace","companyname"],"mappings":"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","sourcesContent":["import Link from 'next/link';\r\nimport '../styles/header.scss';\r\nimport {useState , useEffect} from 'react';\r\nimport jwt from 'jsonwebtoken';\r\nconst Header = ()=>\r\n{\r\n    const [userId , setToken] = useState(null);\r\n    const [loading , setLoading] = useState(true);\r\n    const [data , setData] = useState();\r\n    useEffect(()=>{\r\n        const Token = window.localStorage.getItem(\"Tokens\");\r\n        jwt.verify(Token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                axios.get('http://localhost:9000/profiles/profile?userid='+decoded.userId)\r\n                .then(res =>{\r\n                    setLoading(false);\r\n                    setToken(decoded.userId);\r\n                    setData(res.data.profile[0]);\r\n                    setLoading(false);\r\n                })\r\n                .catch(err => alert(err));\r\n            }else\r\n            {\r\n                setLoading(false);\r\n            }\r\n        })\r\n    });\r\n    const handleClick = ()=>{\r\n        window.location.replace(\"/Auth/Signin\");\r\n    }\r\n    return(\r\n        <div className=\"Header_Container\">\r\n            <div className=\"Header_Logo\">\r\n                <img src=\"../static/Icons/LOGO2017.png\" height=\"30\" />\r\n            </div>\r\n            <ul>\r\n                <li className=\"active\"><Link href=\"/\">Acceuil</Link></li>\r\n                <li className=\"link\"><Link href=\"/propos\">A propos</Link></li>\r\n                <li className=\"link\"><Link href=\"/temoignages\">Temoignages</Link></li>\r\n                <li className=\"link\"><Link href=\"/contact\">Contact</Link></li>\r\n                <li className=\"link\"><Link href=\"/questions\">Questions</Link></li>\r\n            </ul>\r\n            <div className=\"Header_Buttons\">\r\n                {!loading && userId === null &&(\r\n                    <>\r\n                    <input className=\"Header_subscribe\" type=\"button\" value=\"S'inscrire\" onClick={() => window.location.replace(\"/Auth/SignUp\")}/>\r\n                    <input className=\"Header_signin\" type=\"button\" value=\"Se connecter\" onClick={handleClick}/>\r\n                    </>\r\n                ) }\r\n                {!loading && userId !== null &&(\r\n                    <>\r\n                        {data.companyname}\r\n                    </>\r\n                ) }\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default  Header ;"]},"metadata":{},"sourceType":"module"}