{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\Components\\\\Components\\\\BookMeeting.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Modal from 'antd/lib/modal/Modal';\nimport { useState } from 'react';\nimport moment from 'moment';\nimport { Button, notification } from 'antd';\nimport axios from 'axios';\nimport '../../Sass/calendar.scss';\n\nvar BusyComponent = function BusyComponent(_ref) {\n  var day = _ref.day,\n      hour = _ref.hour,\n      setTitle = _ref.setTitle,\n      setvisible = _ref.setvisible;\n\n  var DateDivider = function DateDivider(string, hour) {\n    var date = new Date(string);\n    var dateNow = new Date();\n    var moment1 = moment(date);\n\n    if (date.getDay() === 0) {\n      return 1;\n    }\n\n    if (moment1.isSame(dateNow, 'year') && moment1.isSame(dateNow, 'day') && moment1.isSame(dateNow, 'month')) {\n      var Hourdiff = dateNow.getHours() - parseInt(hour.split(\":\")[0]);\n      return Hourdiff;\n    }\n\n    if (moment1.isBefore(dateNow)) {\n      return 1;\n    }\n\n    return -1;\n  };\n\n  var res = DateDivider(day, hour);\n  return __jsx(React.Fragment, null, res >= 0 ? __jsx(\"div\", {\n    className: \"Busy\",\n    title: \"Date indisponible\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 20\n    }\n  }) : __jsx(\"div\", {\n    onClick: setTitle === false ? null : function () {\n      setTitle(hour + \" | \" + day);\n      setvisible(true);\n    },\n    className: setTitle === false ? \"FreeProfile\" : \"Free\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 77\n    }\n  }));\n};\n\n_c = BusyComponent;\n\nvar Scheduler = function Scheduler(StartHour, endtHour, length) {\n  var results = [];\n\n  for (var i = 0; i <= parseInt(length); i++) {\n    var string = StartHour.format('HH:mm') + \"-\" + StartHour.add(30, 'minutes').format('HH:mm'); // Break betweeen meetings\n\n    results.push(string);\n\n    if (Math.abs(moment.duration(StartHour.diff(endtHour)).asMinutes()) <= 30) {\n      break;\n    }\n\n    StartHour.add(15, 'minutes');\n  }\n\n  return results;\n};\n\n_c2 = Scheduler;\n\nvar DatePicker = function DatePicker(string) {\n  var day = new Date(string);\n  var Days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\n  var Months = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Decembre'];\n  var DisplayString = [Days[day.getDay()], day.getDate(), Months[day.getMonth()]];\n  return DisplayString;\n};\n\n_c3 = DatePicker;\n\nvar Checker = function Checker(profile, hour, day) {\n  var element = profile.Notification.filter(function (el) {\n    return el.day == day && el.horraire == hour;\n  });\n\n  if (element[0] !== undefined) {\n    return element[0].AcceptStatus;\n  } else {\n    return '';\n  }\n};\n\n_c4 = Checker;\n\nvar calendar = function calendar(_ref2) {\n  _s();\n\n  var profile = _ref2.profile,\n      loc = _ref2.loc;\n  //Data from database \n  console.log(profile);\n  var Horraire = profile.horraire;\n  var Booked = profile.booked !== undefined ? profile.booked : {}; // Horraires ----------------------\n\n  var StartHour = moment(Horraire[0], \"HH:mm\");\n  var endtHour = moment(Horraire[1], \"HH:mm\");\n  var length = (endtHour.format(\"HH\") - StartHour.format(\"HH\")) * 60 / 45;\n  var results = Scheduler(StartHour, endtHour, length); // States -------------------\n\n  var _useState = useState(Booked !== {} ? Booked : {\n    \"\": \"\"\n  }),\n      BookedDisplay = _useState[0],\n      setDisplay = _useState[1];\n\n  var _useState2 = useState(false),\n      visible = _useState2[0],\n      setvisible = _useState2[1];\n\n  var _useState3 = useState(false),\n      bookedVisible = _useState3[0],\n      setbookedVisible = _useState3[1];\n\n  var _useState4 = useState(),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      message = _useState5[0],\n      setMessage = _useState5[1];\n\n  var _useState6 = useState(false),\n      loading = _useState6[0],\n      setloading = _useState6[1];\n\n  var _useState7 = useState(0),\n      week = _useState7[0],\n      setWeek = _useState7[1]; // Days ---------------------------\n\n\n  var datePusher = new Date();\n  var dayResult = [moment(Date.now()).add(7 * week, 'days').format('YYYY/MM/DD')];\n  datePusher.setDate(datePusher.getDate() + week * 7);\n\n  for (var i = 0; i < 6; i++) {\n    datePusher.setDate(datePusher.getDate() + 1);\n    dayResult.push(moment(datePusher).format('YYYY/MM/DD'));\n  } // -------------------------------------\n  // Handlers ---------------------------------\n\n\n  var handleSave = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var key, value, Data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (Booked[title.split(\" | \")[1]] !== undefined) {\n                Booked[title.split(\" | \")[1]].push(title.split(\" | \")[0]);\n              } else {\n                key = [title.split(\" | \")[1]];\n                value = title.split(\" | \")[0];\n                Booked === {\n                  \"\": \"\"\n                } ? Booked = _defineProperty({}, key[0], [value]) : Booked = _objectSpread(_objectSpread({}, Booked), {}, _defineProperty({}, key[0], [value]));\n              }\n\n              setloading(true);\n              Data = {\n                booked: Booked,\n                Notification: {\n                  Type: \"Request\",\n                  Message: message,\n                  horraire: title.split(\" | \")[0],\n                  day: title.split(\" | \")[1]\n                }\n              };\n              axios.post('http://localhost:9000/profiles/bookmeeting?userid=' + profile._id, Data, {\n                withCredentials: true\n              }).then(function (data) {\n                setDisplay(Booked);\n                notification['success']({\n                  message: 'Votre demande a été envoyée avec succès',\n                  description: 'Nous vous informerons lorsque nous aurons une réponse'\n                });\n                setTimeout(function () {\n                  setloading(false);\n                  setvisible(false);\n                  window.location.reload();\n                }, 2000);\n              })[\"catch\"](function (err) {\n                return console.log(err);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSave() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var activeDay = function activeDay(day) {\n    if (moment(day).diff(moment(Date.now()), 'hours') > -24 && moment(day).diff(moment(Date.now()), 'hours') <= 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }; // -----------------------------------\n\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"CalendarControllers\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, __jsx(\"button\", {\n    className: \"today\",\n    onClick: function onClick() {\n      return setWeek(0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, \"Aujourd'hui\"), __jsx(\"div\", {\n    className: \"weeks\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, __jsx(\"button\", {\n    className: \"nextW\",\n    onClick: function onClick() {\n      return setWeek(week - 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 16\n    }\n  }, \"Semaine pr\\xE9c\\xE9dente\"), __jsx(\"button\", {\n    className: \"prevW\",\n    onClick: function onClick() {\n      return setWeek(week + 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 16\n    }\n  }, \"Prochaine semaine\"))), __jsx(\"table\", {\n    id: \"calendar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, __jsx(Modal, {\n    title: title,\n    visible: visible,\n    width: \"50vw\",\n    onCancel: function onCancel() {\n      return setvisible(false);\n    },\n    bodyStyle: {\n      height: '100%'\n    },\n    footer: [__jsx(Button, {\n      disabled: false,\n      key: \"submit\",\n      type: \"primary\",\n      loading: loading,\n      style: {\n        borderRadius: '10px',\n        fontFamily: 'GlacialBold'\n      },\n      onClick: handleSave,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 26\n      }\n    }, \"Envoyer\")],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    style: {\n      color: '#2a2a2a',\n      fontFamily: 'GlacialBold',\n      fontSize: '16px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }, \"Message\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 117\n    }\n  }), __jsx(\"textarea\", {\n    className: \"textArea\",\n    placeholder: \"D\\xE9crivez votre objectif de la r\\xE9union\",\n    rows: \"4\",\n    value: message,\n    onChange: function onChange(e) {\n      return setMessage(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 171\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 176\n    }\n  })), __jsx(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }\n  }), dayResult.map(function (day) {\n    return __jsx(\"th\", {\n      key: day + Date.now(),\n      style: activeDay(day) ? {\n        color: '#1a73e8',\n        textAlign: \"center\"\n      } : {\n        textAlign: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 43\n      }\n    }, DatePicker(day)[0], \" \", __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 184\n      }\n    }), \" \", DatePicker(day)[1], \" \", DatePicker(day)[2], \" \");\n  }))), __jsx(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, loc === \"public\" && __jsx(React.Fragment, null, results.map(function (hour) {\n    return __jsx(\"tr\", {\n      key: hour + Date.now(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 29\n      }\n    }, hour), dayResult.map(function (day) {\n      return __jsx(\"td\", {\n        key: day + hour,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 29\n        }\n      }, BookedDisplay[day] !== undefined && (BookedDisplay[day].includes(hour) ? Checker(profile, hour, day) === true ? __jsx(\"div\", {\n        className: \"Booked\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 37\n        }\n      }, \"R\\xE9serv\\xE9e\") : Checker(profile, hour, day) === false ? __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: setTitle,\n        setvisible: setvisible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 37\n        }\n      }) : __jsx(\"div\", {\n        className: \"Pending\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 133\n        }\n      }, \"En attente\") : __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: setTitle,\n        setvisible: setvisible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 39\n        }\n      })), BookedDisplay[day] === undefined && __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: setTitle,\n        setvisible: setvisible,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 37\n        }\n      }));\n    }));\n  })), loc === \"profile\" && __jsx(React.Fragment, null, results.map(function (hour) {\n    return __jsx(\"tr\", {\n      key: hour + Date.now(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, hour), dayResult.map(function (day) {\n      return __jsx(\"td\", {\n        key: day + hour,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 29\n        }\n      }, BookedDisplay[day] !== undefined && (BookedDisplay[day].includes(hour) ? Checker(profile, hour, day) === true ? __jsx(\"div\", {\n        className: \"Booked\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 37\n        }\n      }, \"R\\xE9serv\\xE9e\") : Checker(profile, hour, day) === false ? __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: false,\n        setvisible: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 37\n        }\n      }) : __jsx(\"div\", {\n        className: \"Pending\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 125\n        }\n      }, \"En attente\") : __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: false,\n        setvisible: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 39\n        }\n      })), BookedDisplay[day] === undefined && __jsx(BusyComponent, {\n        day: day,\n        hour: hour.toString(),\n        setTitle: false,\n        setvisible: false,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 37\n        }\n      }));\n    }));\n  })))));\n};\n\n_s(calendar, \"I7eFkHKTUDkyfkgVoOYmH1nxX2k=\");\n\nexport default calendar;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"BusyComponent\");\n$RefreshReg$(_c2, \"Scheduler\");\n$RefreshReg$(_c3, \"DatePicker\");\n$RefreshReg$(_c4, \"Checker\");","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/Components/Components/BookMeeting.jsx"],"names":["Modal","useState","moment","Button","notification","axios","BusyComponent","day","hour","setTitle","setvisible","DateDivider","string","date","Date","dateNow","moment1","getDay","isSame","Hourdiff","getHours","parseInt","split","isBefore","res","Scheduler","StartHour","endtHour","length","results","i","format","add","push","Math","abs","duration","diff","asMinutes","DatePicker","Days","Months","DisplayString","getDate","getMonth","Checker","profile","element","Notification","filter","el","horraire","undefined","AcceptStatus","calendar","loc","console","log","Horraire","Booked","booked","BookedDisplay","setDisplay","visible","bookedVisible","setbookedVisible","title","message","setMessage","loading","setloading","week","setWeek","datePusher","dayResult","now","setDate","handleSave","key","value","Data","Type","Message","post","_id","withCredentials","then","data","description","setTimeout","window","location","reload","err","activeDay","height","borderRadius","fontFamily","color","fontSize","e","target","map","textAlign","includes","toString"],"mappings":"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","sourcesContent":["\r\nimport Modal from 'antd/lib/modal/Modal';\r\nimport {useState} from 'react';\r\nimport moment from 'moment';\r\nimport { Button, notification } from 'antd';\r\nimport axios from 'axios';\r\nimport '../../Sass/calendar.scss';\r\n\r\n\r\nconst BusyComponent = ({day ,hour , setTitle , setvisible})=>{\r\n    const DateDivider = (string , hour)=>\r\n    {\r\n        const date = new Date(string );\r\n        const dateNow = new Date(); \r\n\r\n        const moment1 = moment(date);\r\n        \r\n        if (date.getDay()=== 0) {\r\n            return 1 ;\r\n        }\r\n\r\n        if (moment1.isSame(dateNow,'year') && moment1.isSame(dateNow,'day') && moment1.isSame(dateNow,'month')) {\r\n            const Hourdiff = dateNow.getHours() - parseInt(hour.split(\":\")[0]) ;\r\n            return Hourdiff ;\r\n        }\r\n        \r\n        if (moment1.isBefore(dateNow)) {\r\n            return 1\r\n        }\r\n       \r\n        return -1 ;\r\n    }\r\n    const res = DateDivider(day,hour);\r\n    return(\r\n        \r\n        <>\r\n        {res >= 0 ?<div className=\"Busy\" title=\"Date indisponible\"></div> : <div onClick={setTitle === false ? null : ()=>{setTitle(hour+\" | \"+day); setvisible(true)}} className={setTitle === false ? \"FreeProfile\" : \"Free\"}></div>}\r\n        </>\r\n    )\r\n}\r\nconst Scheduler =  (StartHour , endtHour , length )=>{\r\n    const results = [];\r\n     for (let i = 0; i <= parseInt(length) ; i++) {\r\n        const string  =  StartHour.format('HH:mm')+\"-\"+StartHour.add(30,'minutes').format('HH:mm') ;\r\n\r\n        // Break betweeen meetings\r\n         results.push(string);\r\n        if (Math.abs(moment.duration(StartHour.diff(endtHour)).asMinutes()) <= 30 ) {\r\n            break ;\r\n        }\r\n        \r\n         StartHour.add(15,'minutes');\r\n    }\r\n    return(results);\r\n}\r\n\r\nconst DatePicker = (string) =>\r\n{\r\n    const day = new Date(string);\r\n    const Days = ['Dimanche','Lundi','Mardi','Mercredi','Jeudi','Vendredi','Samedi'];\r\n    const Months = ['Janvier','Février','Mars','Avril','Mai','Juin','Juillet','Aout','Septembre','Octobre','Novembre','Decembre'];\r\n    const DisplayString = [Days[day.getDay()],day.getDate(),Months[day.getMonth()]];\r\n    return DisplayString;\r\n}\r\n\r\nconst Checker = (profile,hour,day) => {\r\n    const element = profile.Notification.filter(el => el.day == day && el.horraire == hour) ; \r\n    if (element[0] !== undefined) {\r\n        return element[0].AcceptStatus ;\r\n    }else\r\n    {\r\n        return ''\r\n    }\r\n    \r\n}\r\n\r\nconst calendar = ({profile , loc})=>{\r\n\r\n    //Data from database \r\n    console.log(profile);\r\n    const Horraire = profile.horraire;\r\n    var Booked  = profile.booked !== undefined ? profile.booked :{};\r\n    \r\n    // Horraires ----------------------\r\n    const StartHour = moment(Horraire[0],\"HH:mm\");\r\n    const endtHour = moment(Horraire[1],\"HH:mm\");\r\n    const length = (endtHour.format(\"HH\")-StartHour.format(\"HH\"))*60/45;\r\n    const results = Scheduler(StartHour,endtHour,length);\r\n\r\n\r\n\r\n    // States -------------------\r\n    \r\n    \r\n    const [BookedDisplay , setDisplay] = useState(Booked !== {} ? Booked : {\"\":\"\"});\r\n    const [visible,setvisible] = useState(false);\r\n    const [bookedVisible,setbookedVisible] = useState(false);\r\n    const [title , setTitle] = useState();\r\n    const [message , setMessage] = useState(\"\");\r\n    const [loading,setloading] = useState(false);\r\n    const [week , setWeek] = useState(0);\r\n    // Days ---------------------------\r\n    const datePusher = new Date();\r\n    const dayResult = [moment(Date.now()).add(7 * week,'days').format('YYYY/MM/DD')];\r\n    datePusher.setDate(datePusher.getDate()+week * 7);\r\n    for (let i = 0 ; i < 6; i++) {\r\n        datePusher.setDate(datePusher.getDate()+1);\r\n        dayResult.push(moment(datePusher).format('YYYY/MM/DD'));\r\n    }\r\n    // -------------------------------------\r\n    \r\n    // Handlers ---------------------------------\r\n\r\n    const handleSave = async  () =>{\r\n        if (Booked[title.split(\" | \")[1]] !== undefined) {\r\n            Booked[title.split(\" | \")[1]].push(title.split(\" | \")[0]) ;\r\n        }else\r\n        {\r\n            const key = [title.split(\" | \")[1]];\r\n            const value = title.split(\" | \")[0] ; \r\n            Booked === {\"\":\"\"} ? Booked = {[key[0]] : [value]} :Booked= {...Booked , [key[0]] : [value]};\r\n        }\r\n        setloading(true);\r\n        const Data = {\r\n            booked : Booked ,\r\n            Notification : {\r\n                Type : \"Request\",\r\n                Message : message,\r\n                horraire : title.split(\" | \")[0],\r\n                day : title.split(\" | \")[1]\r\n            }\r\n        }\r\n        \r\n        axios.post('http://localhost:9000/profiles/bookmeeting?userid='+profile._id,Data,{withCredentials : true})\r\n        .then(data => \r\n            {\r\n                setDisplay(Booked);\r\n                notification['success']({\r\n                    message: 'Votre demande a été envoyée avec succès',\r\n                    description:'Nous vous informerons lorsque nous aurons une réponse'\r\n                })\r\n                setTimeout(() => {\r\n                    setloading(false);\r\n                    setvisible(false);\r\n                    window.location.reload();\r\n                }, 2000);\r\n                \r\n            })\r\n        .catch(err => console.log(err))\r\n    }\r\n    const activeDay = (day)=>{\r\n        if (moment(day).diff(moment(Date.now()),'hours') > -24 && moment(day).diff(moment(Date.now()),'hours') <= 0) \r\n        {\r\n            return true ;\r\n        }else\r\n        {\r\n            return false ;\r\n        }\r\n    }\r\n    // -----------------------------------\r\n    return(\r\n        <>\r\n        <div className=\"CalendarControllers\">\r\n            <button className=\"today\" onClick={()=>setWeek(0)}>Aujourd'hui</button>\r\n            <div className=\"weeks\">\r\n               <button className=\"nextW\"  onClick={()=>setWeek(week - 1)}>Semaine précédente</button>\r\n               <button  className=\"prevW\"  onClick={()=>setWeek(week + 1)}>Prochaine semaine</button> \r\n            </div>\r\n        </div>\r\n        <table id=\"calendar\">\r\n            <Modal title={title} visible={visible} width=\"50vw\" onCancel={()=>setvisible(false)} bodyStyle={{height : '100%'}} \r\n                footer={[<Button disabled={false} key=\"submit\" type=\"primary\" loading={loading}  style={{borderRadius :'10px', fontFamily :'GlacialBold'}} onClick={handleSave} >Envoyer</Button>]}>\r\n                {/* Presentation ------------------------------------------ */}\r\n                <label style={{color : '#2a2a2a' , fontFamily : 'GlacialBold' , fontSize : '16px'}} >Message</label><br/>\r\n                <textarea className=\"textArea\"  placeholder=\"Décrivez votre objectif de la réunion\" rows=\"4\" value={message} onChange={(e)=>setMessage(e.target.value)} /><br/><br/>\r\n            </Modal>\r\n            <thead>\r\n            \r\n                <tr>\r\n                    <th></th>\r\n                    {dayResult.map(day =>(<th key={day+Date.now()}  style={activeDay(day) ? {color : '#1a73e8' , textAlign : \"center\"} : {textAlign : \"center\"}} >{DatePicker(day)[0]} <br/> {DatePicker(day)[1]} {DatePicker(day)[2]} </th>))}\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {loc === \"public\" &&(\r\n                    <>\r\n                    {results.map(hour => (\r\n                        <tr key={hour+Date.now()}> \r\n                            <th>{hour}</th>\r\n                            {dayResult.map(day =>(\r\n                            <td key={day+hour} >\r\n                                {BookedDisplay[day] !== undefined &&(\r\n                                    BookedDisplay[day].includes(hour) ? \r\n                                    Checker(profile,hour,day) === true ? \r\n                                    <div className=\"Booked\">Réservée</div> : Checker(profile,hour,day) === false ?\r\n                                    <BusyComponent day={day} hour={hour.toString()} setTitle={setTitle} setvisible={setvisible}/> : <div className=\"Pending\">En attente</div>\r\n                                    : <BusyComponent day={day} hour={hour.toString()} setTitle={setTitle} setvisible={setvisible}/>\r\n                                )}\r\n                                {BookedDisplay[day] === undefined &&(\r\n                                    <BusyComponent day={day} hour={hour.toString()} setTitle={setTitle} setvisible={setvisible}/>\r\n                                )}\r\n                            </td>))}\r\n                        </tr>\r\n                    ))}\r\n                    </>\r\n                )}\r\n\r\n\r\n                {loc === \"profile\" &&(\r\n                    <>\r\n                    {results.map(hour => (\r\n                        <tr key={hour+Date.now()}> \r\n                            <th>{hour}</th>\r\n                            {dayResult.map(day =>(\r\n                            <td key={day+hour} >\r\n                                {BookedDisplay[day] !== undefined &&(\r\n                                    BookedDisplay[day].includes(hour) ? \r\n                                    Checker(profile,hour,day) === true ? \r\n                                    <div className=\"Booked\">Réservée</div> : Checker(profile,hour,day) === false ?\r\n                                    <BusyComponent day={day} hour={hour.toString()} setTitle={false} setvisible={false}/> : <div className=\"Pending\">En attente</div>\r\n                                    : <BusyComponent day={day} hour={hour.toString()} setTitle={false} setvisible={false}/>\r\n                                )}\r\n                                {BookedDisplay[day] === undefined &&(\r\n                                    <BusyComponent day={day} hour={hour.toString()} setTitle={false} setvisible={false}/>\r\n                                )}\r\n                            </td>))}\r\n                        </tr>\r\n                    ))}\r\n                    </>\r\n                )}\r\n            </tbody>\r\n            \r\n        </table>\r\n        </>\r\n    )\r\n}\r\nexport default calendar ;"]},"metadata":{},"sourceType":"module"}