{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Profiles\\\\[_id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Header from '../../components/header';\nimport Head from '../../components/head';\nimport { useRouter } from 'next/router';\nimport axios from 'axios';\nimport check_auth from './Components/check_auth';\n\nvar Profile = function Profile(_ref) {\n  _s();\n\n  var data = _ref.data;\n  var router = useRouter();\n  var profile = data.profile[0];\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      userid = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    var token = window.localStorage.getItem(\"Tokens\");\n    jwt.verify(token, \"secret\", function (err, decoded) {\n      if (!err) {\n        setData(decoded.userId);\n        setLoading(false);\n      }\n    });\n  }, []);\n\n  if (loading) {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }\n    }, __jsx(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }\n    }, \"Bonjour\", console.log(userid)));\n  } else {\n    return __jsx(\"div\", {\n      className: \"body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }, \"loading ...\");\n  }\n};\n\n_s(Profile, \"RmqSJVCXCDsmDfR62Zus3milrms=\", false, function () {\n  return [useRouter];\n});\n\n_c = Profile;\nexport var __N_SSG = true;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Profiles/[_id].js"],"names":["Header","Head","useRouter","axios","check_auth","Profile","data","router","profile","useState","userid","setData","loading","setLoading","useEffect","token","window","localStorage","getItem","jwt","verify","err","decoded","userId","console","log"],"mappings":";;;;;;;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;;AAIA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAU;AAAA;;AAAA,MAARC,IAAQ,QAARA,IAAQ;AACtB,MAAMC,MAAM,GAAGL,SAAS,EAAxB;AACA,MAAMM,OAAO,GAAGF,IAAI,CAACE,OAAL,CAAa,CAAb,CAAhB;;AAFsB,kBAIGC,QAAQ,EAJX;AAAA;AAAA,MAIfC,MAJe;AAAA,MAIRC,OAJQ;;AAAA,mBAKOF,QAAQ,CAAC,IAAD,CALf;AAAA;AAAA,MAKfG,OALe;AAAA,MAKPC,UALO;;AAOtBC,EAAAA,SAAS,CAAC,YAAI;AACV,QAAMC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,CAAd;AACAC,IAAAA,GAAG,CAACC,MAAJ,CAAWL,KAAX,EAAiB,QAAjB,EAA0B,UAAUM,GAAV,EAAgBC,OAAhB,EAAyB;AAC/C,UAAI,CAACD,GAAL,EAAU;AACNV,QAAAA,OAAO,CAACW,OAAO,CAACC,MAAT,CAAP;AACAV,QAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AACJ,KALD;AAOH,GATQ,EASP,EATO,CAAT;;AAUA,MAAID,OAAJ,EAAa;AACT,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEKY,OAAO,CAACC,GAAR,CAAYf,MAAZ,CAFL,CADJ,CADJ;AAQH,GATD,MASK;AAED,WACA;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA;AAKH;AAEJ,CAnCD;;GAAML,O;UACaH,S;;;KADbG,O;;AAkEN,eAAeA,OAAf","sourcesContent":["import Header from '../../components/header';\r\nimport Head from '../../components/head';\r\nimport { useRouter } from 'next/router'\r\nimport axios from 'axios'; \r\nimport check_auth from './Components/check_auth';\r\n\r\n\r\n\r\nconst Profile = ({data})=>{\r\n    const router = useRouter();\r\n    const profile = data.profile[0];\r\n    \r\n    const [userid,setData] = useState();\r\n    const [loading,setLoading] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        const token = window.localStorage.getItem(\"Tokens\");\r\n        jwt.verify(token,\"secret\",function (err , decoded) {\r\n            if (!err) {\r\n                setData(decoded.userId);\r\n                setLoading(false);\r\n            }\r\n        });\r\n        \r\n    },[])\r\n    if (loading) {\r\n        return(\r\n            <div>\r\n                <h2>\r\n                    Bonjour\r\n                    {console.log(userid)}\r\n                </h2>\r\n            </div>\r\n        )\r\n    }else{\r\n        \r\n        return(\r\n        <div className=\"body\">\r\n            loading ...\r\n        </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport async function getStaticPaths(){\r\n    const res = await fetch(\"http://localhost:9000/profiles/\");\r\n    const data = await res.json();\r\n    var paths = [];\r\n    data.response.profiles.map(profile=>{\r\n        paths.push({params : {\r\n            _id : profile._id\r\n        }})\r\n    })\r\n    \r\n    return{\r\n        paths ,\r\n        fallback : false\r\n    }\r\n}\r\nexport async function getStaticProps({ params }){\r\n\r\n    const url = \"http://localhost:9000/profiles/profile?userid=\"+params._id ;\r\n    const res = await fetch(url);\r\n    const data = await res.json();\r\n    return{\r\n       props : {\r\n           data\r\n       }\r\n    }\r\n}\r\n\r\n\r\nexport default Profile ;"]},"metadata":{},"sourceType":"module"}