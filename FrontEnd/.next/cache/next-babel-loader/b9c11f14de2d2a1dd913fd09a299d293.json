{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Header from \"../../components/header\";\nimport Head from \"../../components/head\";\nimport Footer from \"../../components/footer\";\nimport { useState, useEffect } from 'react';\nimport { Spin } from 'antd';\nimport './Sass/notif.scss';\nimport NotifCard from \"./Components/NotifCard\";\nimport NotifBell from \"../../components/svg/NotifBell\";\nimport moment from 'moment';\n\nvar Notification = function Notification(props) {\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  useEffect(function () {\n    if (props.statusCode === 401) {\n      var location = \"/Auth/Signin/?ref=tokenexpired&location=\" + window.location.href;\n      window.location.replace(location);\n    } else {\n      console.log(props.data.profile.Notification);\n      setData(props.data.profile);\n      setLoading(false);\n    }\n  }, []);\n  var Notifications = data === undefined ? '' : data.Notification;\n\n  if (Notifications !== '') {\n    Notifications.sort(function (el1, el2) {\n      var a = moment(el1.date);\n      var b = moment(el2.date);\n      return b.diff(a);\n    });\n  }\n\n  if (loading) {\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      title: \"Loading\"\n    }), __jsx(\"div\", {\n      style: {\n        position: 'fixed',\n        top: '50%',\n        left: '50%',\n        marginTop: '-50px',\n        marginLeft: '-50px'\n      }\n    }, __jsx(Spin, {\n      size: \"large\"\n    })));\n  } else {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"body\"\n    }, __jsx(Header, null), __jsx(Head, {\n      title: \"Notifications | 6Solutions\"\n    }), __jsx(\"div\", {\n      className: \"NotifBody\"\n    }, __jsx(\"div\", {\n      className: \"NotTitle\"\n    }, __jsx(\"span\", {\n      className: \"icon-button\"\n    }, __jsx(NotifBell, null)), __jsx(\"h1\", {\n      className: \"NotifHeader\"\n    }, \"Notifications\")), __jsx(\"div\", {\n      className: \"NotifContainer\"\n    }, Notifications.map(function (notif) {\n      return moment(notif.day).isAfter(Date.now()) || moment(notif.day).isSame(Date.now(), 'day') ? __jsx(NotifCard, {\n        profile: data,\n        key: notif.SenderId,\n        notif: notif,\n        all: Notifications\n      }) : '';\n    })), Notifications.length === 0 && __jsx(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        flexDirection: \"column\"\n      },\n      className: \"nonot\"\n    }, __jsx(\"img\", {\n      src: \"../../static/Assets/box.png\"\n    }), __jsx(\"div\", {\n      style: {\n        textAlign: \"center\"\n      }\n    }, __jsx(\"h2\", null, \"Pas encore de notifications\"), __jsx(\"p\", {\n      style: {\n        color: \"#24292E\"\n      }\n    }, \"Allez r\\xE9server des r\\xE9unions.\"))))), __jsx(Footer, null));\n  }\n};\n\nexport var __N_SSP = true;\nexport default Notification;","map":null,"metadata":{},"sourceType":"module"}