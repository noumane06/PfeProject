{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport '../../Sass/editbox.scss';\nimport { useState } from 'react';\nimport { Select, TimePicker } from 'antd';\nimport ImagePreview from '../../../../components/ImagePreview'; // import '../../../../styles/AutoComplete.scss';\n\nimport moment from 'moment';\nimport Fields from '../../../../components/Data/Fields';\nimport Jobs from '../../../../components/Data/Jobs';\nimport Cities from '../../../../components/Data/Cities'; //  --------------\n\nvar EditBox = function EditBox(_ref) {\n  var data = _ref.data,\n      setData = _ref.setData,\n      DiplomeList = _ref.DiplomeList,\n      setDiplomeList = _ref.setDiplomeList,\n      setfire = _ref.setfire;\n  // States --------------------------------------------------------\n  var Moments = [];\n\n  if (data.horraire !== undefined) {\n    Moments.push(moment(data.horraire[0], 'HH:mm'), moment(data.horraire[1], 'HH:mm'));\n  }\n\n  var RangePicker = TimePicker.RangePicker;\n  var Option = Select.Option;\n\n  var _useState = useState(Moments),\n      time = _useState[0],\n      setTime = _useState[1];\n\n  var Languages = [\"Arabe\", \"Francais\", \"Anglais\", \"Spanish\"];\n  var lang = [];\n  var children = [];\n\n  var _useState2 = useState(false),\n      changed = _useState2[0],\n      setchanged = _useState2[1];\n\n  var _useState3 = useState(data.Usrimg),\n      file = _useState3[0],\n      setFile = _useState3[1];\n\n  var _useState4 = useState(false),\n      visible = _useState4[0],\n      setvisible = _useState4[1]; // Mappers -------------------------------------------------------\n\n\n  Languages.map(function (Field) {\n    lang.push(__jsx(Option, {\n      key: Field\n    }, Field));\n  });\n  Fields.map(function (Field) {\n    children.push(__jsx(Option, {\n      key: Field\n    }, Field));\n  }); // Handlers --------------------------------------------------------\n\n  var handleImageChange = function handleImageChange(e) {\n    setchanged(true);\n\n    if (e.target.files[0] !== undefined) {\n      try {\n        setfire(e.target.files[0]);\n        var url = URL.createObjectURL(e.target.files[0]);\n        setFile(url);\n      } catch (error) {\n        console.error(error);\n        alert(error);\n      }\n    }\n  }; // ------------------------------------------------\n  // When click on delete picture \n\n\n  var handleClick = function handleClick() {\n    URL.revokeObjectURL(file);\n    setFile(data.Usrimg);\n    setchanged(false);\n  }; // When diplome change value --------------------------\n  // ---------------\n\n\n  var dipChange = function dipChange(e, index) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n\n    var list = _toConsumableArray(DiplomeList);\n\n    list[index][name] = value;\n    setDiplomeList(list);\n  }; // WHen add a diplomaa --------------------------------\n\n\n  var handleAddClick = function handleAddClick() {\n    setDiplomeList([].concat(_toConsumableArray(DiplomeList), [{\n      diplomeName: \"\",\n      desc: \"\"\n    }]));\n  }; // handle click event of the Remove button\n\n\n  var handleRemoveClick = function handleRemoveClick(index) {\n    var list = _toConsumableArray(DiplomeList);\n\n    list.splice(index, 1);\n    setDiplomeList(list);\n  }; // Languages on change handler ----------------------------\n\n\n  var handleLang = function handleLang(value) {\n    var string = value;\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      languages: string\n    }));\n  }; // Domaine handler ----------------------------------------\n\n\n  var handleTag = function handleTag(value) {\n    var string = value;\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      domaine: string\n    }));\n  }; // When chage of time handler --------------------------------\n\n\n  var handleTime = function handleTime(time, timestring) {\n    var string = timestring;\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      horraire: string\n    }));\n    setTime(time);\n  }; // Handler when input value change \n\n\n  var handleChange = function handleChange(event) {\n    var name = event.target.name;\n    var value = event.target.value;\n    setData(_objectSpread(_objectSpread({}, data), {}, _defineProperty({}, name, value)));\n  };\n\n  return __jsx(\"div\", {\n    className: \"EditBox\"\n  }, __jsx(\"div\", {\n    className: \"ProfileImg\"\n  }, __jsx(\"img\", {\n    className: \"img\",\n    src: file,\n    onClick: function onClick() {\n      return setvisible(true);\n    }\n  }), __jsx(\"br\", null), __jsx(\"div\", null, __jsx(\"label\", {\n    className: \"custom-file-upload\"\n  }, __jsx(\"input\", {\n    type: \"file\",\n    id: \"img\",\n    name: \"img\",\n    placeholder: \"Choisissez photo\",\n    accept: \"image/*\",\n    onChange: handleImageChange\n  }), __jsx(\"i\", {\n    className: \"fa fa-upload\",\n    \"aria-hidden\": \"true\"\n  }), \"   Ajouter photo\"), changed && __jsx(\"label\", {\n    className: \"Showmodal\",\n    onClick: handleClick\n  }, __jsx(\"i\", {\n    className: \"fa fa-user-times\",\n    style: {\n      color: '#be0000'\n    }\n  }))), visible && __jsx(ImagePreview, {\n    image: file,\n    handleClick: function handleClick() {\n      return setvisible(false);\n    }\n  })), __jsx(\"div\", {\n    className: \"multipleInput\"\n  }, __jsx(\"input\", {\n    className: \"input controlled user\",\n    type: \"text\",\n    placeholder: \"Nom\",\n    name: \"nom\",\n    value: data.nom,\n    onChange: handleChange\n  }), __jsx(\"input\", {\n    className: \"input controlled user\",\n    type: \"text\",\n    placeholder: \"Prenom\",\n    name: \"prenom\",\n    value: data.prenom,\n    onChange: handleChange\n  })), data.type === \"Société\" && __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"multipleInput\"\n  }, __jsx(\"select\", {\n    className: \"title\",\n    name: \"title\",\n    value: data.title,\n    onChange: handleChange,\n    required: true\n  }, Jobs.map(function (job) {\n    return __jsx(\"option\", {\n      value: job,\n      key: job\n    }, job);\n  })), __jsx(\"input\", {\n    className: \"input\",\n    type: \"text\",\n    placeholder: \"Nom de soci\\xE9t\\xE9\",\n    name: \"companyname\",\n    value: data.companyname,\n    onChange: handleChange\n  })), __jsx(Select, {\n    mode: \"tags\",\n    style: {\n      width: '100%',\n      marginTop: '20px'\n    },\n    placeholder: \"Votre domaine \",\n    maxTagCount: 3,\n    onChange: handleTag,\n    value: data.domaine\n  }, children), __jsx(\"label\", {\n    style: {\n      color: '#318CE7',\n      fontFamily: 'GlacialBold',\n      fontSize: '16px'\n    }\n  }, \"L'horraire de votre soci\\xE9t\\xE9 : \"), __jsx(RangePicker, {\n    bordered: false,\n    format: \"HH:mm\",\n    minuteStep: 30,\n    value: time,\n    onChange: handleTime\n  }), __jsx(\"br\", null), __jsx(\"br\", null)), __jsx(\"div\", {\n    className: \"multipleInput\",\n    placeholder: \"Titre\",\n    style: {\n      marginBottom: '10px'\n    }\n  }, __jsx(\"select\", {\n    className: \"title\",\n    name: \"city\"\n  }, Cities.map(function (citie) {\n    return __jsx(\"option\", {\n      value: citie,\n      key: citie\n    }, citie);\n  })), __jsx(\"input\", {\n    className: \"input\",\n    type: \"text\",\n    placeholder: \"Addresse\",\n    name: \"addresse\",\n    value: data.addresse,\n    onChange: handleChange\n  })), __jsx(\"label\", {\n    style: {\n      color: '#2a2a2a',\n      fontFamily: 'GlacialBold',\n      fontSize: '16px'\n    }\n  }, \"Presentation\"), __jsx(\"br\", null), __jsx(\"textarea\", {\n    className: \"textArea\",\n    name: \"presentation\",\n    placeholder: data.type !== \"Société\" ? \"Parlez-nous de vous (optionnel)\" : \"Décrivez votre entreprise\",\n    rows: \"4\",\n    value: data.presentation,\n    onChange: handleChange\n  }), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"label\", {\n    style: {\n      color: '#2a2a2a',\n      fontFamily: 'GlacialBold',\n      fontSize: '16px'\n    }\n  }, \"Langues parl\\xE9s\"), __jsx(Select, {\n    mode: \"tags\",\n    style: {\n      width: '100%',\n      borderRadius: '10px',\n      marginTop: '5px',\n      backgroundColor: '#e9f1fa'\n    },\n    placeholder: \"Ex: Francais , arabe ...\",\n    onChange: handleLang,\n    value: data.languages,\n    maxTagCount: 3\n  }, lang), __jsx(\"br\", null), __jsx(\"br\", null), __jsx(\"label\", {\n    style: {\n      color: '#2a2a2a',\n      fontFamily: 'GlacialBold',\n      fontSize: '16px'\n    }\n  }, \"Dipl\\xF4me et formations\"), __jsx(\"div\", {\n    className: \"Diplomes\"\n  }, DiplomeList.map(function (element, index) {\n    return __jsx(\"div\", {\n      className: \"container\",\n      key: index\n    }, __jsx(\"input\", {\n      className: \"input diplome\",\n      type: \"text\",\n      name: \"diplomeName\",\n      placeholder: \"Votre Diplome\",\n      value: element.diplomeName,\n      onChange: function onChange(e) {\n        return dipChange(e, index);\n      }\n    }), __jsx(\"input\", {\n      className: index !== 0 ? \"input desc2\" : \"input desc\",\n      type: \"text\",\n      name: \"desc\",\n      placeholder: \"Br\\xE8ve description\",\n      value: element.desc,\n      onChange: function onChange(e) {\n        return dipChange(e, index);\n      }\n    }), index !== 0 && __jsx(\"label\", {\n      className: \"delete\",\n      onClick: function onClick() {\n        return handleRemoveClick(index);\n      }\n    }, __jsx(\"i\", {\n      \"class\": \"fa fa-trash\",\n      \"aria-hidden\": \"true\",\n      style: {\n        color: '#be0000'\n      }\n    })));\n  }), __jsx(\"div\", {\n    className: \"container \"\n  }, __jsx(\"button\", {\n    onClick: handleAddClick,\n    className: \"ajouter\"\n  }, \"Ajouter\"))));\n};\n\nexport default EditBox;","map":null,"metadata":{},"sourceType":"module"}