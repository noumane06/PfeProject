{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noumane agouzil\\\\Desktop\\\\Normane\\\\My projects\\\\PfeProject\\\\Front-End\\\\pages\\\\Settings\\\\index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// Dependencies -------------------\nimport axios from 'axios';\nimport Lottie from 'react-lottie';\nimport jwt from 'jsonwebtoken';\nimport { useState, useEffect } from 'react';\nimport { Progress, Spin, Select, Modal } from 'antd'; // File import ---------------------------------\n\nimport animationData from './Components/Anim.json';\nimport errorData from './Components/Error.json';\nimport loadingData from './Components/Loading.json';\nimport successData from './Components/Success.json';\nimport Head from '../../components/head';\nimport { storage } from './Components/firebase-config';\nimport '../../styles/ProfileSettings.scss';\nimport '../../styles/AutoComplete.scss'; //---------------------------------\n\nconst Settings = props => {\n  const {\n    Option\n  } = Select; // States \n\n  const {\n    0: data,\n    1: setData\n  } = useState();\n  const {\n    0: DiplomeList,\n    1: setDiplomeList\n  } = useState(props.data.profile.diplome);\n  const {\n    0: percentage,\n    1: setPrecentage\n  } = useState(0);\n  const {\n    0: usrid,\n    1: setId\n  } = useState();\n  const {\n    0: DataState,\n    1: setState\n  } = useState(null);\n  const {\n    0: file,\n    1: setFile\n  } = useState(data !== undefined ? data.Usrimg : '');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: sendingData,\n    1: setSend\n  } = useState(false);\n  const {\n    0: filefirebase,\n    1: setfire\n  } = useState(null);\n  const {\n    0: visible,\n    1: setvisible\n  } = useState(false);\n  const {\n    0: changed,\n    1: setchanged\n  } = useState(false);\n  const {\n    0: location,\n    1: setLocation\n  } = useState(\"/\");\n  const Fields = [\"Arabe\", \"Francais\", \"Anglais\", \"Spanish\"];\n  const children = [];\n  Fields.map(Field => {\n    children.push(__jsx(Option, {\n      key: Field,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 23\n      }\n    }, Field));\n  }); // ----------------------------------------------\n  // Modal functions \n\n  const showModal = () => {\n    setvisible(true);\n  };\n\n  const handleCancel = () => {\n    setvisible(false);\n  }; // Firebase url upload function \n\n\n  const firebaseUrl = file => {\n    return new Promise((resolve, reject) => {\n      let currentImageName = \"firebase-image-\" + Date.now();\n      let uploadImage = storage.ref(`images/${currentImageName}`).put(file);\n      uploadImage.on('state_changed', snapshot => {\n        var per = Math.floor(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n        setPrecentage(per);\n      }, error => {\n        reject(error);\n      }, () => {\n        storage.ref('images').child(currentImageName).getDownloadURL().then(url => {\n          const imageData = [url, currentImageName];\n          resolve(imageData);\n        });\n      });\n    });\n  }; // Hook getting called before the render \n\n\n  useEffect(() => {\n    if (props.statusCode === 401) {\n      const location = \"/Auth/Signin/?ref=tokenexpired&location=\" + window.location.href;\n      window.location.replace(location);\n    } else {\n      setId(props.data.profile._id);\n      setData(props.data.profile);\n      setLoading(false);\n    }\n  }, []); // On submit ----------------------------------\n\n  const Onsubmit = async () => {\n    setSend(true);\n    let OldData = data;\n    OldData[\"diplome\"] = DiplomeList;\n    setData(OldData);\n\n    if (filefirebase !== null) {\n      const imgData = await firebaseUrl(filefirebase);\n      setData(data.Usrimg = imgData[0]);\n    } else {\n      setState(\"Loading\");\n    }\n\n    ;\n    console.log(data);\n    const url = \"http://localhost:9000/profiles/update?userid=\" + usrid;\n    await axios.post(url, data, {\n      withCredentials: true\n    }).then(response => {\n      if (response.status === 200) {\n        setState(\"done\"); // setTimeout(() => {\n        //     window.location.assign(location);\n        // }, 2000);\n      } else {\n        setState(\"error\");\n      }\n    }).catch(err => {\n      setState(\"error\");\n      console.log(err);\n    });\n  };\n\n  const handleInputChnage = event => {\n    const name = event.target.name;\n    const value = event.target.value;\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      [name]: value\n    }));\n  }; // ------------------------------------------------\n  // When click on delete picture \n\n\n  const handleClick = () => {\n    URL.revokeObjectURL(file);\n    setFile(data.Usrimg);\n    setchanged(false);\n  }; // When change of image\n\n\n  const handleChange = e => {\n    setchanged(true);\n\n    if (e.target.files[0] !== undefined) {\n      try {\n        setfire(e.target.files[0]);\n        const url = URL.createObjectURL(e.target.files[0]);\n        setFile(url);\n      } catch (error) {\n        console.error(error);\n        alert(error);\n      }\n    }\n  };\n\n  const dipChange = (e, index) => {\n    const {\n      name,\n      value\n    } = e.target;\n    const list = [...DiplomeList];\n    list[index][name] = value;\n    setDiplomeList(list);\n  };\n\n  const handleAddClick = () => {\n    setDiplomeList([...DiplomeList, {\n      diplomeName: \"\",\n      desc: \"\"\n    }]);\n  }; // handle click event of the Remove button\n\n\n  const handleRemoveClick = index => {\n    const list = [...DiplomeList];\n    list.splice(index, 1);\n    setDiplomeList(list);\n  }; // -----------------------------\n  // Languages handler \n\n\n  const handleLang = value => {\n    const string = value;\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      languages: string\n    }));\n  }; // Lottie options \n\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid\"\n    }\n  };\n  const LoadingOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: loadingData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid\"\n    }\n  };\n  const ErrorOptions = {\n    loop: false,\n    autoplay: true,\n    animationData: errorData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid\"\n    }\n  };\n  const DoneOptions = {\n    loop: false,\n    autoplay: true,\n    animationData: successData,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid\"\n    }\n  }; // ---------------------------------\n\n  if (loading) {\n    return __jsx(React.Fragment, null, __jsx(Head, {\n      title: \"Configurez votre profile | 6 Solutions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }\n    }), __jsx(\"div\", {\n      className: \"spincentered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, __jsx(Spin, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    })));\n  } else {\n    return __jsx(\"div\", {\n      className: \"ConfigureProfile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }\n    }, __jsx(Head, {\n      title: \"Configurez votre profile | 6 Solutions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 14\n      }\n    }), __jsx(\"div\", {\n      className: \"HeaderContainer\",\n      onClick: () => window.location.assign(\"/\"),\n      style: {\n        cursor: 'pointer'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 14\n      }\n    }, __jsx(\"div\", {\n      className: \"Header_Logo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 18\n      }\n    }, __jsx(\"img\", {\n      src: \"../static/Icons/LOGO2017.png\",\n      height: \"30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 22\n      }\n    })), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 18\n      }\n    }), __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 18\n      }\n    }, \"Help\")), sendingData && DataState === null && __jsx(\"div\", {\n      className: \"SendingData\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 18\n      }\n    }, __jsx(Progress, {\n      type: \"circle\",\n      strokeColor: {\n        '0%': '#00308F',\n        '100%': '#7CB9E8'\n      },\n      percent: percentage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 29\n      }\n    }), __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 25\n      }\n    }, \"Veuillez patienter ... \"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 25\n      }\n    }, \"Nous mettons \\xE0 jour votre profil\")), sendingData && DataState === \"Loading\" && __jsx(\"div\", {\n      className: \"SendingData\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 18\n      }\n    }, __jsx(Lottie, {\n      options: LoadingOptions,\n      height: 200,\n      width: 200,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 29\n      }\n    }), __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 29\n      }\n    }, \"Veuillez patienter ... \"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 29\n      }\n    }, \"Nous mettons \\xE0 jour votre profil\")), sendingData && DataState == \"error\" && __jsx(\"div\", {\n      className: \"WrongData\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 18\n      }\n    }, __jsx(Lottie, {\n      options: ErrorOptions,\n      height: 200,\n      width: 200,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 29\n      }\n    }), __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 25\n      }\n    }, \"Veuillez r\\xE9essayer plus tard\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 25\n      }\n    }, \"Une erreur s'est produite lors de la mise \\xE0 jour\")), sendingData && DataState == \"done\" && __jsx(\"div\", {\n      className: \"SuccessData\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 18\n      }\n    }, __jsx(Lottie, {\n      options: DoneOptions,\n      height: 200,\n      width: 200,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 29\n      }\n    }), __jsx(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 25\n      }\n    }, \"Mise \\xE0 jour du profil r\\xE9ussie\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 25\n      }\n    }, \"Vous serez bient\\xF4t redirig\\xE9\")), !sendingData && __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"FlexContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"dataContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"formConfig\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"form_Head\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"ProfileImg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 33\n      }\n    }, __jsx(\"img\", {\n      src: file,\n      onClick: showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 75\n      }\n    }), __jsx(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 37\n      }\n    }, __jsx(\"label\", {\n      className: \"custom-file-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 41\n      }\n    }, __jsx(\"input\", {\n      type: \"file\",\n      id: \"img\",\n      name: \"img\",\n      placeholder: \"Choisissez photo\",\n      accept: \"image/*\",\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 45\n      }\n    }), __jsx(\"i\", {\n      className: \"fa fa-upload\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 45\n      }\n    }), \"   Ajouter photo\"), changed && __jsx(\"label\", {\n      className: \"Showmodal\",\n      onClick: handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 45\n      }\n    }, __jsx(\"i\", {\n      class: \"fa fa-user-times\",\n      style: {\n        color: '#be0000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 45\n      }\n    }))), __jsx(Modal, {\n      title: \"Image de profile\",\n      visible: visible,\n      onCancel: handleCancel,\n      footer: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 37\n      }\n    }, __jsx(\"img\", {\n      src: file,\n      width: \"100%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 41\n      }\n    }))), __jsx(\"div\", {\n      className: \"ProfileInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 33\n      }\n    }, data.type == \"Société\" && __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 41\n      }\n    }, data.companyname), data.type == \"Client\" && __jsx(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 41\n      }\n    }, data.nom, \" \", data.prenom))), __jsx(\"div\", {\n      className: \"fieldsContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"Row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 33\n      }\n    }, data.type == \"Société\" && __jsx(React.Fragment, null, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 41\n      }\n    }, \"Presentation\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 68\n      }\n    }), __jsx(\"textarea\", {\n      className: \"input\",\n      name: \"presentation\",\n      placeholder: \"D\\xE9crivez votre entreprise\",\n      rows: \"4\",\n      onChange: handleInputChnage,\n      value: data.presentation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 41\n      }\n    }), __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 41\n      }\n    }, \"Langues parl\\xE9s\"), __jsx(Select, {\n      mode: \"tags\",\n      style: {\n        width: '100%',\n        marginTop: '20px',\n        padding: '7px 4px',\n        borderRadius: '10px',\n        backgroundColor: '#e9f1fa'\n      },\n      placeholder: \"Ex: Francais , arabe ...\",\n      onChange: handleLang,\n      value: data.languages,\n      maxTagCount: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 41\n      }\n    }, children), __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 41\n      }\n    }, \"Dipl\\xF4me et formations\"), __jsx(\"div\", {\n      className: \"Diplomes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 41\n      }\n    }, DiplomeList.map((element, index) => __jsx(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 49\n      }\n    }, __jsx(\"input\", {\n      className: \"input diplome\",\n      type: \"text\",\n      name: \"diplomeName\",\n      placeholder: \"Votre Diplome\",\n      value: element.diplomeName,\n      onChange: e => dipChange(e, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 53\n      }\n    }), __jsx(\"input\", {\n      className: index !== 0 ? \"input desc2\" : \"input desc\",\n      type: \"text\",\n      name: \"desc\",\n      placeholder: \"Br\\xE8ve description\",\n      value: element.desc,\n      onChange: e => dipChange(e, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 53\n      }\n    }), index !== 0 && __jsx(\"label\", {\n      className: \"delete\",\n      onClick: () => handleRemoveClick(index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 57\n      }\n    }, __jsx(\"i\", {\n      class: \"fa fa-trash\",\n      \"aria-hidden\": \"true\",\n      style: {\n        color: '#be0000'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 61\n      }\n    })))), __jsx(\"div\", {\n      className: \"container \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 45\n      }\n    }, __jsx(\"button\", {\n      onClick: handleAddClick,\n      className: \"ajouter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 49\n      }\n    }, \"Ajouter\")))), data.type == \"Client\" && __jsx(React.Fragment, null, __jsx(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 41\n      }\n    }, \"A propos\"), __jsx(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 64\n      }\n    }), __jsx(\"textarea\", {\n      className: \"input\",\n      name: \"presentation\",\n      placeholder: \"Parlez-nous de vous (optionnel)\",\n      rows: \"4\",\n      onChange: handleInputChnage,\n      value: data.presentation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 41\n      }\n    }))))), __jsx(\"div\", {\n      className: \"Illustration\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 25\n      }\n    }, __jsx(Lottie, {\n      options: defaultOptions,\n      height: 500,\n      width: 500,\n      className: \"ill\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 29\n      }\n    }), __jsx(\"div\", {\n      className: \"buttonContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 29\n      }\n    }, __jsx(\"a\", {\n      className: \"later\",\n      href: \"/\",\n      style: {\n        textDecoration: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 33\n      }\n    }, \"later\"), __jsx(\"input\", {\n      className: \"SignButton next\",\n      type: \"submit\",\n      onClick: Onsubmit,\n      value: \"Suivant\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 33\n      }\n    })))))));\n  }\n};\n\nexport const getServerSideProps = async ctx => {\n  try {\n    const cookie = ctx.req.headers.cookie;\n    const url = \"http://localhost:9000/profiles/myprofile\";\n    const res = await fetch(url, {\n      headers: {\n        cookie\n      }\n    });\n    const statusCode = res.status;\n    const data = await res.json();\n\n    if (statusCode !== 200) {\n      throw statusCode;\n    }\n\n    return {\n      props: {\n        data\n      }\n    };\n  } catch (error) {\n    ctx.res.statusCode = error;\n    return {\n      props: {\n        statusCode: error\n      }\n    };\n  }\n};\nexport default Settings;","map":{"version":3,"sources":["C:/Users/Noumane agouzil/Desktop/Normane/My projects/PfeProject/Front-End/pages/Settings/index.js"],"names":["axios","Lottie","jwt","useState","useEffect","Progress","Spin","Select","Modal","animationData","errorData","loadingData","successData","Head","storage","Settings","props","Option","data","setData","DiplomeList","setDiplomeList","profile","diplome","percentage","setPrecentage","usrid","setId","DataState","setState","file","setFile","undefined","Usrimg","loading","setLoading","sendingData","setSend","filefirebase","setfire","visible","setvisible","changed","setchanged","location","setLocation","Fields","children","map","Field","push","showModal","handleCancel","firebaseUrl","Promise","resolve","reject","currentImageName","Date","now","uploadImage","ref","put","on","snapshot","per","Math","floor","bytesTransferred","totalBytes","error","child","getDownloadURL","then","url","imageData","statusCode","window","href","replace","_id","Onsubmit","OldData","imgData","console","log","post","withCredentials","response","status","catch","err","handleInputChnage","event","name","target","value","handleClick","URL","revokeObjectURL","handleChange","e","files","createObjectURL","alert","dipChange","index","list","handleAddClick","diplomeName","desc","handleRemoveClick","splice","handleLang","string","languages","defaultOptions","loop","autoplay","rendererSettings","preserveAspectRatio","LoadingOptions","ErrorOptions","DoneOptions","assign","cursor","color","type","companyname","nom","prenom","presentation","width","marginTop","padding","borderRadius","backgroundColor","element","textDecoration","getServerSideProps","ctx","cookie","req","headers","res","fetch","json"],"mappings":"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","sourcesContent":["// Dependencies -------------------\r\nimport axios from 'axios'\r\nimport Lottie from 'react-lottie' ;\r\nimport jwt from 'jsonwebtoken';\r\nimport {useState , useEffect} from 'react';\r\nimport { Progress , Spin , Select ,Modal } from 'antd';\r\n\r\n\r\n// File import ---------------------------------\r\nimport animationData from './Components/Anim.json';\r\nimport errorData from './Components/Error.json';\r\nimport loadingData from './Components/Loading.json'\r\nimport successData from './Components/Success.json';\r\nimport Head from '../../components/head';\r\nimport { storage } from './Components/firebase-config';\r\nimport '../../styles/ProfileSettings.scss';\r\nimport '../../styles/AutoComplete.scss';\r\n//---------------------------------\r\nconst Settings = (props)=>{\r\n    const { Option } = Select;\r\n    // States \r\n    const [data , setData] = useState();\r\n    const [DiplomeList , setDiplomeList] = useState(props.data.profile.diplome);\r\n    const [percentage , setPrecentage]= useState(0);\r\n    const [usrid , setId] = useState()\r\n    const [DataState , setState] = useState(null);\r\n    \r\n    const [file,setFile] = useState(data !== undefined ? data.Usrimg : '');\r\n    const [loading , setLoading] = useState(true); \r\n    const [sendingData , setSend] = useState(false);\r\n    const [filefirebase,setfire] = useState(null);\r\n    const [visible,setvisible] = useState(false);\r\n    const [changed,setchanged] = useState(false);\r\n    const [location , setLocation] = useState(\"/\");\r\n    const Fields = [\"Arabe\",\"Francais\",\"Anglais\",\"Spanish\"];\r\n    const children = [];\r\n    Fields.map(Field =>{\r\n        children.push(<Option key={Field}>{Field}</Option>);\r\n    })\r\n    // ----------------------------------------------\r\n\r\n    // Modal functions \r\n\r\n    const showModal   = () =>{\r\n        setvisible(true);\r\n    }\r\n\r\n    const handleCancel = () =>{\r\n        setvisible(false);\r\n    }\r\n\r\n\r\n    // Firebase url upload function \r\n    const firebaseUrl = (file) =>{\r\n        return new Promise((resolve,reject)=>{\r\n            let currentImageName = \"firebase-image-\" + Date.now();\r\n            let uploadImage = storage.ref(`images/${currentImageName}`).put(file);\r\n    \r\n            uploadImage.on('state_changed',\r\n                (snapshot) => {\r\n                    var per = Math.floor((snapshot.bytesTransferred / snapshot.totalBytes) * 100)\r\n                    setPrecentage(per);\r\n                 },\r\n                (error) => {\r\n                    reject(error);\r\n                },\r\n                () => {\r\n                    storage.ref('images').child(currentImageName).getDownloadURL().then(url => {\r\n                        const imageData = [url, currentImageName]\r\n                        resolve(imageData);\r\n                    })\r\n                })\r\n        })\r\n    } \r\n    // Hook getting called before the render \r\n    useEffect(()=>{\r\n        if (props.statusCode === 401) {\r\n            const location = \"/Auth/Signin/?ref=tokenexpired&location=\"+window.location.href;\r\n            window.location.replace(location);\r\n        }else{\r\n            setId(props.data.profile._id);\r\n            setData(props.data.profile);\r\n            setLoading(false);\r\n        }\r\n    },[])\r\n\r\n    // On submit ----------------------------------\r\n\r\n    const Onsubmit = async () =>{\r\n        setSend(true);\r\n        let OldData = data ;\r\n        OldData[\"diplome\"] = DiplomeList ;\r\n        setData(OldData);\r\n        if (filefirebase !== null) {\r\n            const imgData = await firebaseUrl(filefirebase);\r\n            setData(data.Usrimg = imgData[0]);\r\n        }else\r\n        {\r\n            setState(\"Loading\");\r\n        };\r\n        console.log(data);\r\n        const url = \"http://localhost:9000/profiles/update?userid=\" + usrid ;\r\n        await axios.post(url, data ,{withCredentials : true})\r\n        .then(response => {\r\n          if (response.status === 200) {\r\n            setState(\"done\");\r\n            // setTimeout(() => {\r\n            //     window.location.assign(location);\r\n            // }, 2000);\r\n          } else {\r\n            setState(\"error\");\r\n          }\r\n        })\r\n        .catch(err => {\r\n          setState(\"error\");\r\n          console.log(err);\r\n        }); \r\n    }\r\n\r\n    const handleInputChnage = (event)=>{\r\n        const  name = event.target.name ;\r\n        const  value = event.target.value ;\r\n        setData({...data ,[name] : value});\r\n    }\r\n    // ------------------------------------------------\r\n    // When click on delete picture \r\n    const handleClick = ()=>{\r\n        URL.revokeObjectURL(file);\r\n        setFile(data.Usrimg);\r\n        setchanged(false);\r\n        \r\n    }\r\n    // When change of image\r\n    const handleChange = (e)=>{\r\n        setchanged(true);\r\n        if (e.target.files[0] !== undefined) {\r\n            try {\r\n                setfire(e.target.files[0]);\r\n                const url =  URL.createObjectURL(e.target.files[0]);\r\n                setFile(url);\r\n            } catch (error) {\r\n                console.error(error);\r\n                alert(error);\r\n            } \r\n        }\r\n        \r\n        \r\n    }\r\n\r\n    const dipChange = (e,index) =>{\r\n        const { name, value } = e.target;\r\n        const list = [...DiplomeList];\r\n        list[index][name] = value;\r\n        setDiplomeList(list);\r\n    }\r\n    const handleAddClick = () => {\r\n        setDiplomeList([...DiplomeList, { diplomeName: \"\", desc: \"\" }]);\r\n      };\r\n      // handle click event of the Remove button\r\n    const handleRemoveClick = index => {\r\n        const list = [...DiplomeList];\r\n        list.splice(index, 1);\r\n        setDiplomeList(list);\r\n    };\r\n    // -----------------------------\r\n\r\n    // Languages handler \r\n    const handleLang = (value)=>{\r\n        const string = value ;\r\n        setData({...data , languages : string}); \r\n    }\r\n    // Lottie options \r\n    const defaultOptions = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData: animationData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: \"xMidYMid\",\r\n        },\r\n    };\r\n    const LoadingOptions = {\r\n        loop: true,\r\n        autoplay: true,\r\n        animationData: loadingData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: \"xMidYMid\",\r\n        },\r\n    };\r\n    const ErrorOptions = {\r\n        loop: false,\r\n        autoplay: true,\r\n        animationData: errorData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: \"xMidYMid\",\r\n        },\r\n    };\r\n    const DoneOptions = {\r\n        loop: false,\r\n        autoplay: true,\r\n        animationData: successData,\r\n        rendererSettings: {\r\n            preserveAspectRatio: \"xMidYMid\",\r\n        },\r\n    };\r\n    // ---------------------------------\r\n    if (loading) {\r\n        return(\r\n            <>\r\n                <Head title=\"Configurez votre profile | 6 Solutions\"/>\r\n                <div className=\"spincentered\" >\r\n                    <Spin size=\"large\" />\r\n                </div>\r\n                \r\n            </>\r\n        )\r\n    } else {\r\n        \r\n    return(\r\n        <div className=\"ConfigureProfile\">\r\n             <Head title=\"Configurez votre profile | 6 Solutions\"/>\r\n             <div className=\"HeaderContainer\" onClick={()=>window.location.assign(\"/\")} style={{cursor : 'pointer'}}>\r\n                 <div className=\"Header_Logo\">\r\n                     <img src=\"../static/Icons/LOGO2017.png\" height=\"30\" />\r\n                 </div>\r\n                 <div>\r\n                     {/* <span className=\"title\">Configurez votre profile</span> */}\r\n                 </div>\r\n                    \r\n                 <span>Help</span>\r\n              </div>\r\n             {sendingData && DataState === null &&(\r\n                 <div className=\"SendingData\">\r\n                            \r\n                            <Progress\r\n                            type=\"circle\"\r\n                            strokeColor={{\r\n                                '0%': '#00308F',\r\n                                '100%': '#7CB9E8',\r\n                            }}\r\n                            percent={percentage}\r\n                            />\r\n                        <h1>Veuillez patienter ... </h1>\r\n                        <p>Nous mettons à jour votre profil</p>\r\n                 </div>\r\n             )}\r\n             {sendingData && DataState === \"Loading\" &&(\r\n                 <div className=\"SendingData\">\r\n                            \r\n                            <Lottie\r\n                            options={LoadingOptions}\r\n                            height={200}\r\n                            width={200}\r\n                            />\r\n                            <h1>Veuillez patienter ... </h1>\r\n                            <p>Nous mettons à jour votre profil</p>\r\n                 </div>\r\n             )}\r\n             {sendingData && DataState == \"error\" &&(\r\n                 <div className=\"WrongData\">\r\n                            <Lottie\r\n                            options={ErrorOptions}\r\n                            height={200}\r\n                            width={200}\r\n                            />\r\n                        <h1>Veuillez réessayer plus tard</h1>\r\n                        <p>Une erreur s'est produite lors de la mise à jour</p>\r\n                 </div>\r\n             )}\r\n             {sendingData && DataState == \"done\" &&(\r\n                 <div className=\"SuccessData\">\r\n                            <Lottie\r\n                            options={DoneOptions}\r\n                            height={200}\r\n                            width={200}\r\n                            />\r\n                        <h1>Mise à jour du profil réussie</h1>\r\n                        <p>Vous serez bientôt redirigé</p>\r\n                 </div>\r\n             )}\r\n             {!sendingData &&(\r\n                 <>\r\n                \r\n                <div className=\"FlexContainer\">\r\n                    <div className=\"dataContainer\">\r\n                        <div className=\"formConfig\">\r\n                            <div className=\"form_Head\">\r\n                                <div className=\"ProfileImg\">\r\n                                    <img src={file} onClick={showModal} /><br/>\r\n                                    <div>\r\n                                        <label className=\"custom-file-upload\">\r\n                                            <input type=\"file\" id=\"img\" name=\"img\" placeholder=\"Choisissez photo\" accept=\"image/*\" onChange={handleChange}/>\r\n                                            <i className=\"fa fa-upload\" aria-hidden=\"true\"></i>   Ajouter photo\r\n                                        </label>\r\n                                        {changed &&(\r\n                                            <label className=\"Showmodal\" onClick={handleClick}>\r\n                                            <i class=\"fa fa-user-times\" style={{color : '#be0000'}}></i>\r\n                                            </label>\r\n                                        )}\r\n                                        \r\n                                    </div>\r\n                                    \r\n                                    <Modal\r\n                                        title=\"Image de profile\"\r\n                                        visible={visible}\r\n                                        onCancel={handleCancel}\r\n                                        footer={null}\r\n                                        >\r\n                                        <img src={file}  width=\"100%\"/>\r\n                                    </Modal>\r\n                                </div>\r\n                                <div className=\"ProfileInfo\">\r\n                                    {data.type == \"Société\" && (\r\n                                        <h3>{data.companyname}</h3>\r\n                                    )}\r\n\r\n                                    {data.type == \"Client\" && (\r\n                                        <h3>{data.nom} {data.prenom}</h3>\r\n                                    )}\r\n                                    \r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div className=\"fieldsContainer\">\r\n                                <div className=\"Row\">\r\n                                    {data.type == \"Société\" && (\r\n                                        <>\r\n                                        <label>Presentation</label><br/>\r\n                                        <textarea className=\"input\" name=\"presentation\" placeholder=\"Décrivez votre entreprise\" rows=\"4\" onChange={handleInputChnage} value={data.presentation}/>\r\n                                        <label>Langues parlés</label>\r\n                                        {/* <input  className=\"input\" name=\"languages\" placeholder=\"Ex: Francais , arabe ...\" type=\"text\" onChange={handleInputChnage} value={data.languages}/> */}\r\n                                        <Select mode=\"tags\" style={{ width: '100%', marginTop : '20px',padding : '7px 4px',borderRadius : '10px',backgroundColor: '#e9f1fa' }} placeholder=\"Ex: Francais , arabe ...\"\r\n                                        onChange ={handleLang} value={data.languages} maxTagCount={3} >\r\n                                            {children}\r\n                                        </Select>\r\n                                        <label>Diplôme et formations</label>\r\n                                        <div className=\"Diplomes\">\r\n                                            {DiplomeList.map((element, index) =>(\r\n                                                <div className=\"container\">\r\n                                                    <input className=\"input diplome\" type=\"text\" name=\"diplomeName\" placeholder=\"Votre Diplome\" value={element.diplomeName}  onChange={e => dipChange(e,index)}/>\r\n                                                    <input className={index !== 0 ?\"input desc2\":\"input desc\"} type=\"text\" name=\"desc\" placeholder=\"Brève description\" value={element.desc} onChange={e => dipChange(e,index)}/>\r\n                                                    {index !== 0 &&(\r\n                                                        <label className=\"delete\" onClick={() => handleRemoveClick(index)}>\r\n                                                            <i class=\"fa fa-trash\" aria-hidden=\"true\" style={{color : '#be0000'}}></i>\r\n                                                        </label>\r\n                                                        )}\r\n                                                </div>\r\n                                                \r\n                                            ))}\r\n                                            \r\n                                            <div className=\"container \">\r\n                                                <button onClick={handleAddClick} className=\"ajouter\">Ajouter</button>\r\n                                            </div>\r\n                                            \r\n                                        </div>\r\n                                        </>\r\n                                    )}\r\n                                    {data.type == \"Client\" && (\r\n                                        <>\r\n                                        <label>A propos</label><br/>\r\n                                        <textarea className=\"input\" name=\"presentation\" placeholder=\"Parlez-nous de vous (optionnel)\" rows=\"4\" onChange={handleInputChnage} value={data.presentation}/>\r\n                                        </>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"Illustration\">\r\n                            <Lottie\r\n                            options={defaultOptions}\r\n                            height={500}\r\n                            width={500}\r\n                            className=\"ill\"\r\n                            />\r\n                            <div className=\"buttonContainer\">\r\n                                <a className=\"later\" href=\"/\" style={{textDecoration : 'none'}}>later</a>\r\n                                <input\r\n                                className=\"SignButton next\"\r\n                                type=\"submit\"\r\n                                onClick={Onsubmit}\r\n                                value=\"Suivant\"\r\n                                />\r\n                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                </>\r\n             )}\r\n             \r\n             \r\n         </div>\r\n     )\r\n    }\r\n}\r\nexport const getServerSideProps = async (ctx) => {\r\n    try {\r\n        const cookie = ctx.req.headers.cookie ;\r\n        const url = \"http://localhost:9000/profiles/myprofile\" ;\r\n        const res = await fetch( url,{headers : {cookie}}); \r\n        const statusCode = res.status;\r\n        const data = await res.json();\r\n        \r\n        if (statusCode !== 200) {\r\n            throw statusCode \r\n        }\r\n        return  {\r\n            props : {data }\r\n        }\r\n    } \r\n    catch (error) {\r\n        ctx.res.statusCode = error;\r\n        return {\r\n               props : {statusCode : error}\r\n        };\r\n    }   \r\n}\r\nexport default Settings ;"]},"metadata":{},"sourceType":"module"}