_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{"/MOW":function(e,t,a){"use strict";var o=a("fB03"),n=a("I9/Z");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),s=o(a("UF9F")),l=o(a("KQxl")),i=function(e,t){return r.createElement(l.default,Object.assign({},e,{ref:t,icon:s.default}))};i.displayName="CloseCircleFilled";var c=r.forwardRef(i);t.default=c},"8lzZ":function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return h}));var o=a("q1tI"),n=a.n(o),r=a("ZHh6"),s=a("tXcZ"),l=a("aIN1"),i=a("W9HT"),c=(a("64p0"),a("sVM9")),u=a.n(c),f=a("tsqr"),d=a("2/Rp"),p=a("vDqi"),m=a.n(p),y=a("wd/R"),g=a.n(y),v=n.a.createElement,b=function(e){var t=e.profile,a=e.notif,r=e.all,s=Object(o.useState)(a.Message.length<150),l=s[0],i=s[1],c=Object(o.useState)(),p=c[0],y=c[1],b=Object(o.useState)(!0),S=b[0],N=b[1],h=g()(a.day).isSame(Date.now(),"day"),C=Object(o.useState)(""),w=C[0],_=C[1],F=Object(o.useState)(!1),x=F[0],A=F[1],$=Object(o.useState)(!1),M=$[0],k=$[1];g.a.locale("fr"),Object(o.useEffect)((function(){m.a.get("/api/profiles/profile?userid="+a.SenderId,{withCredentials:!0}).then((function(e){y(e.data.profile),N(!1)})).catch((function(e){return console.log(e)})),m.a.get("/api/profiles/viewedNot",{withCredentials:!0}).then((function(e){})).catch((function(e){return console.log(e)}))}),[]);if(S)return null;new Date;return v(n.a.Fragment,null,"Request"===a.Type&&v("div",{className:"NotifCard"},v("p",null,v("strong",{style:{color:"#0C72BF"}},"Ce client")," ","souhaite r\xe9server une r\xe9union Le"," ",v("strong",{style:{color:"#0C72BF"}},a.day," "),"a"," ",v("strong",{style:{color:"#0C72BF"}},a.horraire)),v("div",{className:"Card_Head"},v("div",{className:"ProfileImg"},v("img",{src:p.Usrimg})),v("div",{className:"ProfileInfo"},v("a",{href:"/Profiles/"+a.SenderId,className:"profileLink"},v("h3",null,void 0===p.companyname||""===p.companyname?p.nom+" "+p.prenom:p.companyname)))),v("div",{className:"Card_Body"},v("h3",null,"Message"),v("p",null,""===a.Message&&"Cet utilisateur n'a fourni aucun message",l?a.Message:a.Message.substr(0,150),l?"":v("span",{className:"more",onClick:function(){return i(!0)}},"Voir plus"))),v("div",{className:"Card_footer"},null===a.AcceptStatus&&v(n.a.Fragment,null,v("button",{className:"Accepter",onClick:function(){k(!0),_("accepted")}},"Accepter"),v("button",{className:"Refuser",onClick:function(){k(!0),_("refused")}},"Refuser")),!0===a.AcceptStatus&&v("div",null,v("label",{style:{color:"#02C39A"}},v("i",{style:{marginRight:"5px"},className:"fa fa-check","aria-hidden":"true"}),"Accept\xe9")),!1===a.AcceptStatus&&v(n.a.Fragment,null,v("label",{style:{color:"#CF0004"}},v("i",{className:"fa fa-times","aria-hidden":"true",style:{marginRight:"5px"}}),"Refus\xe9"))),v("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column"}},v("span",{style:{fontFamily:"GlacialRegular",color:"#006d77",padding:"8px 15px"}},g()(a.date).fromNow()),!h&&!0===a.AcceptStatus&&v(n.a.Fragment,null,v("label",{className:"cancel",onClick:function(){k(!0),_("canceled")}},"Annuler la r\xe9union"))),v(u.a,{visible:M,width:"20vw",onCancel:function(){return k(!1)},footer:[v(d.a,{disabled:!1,key:"submit",type:"primary",loading:x,style:{borderRadius:"10px",fontFamily:"GlacialBold"},onClick:function(){A(!0),"accepted"===w&&(a.AcceptStatus=!0),("refused"===w||"canceled"===w)&&(a.AcceptStatus=!1),!1===a.AcceptStatus&&r.splice(r.indexOf(a)),!1===a.AcceptStatus&&t.booked[a.day].splice(t.booked[a.day].indexOf(a.horraire),1);var e={Notification:r,booked:t.booked};m.a.post("/api/profiles/updatebook",e,{withCredentials:!0}).then((function(e){})).catch((function(e){return console.log(e)}));var o={Notification:{Type:"Response",Message:"Request "+w,horraire:a.horraire,day:a.day,AcceptStatus:"accepted"===w}};m.a.post("/api/profiles/bookmeeting?userid="+a.SenderId,o,{withCredentials:!0}).then((function(e){A(!1),k(!1),f.b.success("mise \xe0 jour effectu\xe9e avec succ\xe8s")})).catch((function(e){return console.log(e)}))}},"Je suis s\xfbr !")]},v("h3",null,"\xcates-vous s\xfbr de vouloir ","accepted"===w?"accepter":"refuser"," cette demande?"))),"Response"===a.Type&&a.AcceptStatus&&v("div",{className:"NotifCard"},v("div",{className:"Card_Head"},v("div",{className:"ProfileImg"},v("img",{src:p.Usrimg}))),v("p",{style:{color:"#02C39A"}},v("strong",{style:{fontFamily:"GlacialBold"}},v("a",{href:"/Profiles/"+a.SenderId,className:"profileLink",style:{color:"#02C39A"}},p.companyname))," ","a accept\xe9 votre demande"," "),v("div",{className:"Card_Body"},v("p",{style:{color:"#2a2a2a",fontSize:"15px"}},"Votre rendez-vous est pr\xe9vue"," ",v("strong",{style:{fontFamily:"GlacialBold"}},a.day)," ","a"," ",v("strong",{style:{fontFamily:"GlacialBold"}},a.horraire))),v("span",{style:{fontFamily:"GlacialRegular",color:"#006d77"}},g()(a.date).fromNow())),"Response"===a.Type&&!a.AcceptStatus&&v("div",{className:"NotifCard"},v("div",{className:"Card_Head"},v("div",{className:"ProfileImg"},v("img",{src:p.Usrimg}))),v("p",{style:{color:"#CF0004"}},v("strong",{style:{fontFamily:"GlacialBold"}},v("a",{href:"/Profiles/"+a.SenderId,className:"profileLink",style:{color:"#CF0004"}},p.companyname))," ","Request canceled"===a.Message?"a annul\xe9 la r\xe9union ":"a refus\xe9 votre demande "),v("div",{className:"Card_Body"},v("p",{style:{color:"#2a2a2a",fontSize:"15px"}},"Cette entreprise ne peut pas vous rencontrer Le"," ",v("strong",{style:{fontFamily:"GlacialBold"}},a.day)," ","a"," ",v("strong",{style:{fontFamily:"GlacialBold"}},a.horraire)," essayez une autre date .")),v("span",{style:{fontFamily:"GlacialRegular",color:"#006d77"}},g()(a.date).fromNow())))},S=a("2lEd"),N=n.a.createElement,h=!0;t.default=function(e){var t=Object(o.useState)(!0),a=t[0],c=t[1],u=Object(o.useState)(),f=u[0],d=u[1];Object(o.useEffect)((function(){if(401===e.statusCode){var t="/Auth/Signin/?ref=tokenexpired&location="+window.location.href;window.location.replace(t)}else d(e.data.profile),c(!1)}),[]);var p=void 0===f?"":f.Notification;return""!==p&&p.sort((function(e,t){var a=g()(e.date);return g()(t.date).diff(a)})),a?N(n.a.Fragment,null,N(s.a,{title:"Loading"}),N("div",{style:{position:"fixed",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"}},N(i.a,{size:"large"}))):N(n.a.Fragment,null,N("div",{className:"body"},N(r.a,null),N(s.a,{title:"Notifications | 6Solutions"}),N("div",{className:"NotifBody"},N("div",{className:"NotTitle"},N("span",{className:"icon-button"},N(S.a,null)),N("h1",{className:"NotifHeader"},"Notifications")),N("div",{className:"NotifContainer"},p.map((function(e){return g()(e.day).isAfter(Date.now())||g()(e.day).isSame(Date.now(),"day")?N(b,{profile:f,key:e.SenderId,notif:e,all:p}):""}))),0===p.length&&N("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"},className:"nonot"},N("img",{src:"../../static/Assets/box.png"}),N("div",{style:{textAlign:"center"}},N("h2",null,"Pas encore de notifications"),N("p",{style:{color:"#24292E"}},"Allez r\xe9server des r\xe9unions."))))),N(l.a,null))}},TOwV:function(e,t,a){"use strict";e.exports=a("qT12")},UF9F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"}},Zm9Q:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var o=a("q1tI"),n=a.n(o),r=a("TOwV");function s(e){var t=[];return n.a.Children.forEach(e,(function(e){void 0!==e&&null!==e&&(Array.isArray(e)?t=t.concat(s(e)):Object(r.isFragment)(e)&&e.props?t=t.concat(s(e.props.children)):t.push(e))})),t}},kbBi:function(e,t,a){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(o=a("/MOW"))&&o.__esModule?o:{default:o};t.default=n,e.exports=n},qT12:function(e,t,a){"use strict";var o="function"===typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,r=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,i=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,u=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.async_mode"):60111,d=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,y=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116,b=o?Symbol.for("react.block"):60121,S=o?Symbol.for("react.fundamental"):60117,N=o?Symbol.for("react.responder"):60118,h=o?Symbol.for("react.scope"):60119;function C(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case f:case d:case s:case i:case l:case m:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case g:case c:return e;default:return t}}case r:return t}}}function w(e){return C(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=n,t.ForwardRef=p,t.Fragment=s,t.Lazy=v,t.Memo=g,t.Portal=r,t.Profiler=i,t.StrictMode=l,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||C(e)===f},t.isConcurrentMode=w,t.isContextConsumer=function(e){return C(e)===u},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return C(e)===p},t.isFragment=function(e){return C(e)===s},t.isLazy=function(e){return C(e)===v},t.isMemo=function(e){return C(e)===g},t.isPortal=function(e){return C(e)===r},t.isProfiler=function(e){return C(e)===i},t.isStrictMode=function(e){return C(e)===l},t.isSuspense=function(e){return C(e)===m},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===i||e===l||e===m||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===S||e.$$typeof===N||e.$$typeof===h||e.$$typeof===b)},t.typeOf=C},u9xB:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Notifications",function(){return a("8lzZ")}])}},[["u9xB",0,1,12,2,6,5,4,7,9,11,14,3]]]);